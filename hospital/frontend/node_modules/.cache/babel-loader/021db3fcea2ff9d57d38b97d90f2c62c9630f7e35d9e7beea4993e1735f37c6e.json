{"ast":null,"code":"import patientAPI from '@/api/patient';\nimport doctorAPI from '@/api/doctor';\nimport request from '@/api/request';\nexport default {\n  name: 'UserManagement',\n  data() {\n    return {\n      // 用户列表数据\n      users: [],\n      filteredUsers: [],\n      loading: false,\n      // 搜索和筛选条件\n      searchKeyword: '',\n      selectedRole: '',\n      selectedStatus: '',\n      // 分页信息\n      currentPage: 1,\n      pageSize: 10,\n      // 选中的用户\n      selectedUsers: [],\n      // 用户管理专用API\n      userAPI: {\n        // 获取所有用户（管理员视角）\n        getAllUsers: () => {\n          return request({\n            url: '/users',\n            method: 'get'\n          });\n        },\n        // 添加用户\n        addUser: userData => {\n          return request({\n            url: '/users',\n            method: 'post',\n            data: userData\n          });\n        },\n        // 更新用户\n        updateUser: (userId, userData) => {\n          return request({\n            url: `/users/${userId}`,\n            method: 'put',\n            data: userData\n          });\n        },\n        // 删除用户\n        deleteUser: userId => {\n          return request({\n            url: `/users/${userId}`,\n            method: 'delete'\n          });\n        },\n        // 更新用户状态\n        updateUserStatus: (userId, status) => {\n          return request({\n            url: `/users/${userId}/status`,\n            method: 'put',\n            data: {\n              status: status\n            }\n          });\n        },\n        // 重置密码\n        resetPassword: userId => {\n          return request({\n            url: `/users/${userId}/reset-password`,\n            method: 'put'\n          });\n        }\n      },\n      // 添加用户对话框\n      addUserDialogVisible: false,\n      addUserForm: {\n        username: '',\n        realName: '',\n        phone: '',\n        email: '',\n        role: 'PATIENT',\n        password: ''\n      },\n      addUserRules: {\n        username: [{\n          required: true,\n          message: '请输入用户名',\n          trigger: 'blur'\n        }, {\n          min: 3,\n          max: 20,\n          message: '用户名长度在 3 到 20 个字符',\n          trigger: 'blur'\n        }],\n        realName: [{\n          required: true,\n          message: '请输入真实姓名',\n          trigger: 'blur'\n        }],\n        phone: [{\n          required: true,\n          message: '请输入手机号',\n          trigger: 'blur'\n        }, {\n          pattern: /^1[3-9]\\d{9}$/,\n          message: '请输入正确的手机号格式',\n          trigger: 'blur'\n        }],\n        email: [{\n          required: true,\n          message: '请输入邮箱',\n          trigger: 'blur'\n        }, {\n          type: 'email',\n          message: '请输入正确的邮箱格式',\n          trigger: 'blur'\n        }],\n        role: [{\n          required: true,\n          message: '请选择用户角色',\n          trigger: 'change'\n        }],\n        password: [{\n          required: true,\n          message: '请输入初始密码',\n          trigger: 'blur'\n        }, {\n          min: 6,\n          message: '密码长度不能少于 6 个字符',\n          trigger: 'blur'\n        }]\n      },\n      // 编辑用户对话框\n      editUserDialogVisible: false,\n      editUserForm: {\n        id: '',\n        username: '',\n        realName: '',\n        phone: '',\n        email: '',\n        role: ''\n      },\n      editUserRules: {\n        realName: [{\n          required: true,\n          message: '请输入真实姓名',\n          trigger: 'blur'\n        }],\n        phone: [{\n          required: true,\n          message: '请输入手机号',\n          trigger: 'blur'\n        }, {\n          pattern: /^1[3-9]\\d{9}$/,\n          message: '请输入正确的手机号格式',\n          trigger: 'blur'\n        }],\n        email: [{\n          required: true,\n          message: '请输入邮箱',\n          trigger: 'blur'\n        }, {\n          type: 'email',\n          message: '请输入正确的邮箱格式',\n          trigger: 'blur'\n        }],\n        role: [{\n          required: true,\n          message: '请选择用户角色',\n          trigger: 'change'\n        }]\n      }\n    };\n  },\n  mounted() {\n    this.fetchUsers();\n  },\n  computed: {\n    // 分页后的用户列表\n    paginatedUsers() {\n      const start = (this.currentPage - 1) * this.pageSize;\n      const end = start + this.pageSize;\n      return this.filteredUsers.slice(start, end);\n    }\n  },\n  methods: {\n    // 获取用户列表\n    async fetchUsers() {\n      this.loading = true;\n      try {\n        // 尝试获取所有用户（管理员视角）\n        try {\n          const response = await this.userAPI.getAllUsers();\n          if (response.data && response.data.length > 0) {\n            this.users = response.data.map(user => ({\n              ...user,\n              role: user.role || 'UNKNOWN'\n            }));\n          } else {\n            // 如果没有统一的用户API，尝试从不同模块获取\n            await this.fetchUsersFromModules();\n          }\n        } catch (error) {\n          console.log('统一用户API不可用，尝试从不同模块获取数据');\n          await this.fetchUsersFromModules();\n        }\n        this.filteredUsers = [...this.users];\n      } catch (error) {\n        console.error('获取用户列表失败:', error);\n        this.$message.error('获取用户列表失败');\n        // 失败时使用空列表\n        this.users = [];\n        this.filteredUsers = [];\n      } finally {\n        this.loading = false;\n      }\n    },\n    // 从不同模块获取用户数据\n    async fetchUsersFromModules() {\n      try {\n        // 并行获取患者和医生数据\n        const [patientsRes, doctorsRes] = await Promise.all([patientAPI.getAllPatients(), doctorAPI.getAllDoctors()]);\n\n        // 处理患者数据\n        const patients = patientsRes.data ? patientsRes.data.map(p => ({\n          id: p.id,\n          username: p.username || `patient${p.id}`,\n          realName: p.realName || p.name,\n          phone: p.phone || '',\n          email: p.email || '',\n          role: 'PATIENT',\n          status: p.status !== undefined ? p.status : 1,\n          createTime: p.createTime || new Date().toISOString()\n        })) : [];\n\n        // 处理医生数据\n        const doctors = doctorsRes.data ? doctorsRes.data.map(d => ({\n          id: d.id,\n          username: d.username || `doctor${d.id}`,\n          realName: d.realName || d.name,\n          phone: d.phone || '',\n          email: d.email || '',\n          role: 'DOCTOR',\n          status: d.status !== undefined ? d.status : 1,\n          createTime: d.createTime || new Date().toISOString()\n        })) : [];\n\n        // 添加管理员账户（模拟）\n        const adminUser = {\n          id: 1,\n          username: 'admin',\n          realName: '管理员',\n          phone: '13800138000',\n          email: 'admin@hospital.com',\n          role: 'ADMIN',\n          status: 1,\n          createTime: '2023-01-01 00:00:00'\n        };\n\n        // 合并所有用户数据\n        this.users = [adminUser, ...patients, ...doctors];\n      } catch (error) {\n        console.error('从模块获取用户数据失败:', error);\n        throw error;\n      }\n    },\n    // 搜索用户\n    handleSearch() {\n      let results = [...this.users];\n\n      // 根据关键词搜索\n      if (this.searchKeyword) {\n        const keyword = this.searchKeyword.toLowerCase();\n        results = results.filter(user => user.username.toLowerCase().includes(keyword) || user.realName.toLowerCase().includes(keyword) || user.phone.includes(keyword));\n      }\n\n      // 根据角色筛选\n      if (this.selectedRole) {\n        results = results.filter(user => user.role === this.selectedRole);\n      }\n\n      // 根据状态筛选\n      if (this.selectedStatus !== '') {\n        results = results.filter(user => user.status === parseInt(this.selectedStatus));\n      }\n      this.filteredUsers = results;\n      this.currentPage = 1; // 重置到第一页\n    },\n    // 获取角色名称\n    getRoleName(role) {\n      const roleMap = {\n        'PATIENT': '患者',\n        'DOCTOR': '医生',\n        'ADMIN': '管理员'\n      };\n      return roleMap[role] || role;\n    },\n    // 获取角色标签类型\n    getRoleType(role) {\n      const typeMap = {\n        'PATIENT': 'primary',\n        'DOCTOR': 'success',\n        'ADMIN': 'danger'\n      };\n      return typeMap[role] || 'info';\n    },\n    // 格式化日期\n    formatDate(dateString) {\n      if (!dateString) return '';\n      const date = new Date(dateString);\n      return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}:${date.getSeconds().toString().padStart(2, '0')}`;\n    },\n    // 显示添加用户对话框\n    showAddUserDialog() {\n      this.resetAddUserForm();\n      this.addUserDialogVisible = true;\n    },\n    // 重置添加用户表单\n    resetAddUserForm() {\n      this.addUserForm = {\n        username: '',\n        realName: '',\n        phone: '',\n        email: '',\n        role: 'PATIENT',\n        password: ''\n      };\n      this.$refs.addUserForm && this.$refs.addUserForm.resetFields();\n    },\n    // 提交添加用户\n    submitAddUser() {\n      this.$refs.addUserForm.validate(valid => {\n        if (valid) {\n          // 这里应该是API调用，现在使用模拟数据\n          const newUser = {\n            id: this.users.length + 1,\n            ...this.addUserForm,\n            status: 1,\n            createTime: new Date().toISOString().replace('T', ' ').substring(0, 19)\n          };\n          this.users.unshift(newUser);\n          this.handleSearch(); // 重新搜索以更新列表\n          this.addUserDialogVisible = false;\n          this.$message.success('用户添加成功');\n        }\n      });\n    },\n    // 显示编辑用户对话框\n    showEditUserDialog(user) {\n      this.editUserForm = {\n        ...user\n      };\n      this.editUserDialogVisible = true;\n    },\n    // 提交编辑用户\n    submitEditUser() {\n      this.$refs.editUserForm.validate(valid => {\n        if (valid) {\n          // 这里应该是API调用，现在使用模拟数据\n          const index = this.users.findIndex(u => u.id === this.editUserForm.id);\n          if (index !== -1) {\n            this.users[index] = {\n              ...this.users[index],\n              ...this.editUserForm\n            };\n            this.handleSearch(); // 重新搜索以更新列表\n            this.editUserDialogVisible = false;\n            this.$message.success('用户更新成功');\n          }\n        }\n      });\n    },\n    // 更新用户状态\n    updateUserStatus(user) {\n      // 这里应该是API调用，现在只是更新本地数据\n      this.$message.success(`用户状态已更新为${user.status ? '启用' : '禁用'}`);\n    },\n    // 删除用户\n    deleteUser(user) {\n      this.$confirm(`确定要删除用户「${user.realName}」吗？`, '删除确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 这里应该是API调用，现在只是更新本地数据\n        const index = this.users.findIndex(u => u.id === user.id);\n        if (index !== -1) {\n          this.users.splice(index, 1);\n          this.handleSearch(); // 重新搜索以更新列表\n          this.$message.success('用户删除成功');\n        }\n      }).catch(() => {\n        // 取消删除\n      });\n    },\n    // 重置密码\n    resetPassword(user) {\n      this.$confirm(`确定要重置用户「${user.realName}」的密码吗？`, '重置确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 这里应该是API调用，现在只是提示\n        this.$message.success(`用户「${user.realName}」的密码已重置为：123456`);\n      }).catch(() => {\n        // 取消重置\n      });\n    },\n    // 批量删除用户\n    batchDeleteUsers() {\n      if (this.selectedUsers.some(user => user.role === 'ADMIN')) {\n        this.$message.warning('不能删除管理员用户');\n        return;\n      }\n      const userNames = this.selectedUsers.map(u => u.realName).join('、');\n      this.$confirm(`确定要删除以下用户吗？\\n${userNames}`, '批量删除确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 这里应该是API调用，现在只是更新本地数据\n        const idsToDelete = this.selectedUsers.map(u => u.id);\n        this.users = this.users.filter(u => !idsToDelete.includes(u.id));\n        this.handleSearch(); // 重新搜索以更新列表\n        this.selectedUsers = [];\n        this.$message.success('批量删除成功');\n      }).catch(() => {\n        // 取消删除\n      });\n    },\n    // 批量启用用户\n    batchEnableUsers() {\n      // 这里应该是API调用，现在只是更新本地数据\n      this.selectedUsers.forEach(user => {\n        user.status = 1;\n      });\n      this.selectedUsers = [];\n      this.$message.success('批量启用成功');\n    },\n    // 批量禁用用户\n    batchDisableUsers() {\n      if (this.selectedUsers.some(user => user.role === 'ADMIN')) {\n        this.$message.warning('不能禁用管理员用户');\n        return;\n      }\n\n      // 这里应该是API调用，现在只是更新本地数据\n      this.selectedUsers.forEach(user => {\n        user.status = 0;\n      });\n      this.selectedUsers = [];\n      this.$message.success('批量禁用成功');\n    },\n    // 清空选择\n    clearSelection() {\n      this.$refs.userTable && this.$refs.userTable.clearSelection();\n      this.selectedUsers = [];\n    },\n    // 分页大小变化\n    handleSizeChange(val) {\n      this.pageSize = val;\n    },\n    // 当前页码变化\n    handleCurrentChange(val) {\n      this.currentPage = val;\n    },\n    // 多选变化\n    handleSelectionChange(selection) {\n      this.selectedUsers = selection;\n    }\n  }\n};","map":{"version":3,"names":["patientAPI","doctorAPI","request","name","data","users","filteredUsers","loading","searchKeyword","selectedRole","selectedStatus","currentPage","pageSize","selectedUsers","userAPI","getAllUsers","url","method","addUser","userData","updateUser","userId","deleteUser","updateUserStatus","status","resetPassword","addUserDialogVisible","addUserForm","username","realName","phone","email","role","password","addUserRules","required","message","trigger","min","max","pattern","type","editUserDialogVisible","editUserForm","id","editUserRules","mounted","fetchUsers","computed","paginatedUsers","start","end","slice","methods","response","length","map","user","fetchUsersFromModules","error","console","log","$message","patientsRes","doctorsRes","Promise","all","getAllPatients","getAllDoctors","patients","p","undefined","createTime","Date","toISOString","doctors","d","adminUser","handleSearch","results","keyword","toLowerCase","filter","includes","parseInt","getRoleName","roleMap","getRoleType","typeMap","formatDate","dateString","date","getFullYear","getMonth","toString","padStart","getDate","getHours","getMinutes","getSeconds","showAddUserDialog","resetAddUserForm","$refs","resetFields","submitAddUser","validate","valid","newUser","replace","substring","unshift","success","showEditUserDialog","submitEditUser","index","findIndex","u","$confirm","confirmButtonText","cancelButtonText","then","splice","catch","batchDeleteUsers","some","warning","userNames","join","idsToDelete","batchEnableUsers","forEach","batchDisableUsers","clearSelection","userTable","handleSizeChange","val","handleCurrentChange","handleSelectionChange","selection"],"sources":["src/views/admin/UserManagement.vue"],"sourcesContent":["<template>\n  <div class=\"user-management\">\n    <div class=\"management-header\">\n      <h2>用户管理</h2>\n      <el-button type=\"primary\" @click=\"showAddUserDialog\">\n        <i class=\"el-icon-plus\"></i> 添加用户\n      </el-button>\n    </div>\n\n    <!-- 搜索和筛选 -->\n    <div class=\"search-filter\">\n      <el-input\n        v-model=\"searchKeyword\"\n        placeholder=\"搜索用户名、姓名或手机号\"\n        prefix-icon=\"el-icon-search\"\n        clearable\n        @input=\"handleSearch\"\n        style=\"width: 300px; margin-right: 15px;\"\n      ></el-input>\n      \n      <el-select\n        v-model=\"selectedRole\"\n        placeholder=\"选择用户角色\"\n        clearable\n        @change=\"handleSearch\"\n        style=\"width: 150px; margin-right: 15px;\"\n      >\n        <el-option label=\"患者\" value=\"PATIENT\"></el-option>\n        <el-option label=\"医生\" value=\"DOCTOR\"></el-option>\n        <el-option label=\"管理员\" value=\"ADMIN\"></el-option>\n      </el-select>\n      \n      <el-select\n        v-model=\"selectedStatus\"\n        placeholder=\"选择用户状态\"\n        clearable\n        @change=\"handleSearch\"\n        style=\"width: 150px;\"\n      >\n        <el-option label=\"启用\" :value=\"1\"></el-option>\n        <el-option label=\"禁用\" :value=\"0\"></el-option>\n      </el-select>\n    </div>\n\n    <!-- 用户列表 -->\n    <div class=\"user-list\">\n      <el-table\n        :data=\"filteredUsers\"\n        style=\"width: 100%\"\n        stripe\n        border\n        v-loading=\"loading\"\n        element-loading-text=\"加载中...\"\n        ref=\"userTable\"\n        @selection-change=\"handleSelectionChange\"\n      >\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n        <el-table-column prop=\"id\" label=\"用户ID\" width=\"80\"></el-table-column>\n        <el-table-column prop=\"username\" label=\"用户名\"></el-table-column>\n        <el-table-column prop=\"realName\" label=\"真实姓名\"></el-table-column>\n        <el-table-column prop=\"phone\" label=\"手机号\"></el-table-column>\n        <el-table-column prop=\"email\" label=\"邮箱\" show-overflow-tooltip></el-table-column>\n        <el-table-column prop=\"role\" label=\"角色\">\n          <template slot-scope=\"scope\">\n            <el-tag :type=\"getRoleType(scope.row.role)\">\n              {{ getRoleName(scope.row.role) }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"status\" label=\"状态\">\n          <template slot-scope=\"scope\">\n            <el-switch\n              v-model=\"scope.row.status\"\n              active-color=\"#67c23a\"\n              inactive-color=\"#909399\"\n              @change=\"updateUserStatus(scope.row)\"\n            ></el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"180\">\n          <template slot-scope=\"scope\">\n            {{ formatDate(scope.row.createTime) }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"180\" fixed=\"right\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" size=\"small\" @click=\"showEditUserDialog(scope.row)\">\n              编辑\n            </el-button>\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"deleteUser(scope.row)\"\n              v-if=\"scope.row.role !== 'ADMIN'\"\n              style=\"color: #f56c6c;\"\n            >\n              删除\n            </el-button>\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"resetPassword(scope.row)\"\n              v-if=\"scope.row.role !== 'ADMIN'\"\n            >\n              重置密码\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 分页 -->\n      <div class=\"pagination\">\n        <el-pagination\n          background\n          layout=\"prev, pager, next, jumper, sizes, total\"\n          :total=\"filteredUsers.length\"\n          :page-size.sync=\"pageSize\"\n          :current-page.sync=\"currentPage\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n        ></el-pagination>\n      </div>\n    </div>\n\n    <!-- 添加用户对话框 -->\n    <el-dialog\n      title=\"添加用户\"\n      :visible.sync=\"addUserDialogVisible\"\n      width=\"500px\"\n      @close=\"resetAddUserForm\"\n    >\n      <el-form\n        :model=\"addUserForm\"\n        :rules=\"addUserRules\"\n        ref=\"addUserForm\"\n        label-width=\"100px\"\n      >\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"addUserForm.username\" placeholder=\"请输入用户名\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"真实姓名\" prop=\"realName\">\n          <el-input v-model=\"addUserForm.realName\" placeholder=\"请输入真实姓名\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"手机号\" prop=\"phone\">\n          <el-input v-model=\"addUserForm.phone\" placeholder=\"请输入手机号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"addUserForm.email\" placeholder=\"请输入邮箱\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"用户角色\" prop=\"role\">\n          <el-select v-model=\"addUserForm.role\" placeholder=\"请选择用户角色\">\n            <el-option label=\"患者\" value=\"PATIENT\"></el-option>\n            <el-option label=\"医生\" value=\"DOCTOR\"></el-option>\n            <el-option label=\"管理员\" value=\"ADMIN\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"初始密码\" prop=\"password\">\n          <el-input\n            v-model=\"addUserForm.password\"\n            type=\"password\"\n            placeholder=\"请输入初始密码\"\n          ></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addUserDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitAddUser\">确定</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 编辑用户对话框 -->\n    <el-dialog\n      title=\"编辑用户\"\n      :visible.sync=\"editUserDialogVisible\"\n      width=\"500px\"\n    >\n      <el-form\n        :model=\"editUserForm\"\n        :rules=\"editUserRules\"\n        ref=\"editUserForm\"\n        label-width=\"100px\"\n      >\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"editUserForm.username\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"真实姓名\" prop=\"realName\">\n          <el-input v-model=\"editUserForm.realName\" placeholder=\"请输入真实姓名\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"手机号\" prop=\"phone\">\n          <el-input v-model=\"editUserForm.phone\" placeholder=\"请输入手机号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"邮箱\" prop=\"email\">\n          <el-input v-model=\"editUserForm.email\" placeholder=\"请输入邮箱\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"用户角色\" prop=\"role\" v-if=\"editUserForm.role !== 'ADMIN'\">\n          <el-select v-model=\"editUserForm.role\" placeholder=\"请选择用户角色\">\n            <el-option label=\"患者\" value=\"PATIENT\"></el-option>\n            <el-option label=\"医生\" value=\"DOCTOR\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"用户角色\" v-else>\n          <el-input :value=\"getRoleName(editUserForm.role)\" disabled></el-input>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editUserDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitEditUser\">确定</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 批量操作 -->\n    <div class=\"batch-operations\" v-if=\"selectedUsers.length > 0\">\n      <el-tag>\n        已选择 {{ selectedUsers.length }} 项\n      </el-tag>\n      <el-button\n        type=\"danger\"\n        size=\"small\"\n        @click=\"batchDeleteUsers\"\n        :disabled=\"selectedUsers.some(user => user.role === 'ADMIN')\"\n      >\n        批量删除\n      </el-button>\n      <el-button\n        type=\"warning\"\n        size=\"small\"\n        @click=\"batchEnableUsers\"\n      >\n        批量启用\n      </el-button>\n      <el-button\n        type=\"warning\"\n        size=\"small\"\n        @click=\"batchDisableUsers\"\n      >\n        批量禁用\n      </el-button>\n      <el-button size=\"small\" @click=\"clearSelection\">清空选择</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport patientAPI from '@/api/patient'\nimport doctorAPI from '@/api/doctor'\nimport request from '@/api/request'\n\nexport default {\n  name: 'UserManagement',\n  data() {\n    return {\n      // 用户列表数据\n      users: [],\n      filteredUsers: [],\n      loading: false,\n      \n      // 搜索和筛选条件\n      searchKeyword: '',\n      selectedRole: '',\n      selectedStatus: '',\n      \n      // 分页信息\n      currentPage: 1,\n      pageSize: 10,\n      \n      // 选中的用户\n      selectedUsers: [],\n      // 用户管理专用API\n      userAPI: {\n        // 获取所有用户（管理员视角）\n        getAllUsers: () => {\n          return request({\n            url: '/users',\n            method: 'get'\n          })\n        },\n        // 添加用户\n        addUser: (userData) => {\n          return request({\n            url: '/users',\n            method: 'post',\n            data: userData\n          })\n        },\n        // 更新用户\n        updateUser: (userId, userData) => {\n          return request({\n            url: `/users/${userId}`,\n            method: 'put',\n            data: userData\n          })\n        },\n        // 删除用户\n        deleteUser: (userId) => {\n          return request({\n            url: `/users/${userId}`,\n            method: 'delete'\n          })\n        },\n        // 更新用户状态\n        updateUserStatus: (userId, status) => {\n          return request({\n            url: `/users/${userId}/status`,\n            method: 'put',\n            data: { status: status }\n          })\n        },\n        // 重置密码\n        resetPassword: (userId) => {\n          return request({\n            url: `/users/${userId}/reset-password`,\n            method: 'put'\n          })\n        }\n      },\n      \n      // 添加用户对话框\n      addUserDialogVisible: false,\n      addUserForm: {\n        username: '',\n        realName: '',\n        phone: '',\n        email: '',\n        role: 'PATIENT',\n        password: ''\n      },\n      addUserRules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          { min: 3, max: 20, message: '用户名长度在 3 到 20 个字符', trigger: 'blur' }\n        ],\n        realName: [\n          { required: true, message: '请输入真实姓名', trigger: 'blur' }\n        ],\n        phone: [\n          { required: true, message: '请输入手机号', trigger: 'blur' },\n          { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号格式', trigger: 'blur' }\n        ],\n        email: [\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\n          { type: 'email', message: '请输入正确的邮箱格式', trigger: 'blur' }\n        ],\n        role: [\n          { required: true, message: '请选择用户角色', trigger: 'change' }\n        ],\n        password: [\n          { required: true, message: '请输入初始密码', trigger: 'blur' },\n          { min: 6, message: '密码长度不能少于 6 个字符', trigger: 'blur' }\n        ]\n      },\n      \n      // 编辑用户对话框\n      editUserDialogVisible: false,\n      editUserForm: {\n        id: '',\n        username: '',\n        realName: '',\n        phone: '',\n        email: '',\n        role: ''\n      },\n      editUserRules: {\n        realName: [\n          { required: true, message: '请输入真实姓名', trigger: 'blur' }\n        ],\n        phone: [\n          { required: true, message: '请输入手机号', trigger: 'blur' },\n          { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号格式', trigger: 'blur' }\n        ],\n        email: [\n          { required: true, message: '请输入邮箱', trigger: 'blur' },\n          { type: 'email', message: '请输入正确的邮箱格式', trigger: 'blur' }\n        ],\n        role: [\n          { required: true, message: '请选择用户角色', trigger: 'change' }\n        ]\n      }\n    }\n  },\n  mounted() {\n    this.fetchUsers()\n  },\n  computed: {\n    // 分页后的用户列表\n    paginatedUsers() {\n      const start = (this.currentPage - 1) * this.pageSize\n      const end = start + this.pageSize\n      return this.filteredUsers.slice(start, end)\n    }\n  },\n  methods: {\n    // 获取用户列表\n    async fetchUsers() {\n      this.loading = true\n      try {\n        // 尝试获取所有用户（管理员视角）\n        try {\n          const response = await this.userAPI.getAllUsers()\n          if (response.data && response.data.length > 0) {\n            this.users = response.data.map(user => ({\n              ...user,\n              role: user.role || 'UNKNOWN'\n            }))\n          } else {\n            // 如果没有统一的用户API，尝试从不同模块获取\n            await this.fetchUsersFromModules()\n          }\n        } catch (error) {\n          console.log('统一用户API不可用，尝试从不同模块获取数据')\n          await this.fetchUsersFromModules()\n        }\n        \n        this.filteredUsers = [...this.users]\n      } catch (error) {\n        console.error('获取用户列表失败:', error)\n        this.$message.error('获取用户列表失败')\n        // 失败时使用空列表\n        this.users = []\n        this.filteredUsers = []\n      } finally {\n        this.loading = false\n      }\n    },\n    \n    // 从不同模块获取用户数据\n    async fetchUsersFromModules() {\n      try {\n        // 并行获取患者和医生数据\n        const [patientsRes, doctorsRes] = await Promise.all([\n          patientAPI.getAllPatients(),\n          doctorAPI.getAllDoctors()\n        ])\n        \n        // 处理患者数据\n        const patients = patientsRes.data ? patientsRes.data.map(p => ({\n          id: p.id,\n          username: p.username || `patient${p.id}`,\n          realName: p.realName || p.name,\n          phone: p.phone || '',\n          email: p.email || '',\n          role: 'PATIENT',\n          status: p.status !== undefined ? p.status : 1,\n          createTime: p.createTime || new Date().toISOString()\n        })) : []\n        \n        // 处理医生数据\n        const doctors = doctorsRes.data ? doctorsRes.data.map(d => ({\n          id: d.id,\n          username: d.username || `doctor${d.id}`,\n          realName: d.realName || d.name,\n          phone: d.phone || '',\n          email: d.email || '',\n          role: 'DOCTOR',\n          status: d.status !== undefined ? d.status : 1,\n          createTime: d.createTime || new Date().toISOString()\n        })) : []\n        \n        // 添加管理员账户（模拟）\n        const adminUser = {\n          id: 1,\n          username: 'admin',\n          realName: '管理员',\n          phone: '13800138000',\n          email: 'admin@hospital.com',\n          role: 'ADMIN',\n          status: 1,\n          createTime: '2023-01-01 00:00:00'\n        }\n        \n        // 合并所有用户数据\n        this.users = [adminUser, ...patients, ...doctors]\n      } catch (error) {\n        console.error('从模块获取用户数据失败:', error)\n        throw error\n      }\n    },\n\n    // 搜索用户\n    handleSearch() {\n      let results = [...this.users]\n      \n      // 根据关键词搜索\n      if (this.searchKeyword) {\n        const keyword = this.searchKeyword.toLowerCase()\n        results = results.filter(user => \n          user.username.toLowerCase().includes(keyword) ||\n          user.realName.toLowerCase().includes(keyword) ||\n          user.phone.includes(keyword)\n        )\n      }\n      \n      // 根据角色筛选\n      if (this.selectedRole) {\n        results = results.filter(user => user.role === this.selectedRole)\n      }\n      \n      // 根据状态筛选\n      if (this.selectedStatus !== '') {\n        results = results.filter(user => user.status === parseInt(this.selectedStatus))\n      }\n      \n      this.filteredUsers = results\n      this.currentPage = 1 // 重置到第一页\n    },\n\n    // 获取角色名称\n    getRoleName(role) {\n      const roleMap = {\n        'PATIENT': '患者',\n        'DOCTOR': '医生',\n        'ADMIN': '管理员'\n      }\n      return roleMap[role] || role\n    },\n\n    // 获取角色标签类型\n    getRoleType(role) {\n      const typeMap = {\n        'PATIENT': 'primary',\n        'DOCTOR': 'success',\n        'ADMIN': 'danger'\n      }\n      return typeMap[role] || 'info'\n    },\n\n    // 格式化日期\n    formatDate(dateString) {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}:${date.getSeconds().toString().padStart(2, '0')}`\n    },\n\n    // 显示添加用户对话框\n    showAddUserDialog() {\n      this.resetAddUserForm()\n      this.addUserDialogVisible = true\n    },\n\n    // 重置添加用户表单\n    resetAddUserForm() {\n      this.addUserForm = {\n        username: '',\n        realName: '',\n        phone: '',\n        email: '',\n        role: 'PATIENT',\n        password: ''\n      }\n      this.$refs.addUserForm && this.$refs.addUserForm.resetFields()\n    },\n\n    // 提交添加用户\n    submitAddUser() {\n      this.$refs.addUserForm.validate((valid) => {\n        if (valid) {\n          // 这里应该是API调用，现在使用模拟数据\n          const newUser = {\n            id: this.users.length + 1,\n            ...this.addUserForm,\n            status: 1,\n            createTime: new Date().toISOString().replace('T', ' ').substring(0, 19)\n          }\n          this.users.unshift(newUser)\n          this.handleSearch() // 重新搜索以更新列表\n          this.addUserDialogVisible = false\n          this.$message.success('用户添加成功')\n        }\n      })\n    },\n\n    // 显示编辑用户对话框\n    showEditUserDialog(user) {\n      this.editUserForm = { ...user }\n      this.editUserDialogVisible = true\n    },\n\n    // 提交编辑用户\n    submitEditUser() {\n      this.$refs.editUserForm.validate((valid) => {\n        if (valid) {\n          // 这里应该是API调用，现在使用模拟数据\n          const index = this.users.findIndex(u => u.id === this.editUserForm.id)\n          if (index !== -1) {\n            this.users[index] = { ...this.users[index], ...this.editUserForm }\n            this.handleSearch() // 重新搜索以更新列表\n            this.editUserDialogVisible = false\n            this.$message.success('用户更新成功')\n          }\n        }\n      })\n    },\n\n    // 更新用户状态\n    updateUserStatus(user) {\n      // 这里应该是API调用，现在只是更新本地数据\n      this.$message.success(`用户状态已更新为${user.status ? '启用' : '禁用'}`)\n    },\n\n    // 删除用户\n    deleteUser(user) {\n      this.$confirm(`确定要删除用户「${user.realName}」吗？`, '删除确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 这里应该是API调用，现在只是更新本地数据\n        const index = this.users.findIndex(u => u.id === user.id)\n        if (index !== -1) {\n          this.users.splice(index, 1)\n          this.handleSearch() // 重新搜索以更新列表\n          this.$message.success('用户删除成功')\n        }\n      }).catch(() => {\n        // 取消删除\n      })\n    },\n\n    // 重置密码\n    resetPassword(user) {\n      this.$confirm(`确定要重置用户「${user.realName}」的密码吗？`, '重置确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 这里应该是API调用，现在只是提示\n        this.$message.success(`用户「${user.realName}」的密码已重置为：123456`)\n      }).catch(() => {\n        // 取消重置\n      })\n    },\n\n    // 批量删除用户\n    batchDeleteUsers() {\n      if (this.selectedUsers.some(user => user.role === 'ADMIN')) {\n        this.$message.warning('不能删除管理员用户')\n        return\n      }\n\n      const userNames = this.selectedUsers.map(u => u.realName).join('、')\n      this.$confirm(`确定要删除以下用户吗？\\n${userNames}`, '批量删除确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 这里应该是API调用，现在只是更新本地数据\n        const idsToDelete = this.selectedUsers.map(u => u.id)\n        this.users = this.users.filter(u => !idsToDelete.includes(u.id))\n        this.handleSearch() // 重新搜索以更新列表\n        this.selectedUsers = []\n        this.$message.success('批量删除成功')\n      }).catch(() => {\n        // 取消删除\n      })\n    },\n\n    // 批量启用用户\n    batchEnableUsers() {\n      // 这里应该是API调用，现在只是更新本地数据\n      this.selectedUsers.forEach(user => {\n        user.status = 1\n      })\n      this.selectedUsers = []\n      this.$message.success('批量启用成功')\n    },\n\n    // 批量禁用用户\n    batchDisableUsers() {\n      if (this.selectedUsers.some(user => user.role === 'ADMIN')) {\n        this.$message.warning('不能禁用管理员用户')\n        return\n      }\n\n      // 这里应该是API调用，现在只是更新本地数据\n      this.selectedUsers.forEach(user => {\n        user.status = 0\n      })\n      this.selectedUsers = []\n      this.$message.success('批量禁用成功')\n    },\n\n    // 清空选择\n    clearSelection() {\n      this.$refs.userTable && this.$refs.userTable.clearSelection()\n      this.selectedUsers = []\n    },\n\n    // 分页大小变化\n    handleSizeChange(val) {\n      this.pageSize = val\n    },\n\n    // 当前页码变化\n    handleCurrentChange(val) {\n      this.currentPage = val\n    },\n\n    // 多选变化\n    handleSelectionChange(selection) {\n      this.selectedUsers = selection\n    }\n  }\n}\n</script>\n\n<style scoped>\n.user-management {\n  padding: 20px;\n  background-color: #f5f7fa;\n  min-height: calc(100vh - 60px);\n}\n\n.management-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.management-header h2 {\n  margin: 0;\n  color: #303133;\n}\n\n.search-filter {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n  padding: 15px;\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.user-list {\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  padding: 15px;\n}\n\n.pagination {\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.batch-operations {\n  margin-top: 15px;\n  padding: 10px 15px;\n  background-color: #ecf5ff;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  gap: 15px;\n}\n\n.batch-operations .el-tag {\n  background-color: #409eff;\n  color: #fff;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .search-filter {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 10px;\n  }\n  \n  .search-filter .el-input,\n  .search-filter .el-select {\n    width: 100% !important;\n    margin-right: 0 !important;\n  }\n  \n  .management-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n  \n  .pagination {\n    justify-content: center;\n  }\n}\n</style>"],"mappings":"AAoPA,OAAAA,UAAA;AACA,OAAAC,SAAA;AACA,OAAAC,OAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACA;MACAC,KAAA;MACAC,aAAA;MACAC,OAAA;MAEA;MACAC,aAAA;MACAC,YAAA;MACAC,cAAA;MAEA;MACAC,WAAA;MACAC,QAAA;MAEA;MACAC,aAAA;MACA;MACAC,OAAA;QACA;QACAC,WAAA,EAAAA,CAAA;UACA,OAAAb,OAAA;YACAc,GAAA;YACAC,MAAA;UACA;QACA;QACA;QACAC,OAAA,EAAAC,QAAA;UACA,OAAAjB,OAAA;YACAc,GAAA;YACAC,MAAA;YACAb,IAAA,EAAAe;UACA;QACA;QACA;QACAC,UAAA,EAAAA,CAAAC,MAAA,EAAAF,QAAA;UACA,OAAAjB,OAAA;YACAc,GAAA,YAAAK,MAAA;YACAJ,MAAA;YACAb,IAAA,EAAAe;UACA;QACA;QACA;QACAG,UAAA,EAAAD,MAAA;UACA,OAAAnB,OAAA;YACAc,GAAA,YAAAK,MAAA;YACAJ,MAAA;UACA;QACA;QACA;QACAM,gBAAA,EAAAA,CAAAF,MAAA,EAAAG,MAAA;UACA,OAAAtB,OAAA;YACAc,GAAA,YAAAK,MAAA;YACAJ,MAAA;YACAb,IAAA;cAAAoB,MAAA,EAAAA;YAAA;UACA;QACA;QACA;QACAC,aAAA,EAAAJ,MAAA;UACA,OAAAnB,OAAA;YACAc,GAAA,YAAAK,MAAA;YACAJ,MAAA;UACA;QACA;MACA;MAEA;MACAS,oBAAA;MACAC,WAAA;QACAC,QAAA;QACAC,QAAA;QACAC,KAAA;QACAC,KAAA;QACAC,IAAA;QACAC,QAAA;MACA;MACAC,YAAA;QACAN,QAAA,GACA;UAAAO,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAC,GAAA;UAAAC,GAAA;UAAAH,OAAA;UAAAC,OAAA;QAAA,EACA;QACAR,QAAA,GACA;UAAAM,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAP,KAAA,GACA;UAAAK,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAG,OAAA;UAAAJ,OAAA;UAAAC,OAAA;QAAA,EACA;QACAN,KAAA,GACA;UAAAI,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAI,IAAA;UAAAL,OAAA;UAAAC,OAAA;QAAA,EACA;QACAL,IAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAJ,QAAA,GACA;UAAAE,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAC,GAAA;UAAAF,OAAA;UAAAC,OAAA;QAAA;MAEA;MAEA;MACAK,qBAAA;MACAC,YAAA;QACAC,EAAA;QACAhB,QAAA;QACAC,QAAA;QACAC,KAAA;QACAC,KAAA;QACAC,IAAA;MACA;MACAa,aAAA;QACAhB,QAAA,GACA;UAAAM,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,EACA;QACAP,KAAA,GACA;UAAAK,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAG,OAAA;UAAAJ,OAAA;UAAAC,OAAA;QAAA,EACA;QACAN,KAAA,GACA;UAAAI,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA,GACA;UAAAI,IAAA;UAAAL,OAAA;UAAAC,OAAA;QAAA,EACA;QACAL,IAAA,GACA;UAAAG,QAAA;UAAAC,OAAA;UAAAC,OAAA;QAAA;MAEA;IACA;EACA;EACAS,QAAA;IACA,KAAAC,UAAA;EACA;EACAC,QAAA;IACA;IACAC,eAAA;MACA,MAAAC,KAAA,SAAAvC,WAAA,aAAAC,QAAA;MACA,MAAAuC,GAAA,GAAAD,KAAA,QAAAtC,QAAA;MACA,YAAAN,aAAA,CAAA8C,KAAA,CAAAF,KAAA,EAAAC,GAAA;IACA;EACA;EACAE,OAAA;IACA;IACA,MAAAN,WAAA;MACA,KAAAxC,OAAA;MACA;QACA;QACA;UACA,MAAA+C,QAAA,cAAAxC,OAAA,CAAAC,WAAA;UACA,IAAAuC,QAAA,CAAAlD,IAAA,IAAAkD,QAAA,CAAAlD,IAAA,CAAAmD,MAAA;YACA,KAAAlD,KAAA,GAAAiD,QAAA,CAAAlD,IAAA,CAAAoD,GAAA,CAAAC,IAAA;cACA,GAAAA,IAAA;cACAzB,IAAA,EAAAyB,IAAA,CAAAzB,IAAA;YACA;UACA;YACA;YACA,WAAA0B,qBAAA;UACA;QACA,SAAAC,KAAA;UACAC,OAAA,CAAAC,GAAA;UACA,WAAAH,qBAAA;QACA;QAEA,KAAApD,aAAA,YAAAD,KAAA;MACA,SAAAsD,KAAA;QACAC,OAAA,CAAAD,KAAA,cAAAA,KAAA;QACA,KAAAG,QAAA,CAAAH,KAAA;QACA;QACA,KAAAtD,KAAA;QACA,KAAAC,aAAA;MACA;QACA,KAAAC,OAAA;MACA;IACA;IAEA;IACA,MAAAmD,sBAAA;MACA;QACA;QACA,OAAAK,WAAA,EAAAC,UAAA,UAAAC,OAAA,CAAAC,GAAA,EACAlE,UAAA,CAAAmE,cAAA,IACAlE,SAAA,CAAAmE,aAAA,GACA;;QAEA;QACA,MAAAC,QAAA,GAAAN,WAAA,CAAA3D,IAAA,GAAA2D,WAAA,CAAA3D,IAAA,CAAAoD,GAAA,CAAAc,CAAA;UACA1B,EAAA,EAAA0B,CAAA,CAAA1B,EAAA;UACAhB,QAAA,EAAA0C,CAAA,CAAA1C,QAAA,cAAA0C,CAAA,CAAA1B,EAAA;UACAf,QAAA,EAAAyC,CAAA,CAAAzC,QAAA,IAAAyC,CAAA,CAAAnE,IAAA;UACA2B,KAAA,EAAAwC,CAAA,CAAAxC,KAAA;UACAC,KAAA,EAAAuC,CAAA,CAAAvC,KAAA;UACAC,IAAA;UACAR,MAAA,EAAA8C,CAAA,CAAA9C,MAAA,KAAA+C,SAAA,GAAAD,CAAA,CAAA9C,MAAA;UACAgD,UAAA,EAAAF,CAAA,CAAAE,UAAA,QAAAC,IAAA,GAAAC,WAAA;QACA;;QAEA;QACA,MAAAC,OAAA,GAAAX,UAAA,CAAA5D,IAAA,GAAA4D,UAAA,CAAA5D,IAAA,CAAAoD,GAAA,CAAAoB,CAAA;UACAhC,EAAA,EAAAgC,CAAA,CAAAhC,EAAA;UACAhB,QAAA,EAAAgD,CAAA,CAAAhD,QAAA,aAAAgD,CAAA,CAAAhC,EAAA;UACAf,QAAA,EAAA+C,CAAA,CAAA/C,QAAA,IAAA+C,CAAA,CAAAzE,IAAA;UACA2B,KAAA,EAAA8C,CAAA,CAAA9C,KAAA;UACAC,KAAA,EAAA6C,CAAA,CAAA7C,KAAA;UACAC,IAAA;UACAR,MAAA,EAAAoD,CAAA,CAAApD,MAAA,KAAA+C,SAAA,GAAAK,CAAA,CAAApD,MAAA;UACAgD,UAAA,EAAAI,CAAA,CAAAJ,UAAA,QAAAC,IAAA,GAAAC,WAAA;QACA;;QAEA;QACA,MAAAG,SAAA;UACAjC,EAAA;UACAhB,QAAA;UACAC,QAAA;UACAC,KAAA;UACAC,KAAA;UACAC,IAAA;UACAR,MAAA;UACAgD,UAAA;QACA;;QAEA;QACA,KAAAnE,KAAA,IAAAwE,SAAA,KAAAR,QAAA,KAAAM,OAAA;MACA,SAAAhB,KAAA;QACAC,OAAA,CAAAD,KAAA,iBAAAA,KAAA;QACA,MAAAA,KAAA;MACA;IACA;IAEA;IACAmB,aAAA;MACA,IAAAC,OAAA,YAAA1E,KAAA;;MAEA;MACA,SAAAG,aAAA;QACA,MAAAwE,OAAA,QAAAxE,aAAA,CAAAyE,WAAA;QACAF,OAAA,GAAAA,OAAA,CAAAG,MAAA,CAAAzB,IAAA,IACAA,IAAA,CAAA7B,QAAA,CAAAqD,WAAA,GAAAE,QAAA,CAAAH,OAAA,KACAvB,IAAA,CAAA5B,QAAA,CAAAoD,WAAA,GAAAE,QAAA,CAAAH,OAAA,KACAvB,IAAA,CAAA3B,KAAA,CAAAqD,QAAA,CAAAH,OAAA,CACA;MACA;;MAEA;MACA,SAAAvE,YAAA;QACAsE,OAAA,GAAAA,OAAA,CAAAG,MAAA,CAAAzB,IAAA,IAAAA,IAAA,CAAAzB,IAAA,UAAAvB,YAAA;MACA;;MAEA;MACA,SAAAC,cAAA;QACAqE,OAAA,GAAAA,OAAA,CAAAG,MAAA,CAAAzB,IAAA,IAAAA,IAAA,CAAAjC,MAAA,KAAA4D,QAAA,MAAA1E,cAAA;MACA;MAEA,KAAAJ,aAAA,GAAAyE,OAAA;MACA,KAAApE,WAAA;IACA;IAEA;IACA0E,YAAArD,IAAA;MACA,MAAAsD,OAAA;QACA;QACA;QACA;MACA;MACA,OAAAA,OAAA,CAAAtD,IAAA,KAAAA,IAAA;IACA;IAEA;IACAuD,YAAAvD,IAAA;MACA,MAAAwD,OAAA;QACA;QACA;QACA;MACA;MACA,OAAAA,OAAA,CAAAxD,IAAA;IACA;IAEA;IACAyD,WAAAC,UAAA;MACA,KAAAA,UAAA;MACA,MAAAC,IAAA,OAAAlB,IAAA,CAAAiB,UAAA;MACA,UAAAC,IAAA,CAAAC,WAAA,OAAAD,IAAA,CAAAE,QAAA,QAAAC,QAAA,GAAAC,QAAA,YAAAJ,IAAA,CAAAK,OAAA,GAAAF,QAAA,GAAAC,QAAA,YAAAJ,IAAA,CAAAM,QAAA,GAAAH,QAAA,GAAAC,QAAA,YAAAJ,IAAA,CAAAO,UAAA,GAAAJ,QAAA,GAAAC,QAAA,YAAAJ,IAAA,CAAAQ,UAAA,GAAAL,QAAA,GAAAC,QAAA;IACA;IAEA;IACAK,kBAAA;MACA,KAAAC,gBAAA;MACA,KAAA3E,oBAAA;IACA;IAEA;IACA2E,iBAAA;MACA,KAAA1E,WAAA;QACAC,QAAA;QACAC,QAAA;QACAC,KAAA;QACAC,KAAA;QACAC,IAAA;QACAC,QAAA;MACA;MACA,KAAAqE,KAAA,CAAA3E,WAAA,SAAA2E,KAAA,CAAA3E,WAAA,CAAA4E,WAAA;IACA;IAEA;IACAC,cAAA;MACA,KAAAF,KAAA,CAAA3E,WAAA,CAAA8E,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA;UACA,MAAAC,OAAA;YACA/D,EAAA,OAAAvC,KAAA,CAAAkD,MAAA;YACA,QAAA5B,WAAA;YACAH,MAAA;YACAgD,UAAA,MAAAC,IAAA,GAAAC,WAAA,GAAAkC,OAAA,WAAAC,SAAA;UACA;UACA,KAAAxG,KAAA,CAAAyG,OAAA,CAAAH,OAAA;UACA,KAAA7B,YAAA;UACA,KAAApD,oBAAA;UACA,KAAAoC,QAAA,CAAAiD,OAAA;QACA;MACA;IACA;IAEA;IACAC,mBAAAvD,IAAA;MACA,KAAAd,YAAA;QAAA,GAAAc;MAAA;MACA,KAAAf,qBAAA;IACA;IAEA;IACAuE,eAAA;MACA,KAAAX,KAAA,CAAA3D,YAAA,CAAA8D,QAAA,CAAAC,KAAA;QACA,IAAAA,KAAA;UACA;UACA,MAAAQ,KAAA,QAAA7G,KAAA,CAAA8G,SAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAxE,EAAA,UAAAD,YAAA,CAAAC,EAAA;UACA,IAAAsE,KAAA;YACA,KAAA7G,KAAA,CAAA6G,KAAA;cAAA,QAAA7G,KAAA,CAAA6G,KAAA;cAAA,QAAAvE;YAAA;YACA,KAAAmC,YAAA;YACA,KAAApC,qBAAA;YACA,KAAAoB,QAAA,CAAAiD,OAAA;UACA;QACA;MACA;IACA;IAEA;IACAxF,iBAAAkC,IAAA;MACA;MACA,KAAAK,QAAA,CAAAiD,OAAA,YAAAtD,IAAA,CAAAjC,MAAA;IACA;IAEA;IACAF,WAAAmC,IAAA;MACA,KAAA4D,QAAA,YAAA5D,IAAA,CAAA5B,QAAA;QACAyF,iBAAA;QACAC,gBAAA;QACA9E,IAAA;MACA,GAAA+E,IAAA;QACA;QACA,MAAAN,KAAA,QAAA7G,KAAA,CAAA8G,SAAA,CAAAC,CAAA,IAAAA,CAAA,CAAAxE,EAAA,KAAAa,IAAA,CAAAb,EAAA;QACA,IAAAsE,KAAA;UACA,KAAA7G,KAAA,CAAAoH,MAAA,CAAAP,KAAA;UACA,KAAApC,YAAA;UACA,KAAAhB,QAAA,CAAAiD,OAAA;QACA;MACA,GAAAW,KAAA;QACA;MAAA,CACA;IACA;IAEA;IACAjG,cAAAgC,IAAA;MACA,KAAA4D,QAAA,YAAA5D,IAAA,CAAA5B,QAAA;QACAyF,iBAAA;QACAC,gBAAA;QACA9E,IAAA;MACA,GAAA+E,IAAA;QACA;QACA,KAAA1D,QAAA,CAAAiD,OAAA,OAAAtD,IAAA,CAAA5B,QAAA;MACA,GAAA6F,KAAA;QACA;MAAA,CACA;IACA;IAEA;IACAC,iBAAA;MACA,SAAA9G,aAAA,CAAA+G,IAAA,CAAAnE,IAAA,IAAAA,IAAA,CAAAzB,IAAA;QACA,KAAA8B,QAAA,CAAA+D,OAAA;QACA;MACA;MAEA,MAAAC,SAAA,QAAAjH,aAAA,CAAA2C,GAAA,CAAA4D,CAAA,IAAAA,CAAA,CAAAvF,QAAA,EAAAkG,IAAA;MACA,KAAAV,QAAA,iBAAAS,SAAA;QACAR,iBAAA;QACAC,gBAAA;QACA9E,IAAA;MACA,GAAA+E,IAAA;QACA;QACA,MAAAQ,WAAA,QAAAnH,aAAA,CAAA2C,GAAA,CAAA4D,CAAA,IAAAA,CAAA,CAAAxE,EAAA;QACA,KAAAvC,KAAA,QAAAA,KAAA,CAAA6E,MAAA,CAAAkC,CAAA,KAAAY,WAAA,CAAA7C,QAAA,CAAAiC,CAAA,CAAAxE,EAAA;QACA,KAAAkC,YAAA;QACA,KAAAjE,aAAA;QACA,KAAAiD,QAAA,CAAAiD,OAAA;MACA,GAAAW,KAAA;QACA;MAAA,CACA;IACA;IAEA;IACAO,iBAAA;MACA;MACA,KAAApH,aAAA,CAAAqH,OAAA,CAAAzE,IAAA;QACAA,IAAA,CAAAjC,MAAA;MACA;MACA,KAAAX,aAAA;MACA,KAAAiD,QAAA,CAAAiD,OAAA;IACA;IAEA;IACAoB,kBAAA;MACA,SAAAtH,aAAA,CAAA+G,IAAA,CAAAnE,IAAA,IAAAA,IAAA,CAAAzB,IAAA;QACA,KAAA8B,QAAA,CAAA+D,OAAA;QACA;MACA;;MAEA;MACA,KAAAhH,aAAA,CAAAqH,OAAA,CAAAzE,IAAA;QACAA,IAAA,CAAAjC,MAAA;MACA;MACA,KAAAX,aAAA;MACA,KAAAiD,QAAA,CAAAiD,OAAA;IACA;IAEA;IACAqB,eAAA;MACA,KAAA9B,KAAA,CAAA+B,SAAA,SAAA/B,KAAA,CAAA+B,SAAA,CAAAD,cAAA;MACA,KAAAvH,aAAA;IACA;IAEA;IACAyH,iBAAAC,GAAA;MACA,KAAA3H,QAAA,GAAA2H,GAAA;IACA;IAEA;IACAC,oBAAAD,GAAA;MACA,KAAA5H,WAAA,GAAA4H,GAAA;IACA;IAEA;IACAE,sBAAAC,SAAA;MACA,KAAA7H,aAAA,GAAA6H,SAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}