{"ast":null,"code":"import Vue from 'vue';\nimport App from './App.vue';\nimport router from './router';\nimport ElementUI from 'element-ui';\nimport 'element-ui/lib/theme-chalk/index.css';\nimport axios from 'axios';\nVue.use(ElementUI);\nVue.config.productionTip = false;\n\n// 配置axios\naxios.defaults.baseURL = '/api';\naxios.defaults.timeout = 10000;\n\n// 请求拦截器\naxios.interceptors.request.use(config => {\n  const token = localStorage.getItem('token');\n  if (token) {\n    config.headers.Authorization = `Bearer ${token}`;\n  }\n  return config;\n}, error => {\n  return Promise.reject(error);\n});\n\n// 响应拦截器\naxios.interceptors.response.use(response => {\n  return response.data;\n}, error => {\n  if (error.response && error.response.status === 401) {\n    localStorage.removeItem('token');\n    localStorage.removeItem('user');\n    router.push('/login');\n  }\n  return Promise.reject(error);\n});\nVue.prototype.$axios = axios;\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app');","map":{"version":3,"names":["Vue","App","router","ElementUI","axios","use","config","productionTip","defaults","baseURL","timeout","interceptors","request","token","localStorage","getItem","headers","Authorization","error","Promise","reject","response","data","status","removeItem","push","prototype","$axios","render","h","$mount"],"sources":["C:/Users/徐凌/Documents/trae_projects/hospital/frontend/src/main.js"],"sourcesContent":["import Vue from 'vue'\nimport App from './App.vue'\nimport router from './router'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport axios from 'axios'\n\nVue.use(ElementUI)\nVue.config.productionTip = false\n\n// 配置axios\naxios.defaults.baseURL = '/api'\naxios.defaults.timeout = 10000\n\n// 请求拦截器\naxios.interceptors.request.use(\n  config => {\n    const token = localStorage.getItem('token')\n    if (token) {\n      config.headers.Authorization = `Bearer ${token}`\n    }\n    return config\n  },\n  error => {\n    return Promise.reject(error)\n  }\n)\n\n// 响应拦截器\naxios.interceptors.response.use(\n  response => {\n    return response.data\n  },\n  error => {\n    if (error.response && error.response.status === 401) {\n      localStorage.removeItem('token')\n      localStorage.removeItem('user')\n      router.push('/login')\n    }\n    return Promise.reject(error)\n  }\n)\n\nVue.prototype.$axios = axios\n\nnew Vue({\n  router,\n  render: h => h(App)\n}).$mount('#app')"],"mappings":"AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,GAAG,MAAM,WAAW;AAC3B,OAAOC,MAAM,MAAM,UAAU;AAC7B,OAAOC,SAAS,MAAM,YAAY;AAClC,OAAO,sCAAsC;AAC7C,OAAOC,KAAK,MAAM,OAAO;AAEzBJ,GAAG,CAACK,GAAG,CAACF,SAAS,CAAC;AAClBH,GAAG,CAACM,MAAM,CAACC,aAAa,GAAG,KAAK;;AAEhC;AACAH,KAAK,CAACI,QAAQ,CAACC,OAAO,GAAG,MAAM;AAC/BL,KAAK,CAACI,QAAQ,CAACE,OAAO,GAAG,KAAK;;AAE9B;AACAN,KAAK,CAACO,YAAY,CAACC,OAAO,CAACP,GAAG,CAC5BC,MAAM,IAAI;EACR,MAAMO,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;EAC3C,IAAIF,KAAK,EAAE;IACTP,MAAM,CAACU,OAAO,CAACC,aAAa,GAAG,UAAUJ,KAAK,EAAE;EAClD;EACA,OAAOP,MAAM;AACf,CAAC,EACDY,KAAK,IAAI;EACP,OAAOC,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;;AAED;AACAd,KAAK,CAACO,YAAY,CAACU,QAAQ,CAAChB,GAAG,CAC7BgB,QAAQ,IAAI;EACV,OAAOA,QAAQ,CAACC,IAAI;AACtB,CAAC,EACDJ,KAAK,IAAI;EACP,IAAIA,KAAK,CAACG,QAAQ,IAAIH,KAAK,CAACG,QAAQ,CAACE,MAAM,KAAK,GAAG,EAAE;IACnDT,YAAY,CAACU,UAAU,CAAC,OAAO,CAAC;IAChCV,YAAY,CAACU,UAAU,CAAC,MAAM,CAAC;IAC/BtB,MAAM,CAACuB,IAAI,CAAC,QAAQ,CAAC;EACvB;EACA,OAAON,OAAO,CAACC,MAAM,CAACF,KAAK,CAAC;AAC9B,CACF,CAAC;AAEDlB,GAAG,CAAC0B,SAAS,CAACC,MAAM,GAAGvB,KAAK;AAE5B,IAAIJ,GAAG,CAAC;EACNE,MAAM;EACN0B,MAAM,EAAEC,CAAC,IAAIA,CAAC,CAAC5B,GAAG;AACpB,CAAC,CAAC,CAAC6B,MAAM,CAAC,MAAM,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}