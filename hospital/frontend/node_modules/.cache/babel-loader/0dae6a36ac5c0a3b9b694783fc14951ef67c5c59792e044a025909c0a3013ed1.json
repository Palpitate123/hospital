{"ast":null,"code":"import departmentAPI from '@/api/department';\nexport default {\n  name: 'DepartmentManagement',\n  data() {\n    return {\n      // 科室列表数据\n      departments: [],\n      filteredDepartments: [],\n      loading: false,\n      // 搜索和筛选条件\n      searchKeyword: '',\n      selectedStatus: '',\n      // 分页信息\n      currentPage: 1,\n      pageSize: 10,\n      // 选中的科室\n      selectedDepartments: [],\n      // 当前查看的科室\n      currentDepartment: {},\n      // 添加科室对话框\n      addDepartmentDialogVisible: false,\n      addDepartmentForm: {\n        name: '',\n        description: '',\n        responsiblePerson: '',\n        phone: '',\n        location: '',\n        avatar: ''\n      },\n      addDepartmentRules: {\n        name: [{\n          required: true,\n          message: '请输入科室名称',\n          trigger: 'blur'\n        }, {\n          min: 2,\n          max: 50,\n          message: '科室名称长度在 2 到 50 个字符',\n          trigger: 'blur'\n        }],\n        description: [{\n          required: true,\n          message: '请输入科室描述',\n          trigger: 'blur'\n        }, {\n          max: 200,\n          message: '科室描述不能超过 200 个字符',\n          trigger: 'blur'\n        }],\n        responsiblePerson: [{\n          required: true,\n          message: '请输入科室负责人',\n          trigger: 'blur'\n        }, {\n          max: 20,\n          message: '负责人姓名不能超过 20 个字符',\n          trigger: 'blur'\n        }],\n        phone: [{\n          required: true,\n          message: '请输入联系电话',\n          trigger: 'blur'\n        }, {\n          pattern: /^\\d{3,4}-?\\d{7,8}$|^1[3-9]\\d{9}$/,\n          message: '请输入正确的电话格式',\n          trigger: 'blur'\n        }],\n        location: [{\n          required: true,\n          message: '请输入科室位置',\n          trigger: 'blur'\n        }, {\n          max: 100,\n          message: '科室位置不能超过 100 个字符',\n          trigger: 'blur'\n        }]\n      },\n      // 编辑科室对话框\n      editDepartmentDialogVisible: false,\n      editDepartmentForm: {\n        id: '',\n        name: '',\n        description: '',\n        responsiblePerson: '',\n        phone: '',\n        location: '',\n        avatar: ''\n      },\n      editDepartmentRules: {\n        name: [{\n          required: true,\n          message: '请输入科室名称',\n          trigger: 'blur'\n        }, {\n          min: 2,\n          max: 50,\n          message: '科室名称长度在 2 到 50 个字符',\n          trigger: 'blur'\n        }],\n        description: [{\n          required: true,\n          message: '请输入科室描述',\n          trigger: 'blur'\n        }, {\n          max: 200,\n          message: '科室描述不能超过 200 个字符',\n          trigger: 'blur'\n        }],\n        responsiblePerson: [{\n          required: true,\n          message: '请输入科室负责人',\n          trigger: 'blur'\n        }, {\n          max: 20,\n          message: '负责人姓名不能超过 20 个字符',\n          trigger: 'blur'\n        }],\n        phone: [{\n          required: true,\n          message: '请输入联系电话',\n          trigger: 'blur'\n        }, {\n          pattern: /^\\d{3,4}-?\\d{7,8}$|^1[3-9]\\d{9}$/,\n          message: '请输入正确的电话格式',\n          trigger: 'blur'\n        }],\n        location: [{\n          required: true,\n          message: '请输入科室位置',\n          trigger: 'blur'\n        }, {\n          max: 100,\n          message: '科室位置不能超过 100 个字符',\n          trigger: 'blur'\n        }]\n      },\n      // 科室详情对话框\n      departmentDetailDialogVisible: false,\n      // 科室医生列表对话框\n      departmentDoctorsDialogVisible: false,\n      departmentDoctors: []\n    };\n  },\n  mounted() {\n    this.fetchDepartments();\n  },\n  computed: {\n    // 分页后的科室列表\n    paginatedDepartments() {\n      const start = (this.currentPage - 1) * this.pageSize;\n      const end = start + this.pageSize;\n      return this.filteredDepartments.slice(start, end);\n    }\n  },\n  methods: {\n    // 获取科室列表\n    fetchDepartments() {\n      this.loading = true;\n      departmentAPI.getAllDepartments().then(response => {\n        this.departments = response.data;\n        this.filteredDepartments = [...this.departments];\n        this.loading = false;\n      }).catch(error => {\n        console.error('获取科室列表失败:', error);\n        this.$message.error('获取科室列表失败，请稍后重试');\n        this.loading = false;\n        // 如果API调用失败，可以使用本地过滤作为备用\n        this.localFilterDepartments();\n      });\n    },\n    // 本地过滤科室（作为API调用失败的备用方案）\n    localFilterDepartments() {\n      let results = [...this.departments];\n\n      // 根据关键词搜索\n      if (this.searchKeyword) {\n        const keyword = this.searchKeyword.toLowerCase();\n        results = results.filter(dept => dept.name.toLowerCase().includes(keyword) || dept.description.toLowerCase().includes(keyword) || dept.responsiblePerson.toLowerCase().includes(keyword));\n      }\n\n      // 根据状态筛选\n      if (this.selectedStatus !== '') {\n        results = results.filter(dept => dept.status === parseInt(this.selectedStatus));\n      }\n      this.filteredDepartments = results;\n    },\n    // 搜索科室\n    handleSearch() {\n      let results = [...this.departments];\n\n      // 根据关键词搜索\n      if (this.searchKeyword) {\n        const keyword = this.searchKeyword.toLowerCase();\n        results = results.filter(dept => dept.name.toLowerCase().includes(keyword) || dept.description.toLowerCase().includes(keyword) || dept.responsiblePerson.toLowerCase().includes(keyword));\n      }\n\n      // 根据状态筛选\n      if (this.selectedStatus !== '') {\n        results = results.filter(dept => dept.status === parseInt(this.selectedStatus));\n      }\n      this.filteredDepartments = results;\n      this.currentPage = 1; // 重置到第一页\n    },\n    // 格式化日期\n    formatDate(dateString) {\n      if (!dateString) return '';\n      const date = new Date(dateString);\n      return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}:${date.getSeconds().toString().padStart(2, '0')}`;\n    },\n    // 显示添加科室对话框\n    showAddDepartmentDialog() {\n      this.resetAddDepartmentForm();\n      this.addDepartmentDialogVisible = true;\n    },\n    // 重置添加科室表单\n    resetAddDepartmentForm() {\n      this.addDepartmentForm = {\n        name: '',\n        description: '',\n        responsiblePerson: '',\n        phone: '',\n        location: '',\n        avatar: ''\n      };\n      this.$refs.addDepartmentForm && this.$refs.addDepartmentForm.resetFields();\n    },\n    // 提交添加科室\n    submitAddDepartment() {\n      this.$refs.addDepartmentForm.validate(valid => {\n        if (valid) {\n          console.log('提交的科室数据:', this.addDepartmentForm);\n          departmentAPI.addDepartment(this.addDepartmentForm).then(response => {\n            console.log('添加科室成功响应:', response);\n            this.fetchDepartments(); // 重新获取科室列表\n            this.addDepartmentDialogVisible = false;\n            this.$message.success('科室添加成功');\n          }).catch(error => {\n            console.error('添加科室失败:', error);\n            console.error('错误详情:', error.response || error.message);\n            this.$message.error('添加科室失败，请稍后重试');\n          });\n        }\n      });\n    },\n    // 显示编辑科室对话框\n    showEditDepartmentDialog(department) {\n      this.editDepartmentForm = {\n        ...department\n      };\n      this.editDepartmentDialogVisible = true;\n    },\n    // 提交编辑科室\n    submitEditDepartment() {\n      this.$refs.editDepartmentForm.validate(valid => {\n        if (valid) {\n          departmentAPI.updateDepartment(this.editDepartmentForm.id, this.editDepartmentForm).then(() => {\n            this.fetchDepartments(); // 重新获取科室列表\n            this.editDepartmentDialogVisible = false;\n            this.$message.success('科室更新成功');\n          }).catch(error => {\n            console.error('更新科室失败:', error);\n            this.$message.error('更新科室失败，请稍后重试');\n          });\n        }\n      });\n    },\n    // 更新科室状态\n    updateDepartmentStatus(department) {\n      departmentAPI.updateDepartmentStatus(department.id, department.status).then(() => {\n        this.$message.success(`科室状态已更新为${department.status ? '启用' : '禁用'}`);\n      }).catch(error => {\n        console.error('更新科室状态失败:', error);\n        this.$message.error('更新科室状态失败，请稍后重试');\n        // 恢复原来的状态\n        department.status = !department.status;\n      });\n    },\n    // 删除科室\n    deleteDepartment(department) {\n      if (department.doctorCount > 0) {\n        this.$message.warning('该科室下还有医生，无法删除');\n        return;\n      }\n      this.$confirm(`确定要删除科室「${department.name}」吗？`, '删除确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        departmentAPI.deleteDepartment(department.id).then(() => {\n          this.fetchDepartments(); // 重新获取科室列表\n          this.$message.success('科室删除成功');\n        }).catch(error => {\n          console.error('删除科室失败:', error);\n          this.$message.error('删除科室失败，请稍后重试');\n        });\n      }).catch(() => {\n        // 取消删除\n      });\n    },\n    // 查看科室详情\n    viewDepartmentDetail(department) {\n      this.currentDepartment = {\n        ...department\n      };\n      this.departmentDetailDialogVisible = true;\n    },\n    // 查看科室医生\n    viewDepartmentDoctors(department) {\n      this.loading = true;\n      departmentAPI.getDepartmentDoctors(department.id).then(response => {\n        this.departmentDoctors = response.data;\n        this.departmentDoctorsDialogVisible = true;\n        this.loading = false;\n      }).catch(error => {\n        console.error('获取科室医生失败:', error);\n        this.$message.error('获取科室医生失败，请稍后重试');\n        this.loading = false;\n        this.departmentDoctors = [];\n        this.departmentDoctorsDialogVisible = true;\n      });\n    },\n    // 批量删除科室\n    batchDeleteDepartments() {\n      const departmentsWithDoctors = this.selectedDepartments.filter(d => d.doctorCount > 0);\n      if (departmentsWithDoctors.length > 0) {\n        const departmentNames = departmentsWithDoctors.map(d => d.name).join('、');\n        this.$message.warning(`以下科室还有医生，无法删除：${departmentNames}`);\n        return;\n      }\n      const departmentNames = this.selectedDepartments.map(d => d.name).join('、');\n      this.$confirm(`确定要删除以下科室吗？\\n${departmentNames}`, '批量删除确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        const idsToDelete = this.selectedDepartments.map(d => d.id);\n        departmentAPI.batchDeleteDepartments(idsToDelete).then(() => {\n          this.fetchDepartments(); // 重新获取科室列表\n          this.selectedDepartments = [];\n          this.$message.success('批量删除成功');\n        }).catch(error => {\n          console.error('批量删除科室失败:', error);\n          this.$message.error('批量删除科室失败，请稍后重试');\n        });\n      }).catch(() => {\n        // 取消删除\n      });\n    },\n    // 批量启用科室\n    batchEnableDepartments() {\n      const idsToEnable = this.selectedDepartments.map(d => d.id);\n      departmentAPI.batchUpdateDepartmentStatus(idsToEnable, 1).then(() => {\n        this.fetchDepartments(); // 重新获取科室列表\n        this.selectedDepartments = [];\n        this.$message.success('批量启用成功');\n      }).catch(error => {\n        console.error('批量启用科室失败:', error);\n        this.$message.error('批量启用科室失败，请稍后重试');\n      });\n    },\n    // 批量禁用科室\n    batchDisableDepartments() {\n      const idsToDisable = this.selectedDepartments.map(d => d.id);\n      departmentAPI.batchUpdateDepartmentStatus(idsToDisable, 0).then(() => {\n        this.fetchDepartments(); // 重新获取科室列表\n        this.selectedDepartments = [];\n        this.$message.success('批量禁用成功');\n      }).catch(error => {\n        console.error('批量禁用科室失败:', error);\n        this.$message.error('批量禁用科室失败，请稍后重试');\n      });\n    },\n    // 清空选择\n    clearSelection() {\n      this.$refs.departmentTable && this.$refs.departmentTable.clearSelection();\n      this.selectedDepartments = [];\n    },\n    // 分页大小变化\n    handleSizeChange(val) {\n      this.pageSize = val;\n    },\n    // 当前页码变化\n    handleCurrentChange(val) {\n      this.currentPage = val;\n    },\n    // 多选变化\n    handleSelectionChange(selection) {\n      this.selectedDepartments = selection;\n    },\n    // 图片上传成功处理\n    handleAvatarSuccess(res, file) {\n      // 模拟上传成功\n      this.addDepartmentForm.avatar = URL.createObjectURL(file.raw);\n    },\n    // 编辑图片上传成功处理\n    handleEditAvatarSuccess(res, file) {\n      // 模拟上传成功\n      this.editDepartmentForm.avatar = URL.createObjectURL(file.raw);\n    },\n    // 图片上传前校验\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\n      const isLt2M = file.size / 1024 / 1024 < 2;\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG/PNG 格式!');\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n      return isJPG && isLt2M;\n    }\n  }\n};","map":{"version":3,"names":["departmentAPI","name","data","departments","filteredDepartments","loading","searchKeyword","selectedStatus","currentPage","pageSize","selectedDepartments","currentDepartment","addDepartmentDialogVisible","addDepartmentForm","description","responsiblePerson","phone","location","avatar","addDepartmentRules","required","message","trigger","min","max","pattern","editDepartmentDialogVisible","editDepartmentForm","id","editDepartmentRules","departmentDetailDialogVisible","departmentDoctorsDialogVisible","departmentDoctors","mounted","fetchDepartments","computed","paginatedDepartments","start","end","slice","methods","getAllDepartments","then","response","catch","error","console","$message","localFilterDepartments","results","keyword","toLowerCase","filter","dept","includes","status","parseInt","handleSearch","formatDate","dateString","date","Date","getFullYear","getMonth","toString","padStart","getDate","getHours","getMinutes","getSeconds","showAddDepartmentDialog","resetAddDepartmentForm","$refs","resetFields","submitAddDepartment","validate","valid","log","addDepartment","success","showEditDepartmentDialog","department","submitEditDepartment","updateDepartment","updateDepartmentStatus","deleteDepartment","doctorCount","warning","$confirm","confirmButtonText","cancelButtonText","type","viewDepartmentDetail","viewDepartmentDoctors","getDepartmentDoctors","batchDeleteDepartments","departmentsWithDoctors","d","length","departmentNames","map","join","idsToDelete","batchEnableDepartments","idsToEnable","batchUpdateDepartmentStatus","batchDisableDepartments","idsToDisable","clearSelection","departmentTable","handleSizeChange","val","handleCurrentChange","handleSelectionChange","selection","handleAvatarSuccess","res","file","URL","createObjectURL","raw","handleEditAvatarSuccess","beforeAvatarUpload","isJPG","isLt2M","size"],"sources":["src/views/admin/DepartmentManagement.vue"],"sourcesContent":["<template>\n  <div class=\"department-management\">\n    <div class=\"management-header\">\n      <h2>科室管理</h2>\n      <el-button type=\"primary\" @click=\"showAddDepartmentDialog\">\n        <i class=\"el-icon-plus\"></i> 添加科室\n      </el-button>\n    </div>\n\n    <!-- 搜索和筛选 -->\n    <div class=\"search-filter\">\n      <el-input\n        v-model=\"searchKeyword\"\n        placeholder=\"搜索科室名称、描述或负责人\"\n        prefix-icon=\"el-icon-search\"\n        clearable\n        @input=\"handleSearch\"\n        style=\"width: 300px; margin-right: 15px;\"\n      ></el-input>\n      \n      <el-select\n        v-model=\"selectedStatus\"\n        placeholder=\"选择科室状态\"\n        clearable\n        @change=\"handleSearch\"\n        style=\"width: 150px;\"\n      >\n        <el-option label=\"启用\" :value=\"1\"></el-option>\n        <el-option label=\"禁用\" :value=\"0\"></el-option>\n      </el-select>\n    </div>\n\n    <!-- 科室列表 -->\n    <div class=\"department-list\">\n      <el-table\n        :data=\"filteredDepartments\"\n        style=\"width: 100%\"\n        stripe\n        border\n        v-loading=\"loading\"\n        element-loading-text=\"加载中...\"\n        ref=\"departmentTable\"\n        @selection-change=\"handleSelectionChange\"\n      >\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n        <el-table-column prop=\"id\" label=\"科室ID\" width=\"80\"></el-table-column>\n        <el-table-column prop=\"name\" label=\"科室名称\" min-width=\"150\"></el-table-column>\n        <el-table-column prop=\"description\" label=\"科室描述\" show-overflow-tooltip min-width=\"200\"></el-table-column>\n        <el-table-column prop=\"responsiblePerson\" label=\"科室负责人\" min-width=\"120\"></el-table-column>\n        <el-table-column prop=\"phone\" label=\"联系电话\" min-width=\"120\"></el-table-column>\n        <el-table-column prop=\"location\" label=\"科室位置\" min-width=\"150\"></el-table-column>\n        <el-table-column prop=\"doctorCount\" label=\"医生数量\" width=\"100\">\n          <template slot-scope=\"scope\">\n            <el-tag type=\"primary\" @click=\"viewDepartmentDoctors(scope.row)\">\n              {{ scope.row.doctorCount }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"status\" label=\"状态\">\n          <template slot-scope=\"scope\">\n            <el-switch\n              v-model=\"scope.row.status\"\n              active-color=\"#67c23a\"\n              inactive-color=\"#909399\"\n              @change=\"updateDepartmentStatus(scope.row)\"\n            ></el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"180\">\n          <template slot-scope=\"scope\">\n            {{ formatDate(scope.row.createTime) }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"180\" fixed=\"right\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" size=\"small\" @click=\"showEditDepartmentDialog(scope.row)\">\n              编辑\n            </el-button>\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"deleteDepartment(scope.row)\"\n              style=\"color: #f56c6c;\"\n            >\n              删除\n            </el-button>\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"viewDepartmentDetail(scope.row)\"\n            >\n              详情\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 分页 -->\n      <div class=\"pagination\">\n        <el-pagination\n          background\n          layout=\"prev, pager, next, jumper, sizes, total\"\n          :total=\"filteredDepartments.length\"\n          :page-size.sync=\"pageSize\"\n          :current-page.sync=\"currentPage\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n        ></el-pagination>\n      </div>\n    </div>\n\n    <!-- 添加科室对话框 -->\n    <el-dialog\n      title=\"添加科室\"\n      :visible.sync=\"addDepartmentDialogVisible\"\n      width=\"600px\"\n      @close=\"resetAddDepartmentForm\"\n    >\n      <el-form\n        :model=\"addDepartmentForm\"\n        :rules=\"addDepartmentRules\"\n        ref=\"addDepartmentForm\"\n        label-width=\"120px\"\n      >\n        <el-form-item label=\"科室名称\" prop=\"name\">\n          <el-input v-model=\"addDepartmentForm.name\" placeholder=\"请输入科室名称\" maxlength=\"50\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"科室描述\" prop=\"description\">\n          <el-input\n            v-model=\"addDepartmentForm.description\"\n            type=\"textarea\"\n            rows=\"3\"\n            placeholder=\"请输入科室描述\"\n            maxlength=\"200\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"科室负责人\" prop=\"responsiblePerson\">\n          <el-input v-model=\"addDepartmentForm.responsiblePerson\" placeholder=\"请输入科室负责人\" maxlength=\"20\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"联系电话\" prop=\"phone\">\n          <el-input v-model=\"addDepartmentForm.phone\" placeholder=\"请输入联系电话\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"科室位置\" prop=\"location\">\n          <el-input v-model=\"addDepartmentForm.location\" placeholder=\"请输入科室位置\" maxlength=\"100\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"科室图片\">\n          <el-upload\n            class=\"avatar-uploader\"\n            action=\"#\"\n            :show-file-list=\"false\"\n            :on-success=\"handleAvatarSuccess\"\n            :before-upload=\"beforeAvatarUpload\"\n          >\n            <img v-if=\"addDepartmentForm.avatar\" :src=\"addDepartmentForm.avatar\" class=\"avatar\">\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n          </el-upload>\n          <div class=\"upload-tip\">点击上传科室图片 (jpg/png, 最大2MB)</div>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addDepartmentDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitAddDepartment\">确定</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 编辑科室对话框 -->\n    <el-dialog\n      title=\"编辑科室\"\n      :visible.sync=\"editDepartmentDialogVisible\"\n      width=\"600px\"\n    >\n      <el-form\n        :model=\"editDepartmentForm\"\n        :rules=\"editDepartmentRules\"\n        ref=\"editDepartmentForm\"\n        label-width=\"120px\"\n      >\n        <el-form-item label=\"科室ID\">\n          <el-input v-model=\"editDepartmentForm.id\" disabled></el-input>\n        </el-form-item>\n        <el-form-item label=\"科室名称\" prop=\"name\">\n          <el-input v-model=\"editDepartmentForm.name\" placeholder=\"请输入科室名称\" maxlength=\"50\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"科室描述\" prop=\"description\">\n          <el-input\n            v-model=\"editDepartmentForm.description\"\n            type=\"textarea\"\n            rows=\"3\"\n            placeholder=\"请输入科室描述\"\n            maxlength=\"200\"\n          ></el-input>\n        </el-form-item>\n        <el-form-item label=\"科室负责人\" prop=\"responsiblePerson\">\n          <el-input v-model=\"editDepartmentForm.responsiblePerson\" placeholder=\"请输入科室负责人\" maxlength=\"20\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"联系电话\" prop=\"phone\">\n          <el-input v-model=\"editDepartmentForm.phone\" placeholder=\"请输入联系电话\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"科室位置\" prop=\"location\">\n          <el-input v-model=\"editDepartmentForm.location\" placeholder=\"请输入科室位置\" maxlength=\"100\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"科室图片\">\n          <el-upload\n            class=\"avatar-uploader\"\n            action=\"#\"\n            :show-file-list=\"false\"\n            :on-success=\"handleEditAvatarSuccess\"\n            :before-upload=\"beforeAvatarUpload\"\n          >\n            <img v-if=\"editDepartmentForm.avatar\" :src=\"editDepartmentForm.avatar\" class=\"avatar\">\n            <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n          </el-upload>\n          <div class=\"upload-tip\">点击上传科室图片 (jpg/png, 最大2MB)</div>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editDepartmentDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitEditDepartment\">确定</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 科室详情对话框 -->\n    <el-dialog\n      title=\"科室详情\"\n      :visible.sync=\"departmentDetailDialogVisible\"\n      width=\"600px\"\n    >\n      <el-descriptions :column=\"1\" border>\n        <el-descriptions-item label=\"科室ID\">{{ currentDepartment.id }}</el-descriptions-item>\n        <el-descriptions-item label=\"科室名称\">{{ currentDepartment.name }}</el-descriptions-item>\n        <el-descriptions-item label=\"科室描述\">{{ currentDepartment.description }}</el-descriptions-item>\n        <el-descriptions-item label=\"科室负责人\">{{ currentDepartment.responsiblePerson }}</el-descriptions-item>\n        <el-descriptions-item label=\"联系电话\">{{ currentDepartment.phone }}</el-descriptions-item>\n        <el-descriptions-item label=\"科室位置\">{{ currentDepartment.location }}</el-descriptions-item>\n        <el-descriptions-item label=\"医生数量\">{{ currentDepartment.doctorCount }}</el-descriptions-item>\n        <el-descriptions-item label=\"科室状态\">\n          <el-tag :type=\"currentDepartment.status ? 'success' : 'danger'\">\n            {{ currentDepartment.status ? '启用' : '禁用' }}\n          </el-tag>\n        </el-descriptions-item>\n        <el-descriptions-item label=\"创建时间\">{{ formatDate(currentDepartment.createTime) }}</el-descriptions-item>\n        <el-descriptions-item label=\"科室图片\" v-if=\"currentDepartment.avatar\">\n          <img :src=\"currentDepartment.avatar\" class=\"detail-avatar\" />\n        </el-descriptions-item>\n      </el-descriptions>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"departmentDetailDialogVisible = false\">关闭</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 科室医生列表对话框 -->\n    <el-dialog\n      title=\"科室医生列表\"\n      :visible.sync=\"departmentDoctorsDialogVisible\"\n      width=\"800px\"\n    >\n      <div v-if=\"departmentDoctors.length > 0\">\n        <el-table :data=\"departmentDoctors\" stripe border>\n          <el-table-column prop=\"id\" label=\"医生ID\" width=\"80\"></el-table-column>\n          <el-table-column prop=\"name\" label=\"医生姓名\"></el-table-column>\n          <el-table-column prop=\"title\" label=\"职称\"></el-table-column>\n          <el-table-column prop=\"specialty\" label=\"专长\"></el-table-column>\n          <el-table-column prop=\"phone\" label=\"联系电话\"></el-table-column>\n          <el-table-column prop=\"status\" label=\"状态\">\n            <template slot-scope=\"scope\">\n              <el-tag :type=\"scope.row.status ? 'success' : 'danger'\">\n                {{ scope.row.status ? '在职' : '离职' }}\n              </el-tag>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n      <div v-else class=\"empty-tip\">\n        <el-empty description=\"该科室暂无医生\"></el-empty>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"departmentDoctorsDialogVisible = false\">关闭</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 批量操作 -->\n    <div class=\"batch-operations\" v-if=\"selectedDepartments.length > 0\">\n      <el-tag>\n        已选择 {{ selectedDepartments.length }} 项\n      </el-tag>\n      <el-button type=\"danger\" size=\"small\" @click=\"batchDeleteDepartments\">\n        批量删除\n      </el-button>\n      <el-button type=\"warning\" size=\"small\" @click=\"batchEnableDepartments\">\n        批量启用\n      </el-button>\n      <el-button type=\"warning\" size=\"small\" @click=\"batchDisableDepartments\">\n        批量禁用\n      </el-button>\n      <el-button size=\"small\" @click=\"clearSelection\">清空选择</el-button>\n    </div>\n  </div>\n</template>\n\n<script>\nimport departmentAPI from '@/api/department';\nexport default {\n  name: 'DepartmentManagement',\n  data() {\n    return {\n      // 科室列表数据\n      departments: [],\n      filteredDepartments: [],\n      loading: false,\n      \n      // 搜索和筛选条件\n      searchKeyword: '',\n      selectedStatus: '',\n      \n      // 分页信息\n      currentPage: 1,\n      pageSize: 10,\n      \n      // 选中的科室\n      selectedDepartments: [],\n      \n      // 当前查看的科室\n      currentDepartment: {},\n      \n      // 添加科室对话框\n      addDepartmentDialogVisible: false,\n      addDepartmentForm: {\n        name: '',\n        description: '',\n        responsiblePerson: '',\n        phone: '',\n        location: '',\n        avatar: ''\n      },\n      addDepartmentRules: {\n        name: [\n          { required: true, message: '请输入科室名称', trigger: 'blur' },\n          { min: 2, max: 50, message: '科室名称长度在 2 到 50 个字符', trigger: 'blur' }\n        ],\n        description: [\n          { required: true, message: '请输入科室描述', trigger: 'blur' },\n          { max: 200, message: '科室描述不能超过 200 个字符', trigger: 'blur' }\n        ],\n        responsiblePerson: [\n          { required: true, message: '请输入科室负责人', trigger: 'blur' },\n          { max: 20, message: '负责人姓名不能超过 20 个字符', trigger: 'blur' }\n        ],\n        phone: [\n          { required: true, message: '请输入联系电话', trigger: 'blur' },\n          { pattern: /^\\d{3,4}-?\\d{7,8}$|^1[3-9]\\d{9}$/, message: '请输入正确的电话格式', trigger: 'blur' }\n        ],\n        location: [\n          { required: true, message: '请输入科室位置', trigger: 'blur' },\n          { max: 100, message: '科室位置不能超过 100 个字符', trigger: 'blur' }\n        ]\n      },\n      \n      // 编辑科室对话框\n      editDepartmentDialogVisible: false,\n      editDepartmentForm: {\n        id: '',\n        name: '',\n        description: '',\n        responsiblePerson: '',\n        phone: '',\n        location: '',\n        avatar: ''\n      },\n      editDepartmentRules: {\n        name: [\n          { required: true, message: '请输入科室名称', trigger: 'blur' },\n          { min: 2, max: 50, message: '科室名称长度在 2 到 50 个字符', trigger: 'blur' }\n        ],\n        description: [\n          { required: true, message: '请输入科室描述', trigger: 'blur' },\n          { max: 200, message: '科室描述不能超过 200 个字符', trigger: 'blur' }\n        ],\n        responsiblePerson: [\n          { required: true, message: '请输入科室负责人', trigger: 'blur' },\n          { max: 20, message: '负责人姓名不能超过 20 个字符', trigger: 'blur' }\n        ],\n        phone: [\n          { required: true, message: '请输入联系电话', trigger: 'blur' },\n          { pattern: /^\\d{3,4}-?\\d{7,8}$|^1[3-9]\\d{9}$/, message: '请输入正确的电话格式', trigger: 'blur' }\n        ],\n        location: [\n          { required: true, message: '请输入科室位置', trigger: 'blur' },\n          { max: 100, message: '科室位置不能超过 100 个字符', trigger: 'blur' }\n        ]\n      },\n      \n      // 科室详情对话框\n      departmentDetailDialogVisible: false,\n      \n      // 科室医生列表对话框\n      departmentDoctorsDialogVisible: false,\n      departmentDoctors: []\n    }\n  },\n  mounted() {\n    this.fetchDepartments()\n  },\n  computed: {\n    // 分页后的科室列表\n    paginatedDepartments() {\n      const start = (this.currentPage - 1) * this.pageSize\n      const end = start + this.pageSize\n      return this.filteredDepartments.slice(start, end)\n    }\n  },\n  methods: {\n    // 获取科室列表\n    fetchDepartments() {\n      this.loading = true\n      departmentAPI.getAllDepartments()\n        .then(response => {\n          this.departments = response.data\n          this.filteredDepartments = [...this.departments]\n          this.loading = false\n        })\n        .catch(error => {\n          console.error('获取科室列表失败:', error)\n          this.$message.error('获取科室列表失败，请稍后重试')\n          this.loading = false\n          // 如果API调用失败，可以使用本地过滤作为备用\n          this.localFilterDepartments()\n        })\n    },\n    \n    // 本地过滤科室（作为API调用失败的备用方案）\n    localFilterDepartments() {\n      let results = [...this.departments]\n      \n      // 根据关键词搜索\n      if (this.searchKeyword) {\n        const keyword = this.searchKeyword.toLowerCase()\n        results = results.filter(dept => \n          dept.name.toLowerCase().includes(keyword) ||\n          dept.description.toLowerCase().includes(keyword) ||\n          dept.responsiblePerson.toLowerCase().includes(keyword)\n        )\n      }\n      \n      // 根据状态筛选\n      if (this.selectedStatus !== '') {\n        results = results.filter(dept => dept.status === parseInt(this.selectedStatus))\n      }\n      \n      this.filteredDepartments = results\n    },\n\n    // 搜索科室\n    handleSearch() {\n      let results = [...this.departments]\n      \n      // 根据关键词搜索\n      if (this.searchKeyword) {\n        const keyword = this.searchKeyword.toLowerCase()\n        results = results.filter(dept => \n          dept.name.toLowerCase().includes(keyword) ||\n          dept.description.toLowerCase().includes(keyword) ||\n          dept.responsiblePerson.toLowerCase().includes(keyword)\n        )\n      }\n      \n      // 根据状态筛选\n      if (this.selectedStatus !== '') {\n        results = results.filter(dept => dept.status === parseInt(this.selectedStatus))\n      }\n      \n      this.filteredDepartments = results\n      this.currentPage = 1 // 重置到第一页\n    },\n\n    // 格式化日期\n    formatDate(dateString) {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}:${date.getSeconds().toString().padStart(2, '0')}`\n    },\n\n    // 显示添加科室对话框\n    showAddDepartmentDialog() {\n      this.resetAddDepartmentForm()\n      this.addDepartmentDialogVisible = true\n    },\n\n    // 重置添加科室表单\n    resetAddDepartmentForm() {\n      this.addDepartmentForm = {\n        name: '',\n        description: '',\n        responsiblePerson: '',\n        phone: '',\n        location: '',\n        avatar: ''\n      }\n      this.$refs.addDepartmentForm && this.$refs.addDepartmentForm.resetFields()\n    },\n\n    // 提交添加科室\n    submitAddDepartment() {\n      this.$refs.addDepartmentForm.validate((valid) => {\n        if (valid) {\n          console.log('提交的科室数据:', this.addDepartmentForm)\n          departmentAPI.addDepartment(this.addDepartmentForm)\n            .then(response => {\n              console.log('添加科室成功响应:', response)\n              this.fetchDepartments() // 重新获取科室列表\n              this.addDepartmentDialogVisible = false\n              this.$message.success('科室添加成功')\n            })\n            .catch(error => {\n              console.error('添加科室失败:', error)\n              console.error('错误详情:', error.response || error.message)\n              this.$message.error('添加科室失败，请稍后重试')\n            })\n        }\n      })\n    },\n\n    // 显示编辑科室对话框\n    showEditDepartmentDialog(department) {\n      this.editDepartmentForm = { ...department }\n      this.editDepartmentDialogVisible = true\n    },\n\n    // 提交编辑科室\n    submitEditDepartment() {\n      this.$refs.editDepartmentForm.validate((valid) => {\n        if (valid) {\n          departmentAPI.updateDepartment(this.editDepartmentForm.id, this.editDepartmentForm)\n            .then(() => {\n              this.fetchDepartments() // 重新获取科室列表\n              this.editDepartmentDialogVisible = false\n              this.$message.success('科室更新成功')\n            })\n            .catch(error => {\n              console.error('更新科室失败:', error)\n              this.$message.error('更新科室失败，请稍后重试')\n            })\n        }\n      })\n    },\n\n    // 更新科室状态\n    updateDepartmentStatus(department) {\n      departmentAPI.updateDepartmentStatus(department.id, department.status)\n        .then(() => {\n          this.$message.success(`科室状态已更新为${department.status ? '启用' : '禁用'}`)\n        })\n        .catch(error => {\n          console.error('更新科室状态失败:', error)\n          this.$message.error('更新科室状态失败，请稍后重试')\n          // 恢复原来的状态\n          department.status = !department.status\n        })\n    },\n\n    // 删除科室\n    deleteDepartment(department) {\n      if (department.doctorCount > 0) {\n        this.$message.warning('该科室下还有医生，无法删除')\n        return\n      }\n      \n      this.$confirm(`确定要删除科室「${department.name}」吗？`, '删除确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        departmentAPI.deleteDepartment(department.id)\n          .then(() => {\n            this.fetchDepartments() // 重新获取科室列表\n            this.$message.success('科室删除成功')\n          })\n          .catch(error => {\n            console.error('删除科室失败:', error)\n            this.$message.error('删除科室失败，请稍后重试')\n          })\n      }).catch(() => {\n        // 取消删除\n      })\n    },\n\n    // 查看科室详情\n    viewDepartmentDetail(department) {\n      this.currentDepartment = { ...department }\n      this.departmentDetailDialogVisible = true\n    },\n\n    // 查看科室医生\n    viewDepartmentDoctors(department) {\n      this.loading = true\n      departmentAPI.getDepartmentDoctors(department.id)\n        .then(response => {\n          this.departmentDoctors = response.data\n          this.departmentDoctorsDialogVisible = true\n          this.loading = false\n        })\n        .catch(error => {\n          console.error('获取科室医生失败:', error)\n          this.$message.error('获取科室医生失败，请稍后重试')\n          this.loading = false\n          this.departmentDoctors = []\n          this.departmentDoctorsDialogVisible = true\n        })\n    },\n\n    // 批量删除科室\n    batchDeleteDepartments() {\n      const departmentsWithDoctors = this.selectedDepartments.filter(d => d.doctorCount > 0)\n      if (departmentsWithDoctors.length > 0) {\n        const departmentNames = departmentsWithDoctors.map(d => d.name).join('、')\n        this.$message.warning(`以下科室还有医生，无法删除：${departmentNames}`)\n        return\n      }\n\n      const departmentNames = this.selectedDepartments.map(d => d.name).join('、')\n      this.$confirm(`确定要删除以下科室吗？\\n${departmentNames}`, '批量删除确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        const idsToDelete = this.selectedDepartments.map(d => d.id)\n        departmentAPI.batchDeleteDepartments(idsToDelete)\n          .then(() => {\n            this.fetchDepartments() // 重新获取科室列表\n            this.selectedDepartments = []\n            this.$message.success('批量删除成功')\n          })\n          .catch(error => {\n            console.error('批量删除科室失败:', error)\n            this.$message.error('批量删除科室失败，请稍后重试')\n          })\n      }).catch(() => {\n        // 取消删除\n      })\n    },\n\n    // 批量启用科室\n    batchEnableDepartments() {\n      const idsToEnable = this.selectedDepartments.map(d => d.id)\n      departmentAPI.batchUpdateDepartmentStatus(idsToEnable, 1)\n        .then(() => {\n          this.fetchDepartments() // 重新获取科室列表\n          this.selectedDepartments = []\n          this.$message.success('批量启用成功')\n        })\n        .catch(error => {\n          console.error('批量启用科室失败:', error)\n          this.$message.error('批量启用科室失败，请稍后重试')\n        })\n    },\n\n    // 批量禁用科室\n    batchDisableDepartments() {\n      const idsToDisable = this.selectedDepartments.map(d => d.id)\n      departmentAPI.batchUpdateDepartmentStatus(idsToDisable, 0)\n        .then(() => {\n          this.fetchDepartments() // 重新获取科室列表\n          this.selectedDepartments = []\n          this.$message.success('批量禁用成功')\n        })\n        .catch(error => {\n          console.error('批量禁用科室失败:', error)\n          this.$message.error('批量禁用科室失败，请稍后重试')\n        })\n    },\n\n    // 清空选择\n    clearSelection() {\n      this.$refs.departmentTable && this.$refs.departmentTable.clearSelection()\n      this.selectedDepartments = []\n    },\n\n    // 分页大小变化\n    handleSizeChange(val) {\n      this.pageSize = val\n    },\n\n    // 当前页码变化\n    handleCurrentChange(val) {\n      this.currentPage = val\n    },\n\n    // 多选变化\n    handleSelectionChange(selection) {\n      this.selectedDepartments = selection\n    },\n\n    // 图片上传成功处理\n    handleAvatarSuccess(res, file) {\n      // 模拟上传成功\n      this.addDepartmentForm.avatar = URL.createObjectURL(file.raw)\n    },\n\n    // 编辑图片上传成功处理\n    handleEditAvatarSuccess(res, file) {\n      // 模拟上传成功\n      this.editDepartmentForm.avatar = URL.createObjectURL(file.raw)\n    },\n\n    // 图片上传前校验\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === 'image/jpeg' || file.type === 'image/png'\n      const isLt2M = file.size / 1024 / 1024 < 2\n\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG/PNG 格式!')\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!')\n      }\n      return isJPG && isLt2M\n    }\n  }\n}\n</script>\n\n<style scoped>\n.department-management {\n  padding: 20px;\n  background-color: #f5f7fa;\n  min-height: calc(100vh - 60px);\n}\n\n.management-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.management-header h2 {\n  margin: 0;\n  color: #303133;\n}\n\n.search-filter {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n  padding: 15px;\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.department-list {\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  padding: 15px;\n}\n\n.pagination {\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.batch-operations {\n  margin-top: 15px;\n  padding: 10px 15px;\n  background-color: #ecf5ff;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  gap: 15px;\n}\n\n.batch-operations .el-tag {\n  background-color: #409eff;\n  color: #fff;\n}\n\n/* 头像上传样式 */\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n  transition: border-color .3s;\n}\n\n.avatar-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 150px;\n  height: 150px;\n  line-height: 150px;\n  text-align: center;\n}\n\n.avatar {\n  width: 150px;\n  height: 150px;\n  display: block;\n}\n\n.upload-tip {\n  margin-top: 10px;\n  color: #909399;\n  font-size: 12px;\n}\n\n/* 详情页头像 */\n.detail-avatar {\n  width: 200px;\n  height: 200px;\n  border-radius: 4px;\n}\n\n/* 空状态提示 */\n.empty-tip {\n  padding: 40px 0;\n  text-align: center;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .search-filter {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 10px;\n  }\n  \n  .search-filter .el-input,\n  .search-filter .el-select {\n    width: 100% !important;\n    margin-right: 0 !important;\n  }\n  \n  .management-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n  \n  .pagination {\n    justify-content: center;\n  }\n  \n  .avatar-uploader-icon,\n  .avatar {\n    width: 120px;\n    height: 120px;\n    line-height: 120px;\n  }\n  \n  .detail-avatar {\n    width: 150px;\n    height: 150px;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}