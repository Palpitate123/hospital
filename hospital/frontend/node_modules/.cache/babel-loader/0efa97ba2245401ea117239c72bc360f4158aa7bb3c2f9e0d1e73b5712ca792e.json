{"ast":null,"code":"export default {\n  name: 'Appointment',\n  data() {\n    return {\n      user: null,\n      appointmentForm: {\n        departmentId: '',\n        doctorId: '',\n        appointmentDate: '',\n        appointmentTime: '',\n        symptoms: '',\n        contactPhone: ''\n      },\n      departments: [],\n      filteredDoctors: [],\n      availableTimeSlots: ['上午', '下午'],\n      rules: {},\n      submitting: false\n    };\n  },\n  created() {\n    // 获取用户信息\n    this.user = this.$store.state.user;\n  },\n  methods: {\n    handleDepartmentChange() {\n      // 处理科室选择变化\n    },\n    disabledDate(time) {\n      // 禁用日期逻辑\n      return time.getTime() < Date.now() - 8.64e7;\n    },\n    validatePhone(rule, value, callback) {\n      // 电话号码验证\n      callback();\n    },\n    submitForm() {\n      // 提交表单逻辑\n    },\n    resetForm() {\n      // 重置表单逻辑\n    },\n    handleLogout() {\n      // 退出登录\n      this.$store.commit('LOGOUT');\n      this.$router.push('/login');\n    }\n  }\n};","map":{"version":3,"names":["name","data","user","appointmentForm","departmentId","doctorId","appointmentDate","appointmentTime","symptoms","contactPhone","departments","filteredDoctors","availableTimeSlots","rules","submitting","created","$store","state","methods","handleDepartmentChange","disabledDate","time","getTime","Date","now","validatePhone","rule","value","callback","submitForm","resetForm","handleLogout","commit","$router","push"],"sources":["src/views/Appointment.vue"],"sourcesContent":["<template>\n  <div class=\"appointment-container\">\n    <!-- 顶部导航栏 -->\n    <header class=\"header\">\n      <div class=\"header-content\">\n        <div class=\"logo\">\n          <i class=\"el-icon-medal-1\"></i>\n          <span>医院预约系统</span>\n        </div>\n        <nav class=\"nav-menu\">\n          <router-link to=\"/home\" class=\"nav-item\">首页</router-link>\n          <router-link to=\"/departments\" class=\"nav-item\">科室介绍</router-link>\n          <router-link to=\"/doctors\" class=\"nav-item\">医生团队</router-link>\n          <router-link to=\"/medical-guide\" class=\"nav-item\">医疗导诊</router-link>\n        </nav>\n        <div class=\"user-info\">\n          <div v-if=\"user\" class=\"logged-in\">\n            <span class=\"welcome\">欢迎，{{ user.name || user.username }}</span>\n            <router-link to=\"/user-info\" class=\"btn-text\">个人信息</router-link>\n            <button class=\"btn-text\" @click=\"handleLogout\">退出登录</button>\n          </div>\n          <div v-else class=\"not-logged-in\">\n            <router-link to=\"/login\" class=\"btn-primary\">登录</router-link>\n            <router-link to=\"/register\" class=\"btn-text\">注册</router-link>\n          </div>\n        </div>\n      </div>\n    </header>\n    <!-- 内容区域 -->\n    <main class=\"main-content\">\n      <div v-if=\"!user\">\n        <el-alert\n          title=\"请先登录\"\n          description=\"预约功能需要登录后使用，请先登录账号\"\n          type=\"info\"\n          show-icon\n          :closable=\"false\"\n        >\n          <router-link to=\"/login\" slot=\"after-close\">立即登录</router-link>\n        </el-alert>\n      </div>\n      <div v-else>\n        <div class=\"page-header\">\n          <h1>在线预约</h1>\n          <p class=\"page-desc\">选择合适的医生和时间进行预约</p>\n        </div>\n        <!-- 预约表单 -->\n        <el-form :model=\"appointmentForm\" :rules=\"rules\" ref=\"appointmentFormRef\" label-width=\"120px\" class=\"appointment-form\">\n          <el-form-item label=\"选择科室\" prop=\"departmentId\">\n            <el-select v-model=\"appointmentForm.departmentId\" placeholder=\"请选择科室\" @change=\"handleDepartmentChange\">\n              <el-option\n                v-for=\"dept in departments\"\n                :key=\"dept.id\"\n                :label=\"dept.name\"\n                :value=\"dept.id\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"选择医生\" prop=\"doctorId\">\n            <el-select v-model=\"appointmentForm.doctorId\" placeholder=\"请先选择科室\">\n              <el-option\n                v-for=\"doctor in filteredDoctors\"\n                :key=\"doctor.id\"\n                :label=\"doctor.name + ' - ' + doctor.title\"\n                :value=\"doctor.id\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"预约日期\" prop=\"appointmentDate\">\n            <el-date-picker\n              v-model=\"appointmentForm.appointmentDate\"\n              type=\"date\"\n              placeholder=\"请选择预约日期\"\n              format=\"yyyy-MM-dd\"\n              :disabled-date=\"disabledDate\"\n            ></el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"预约时段\" prop=\"appointmentTime\">\n            <el-select v-model=\"appointmentForm.appointmentTime\" placeholder=\"请选择预约时段\">\n              <el-option\n                v-for=\"timeSlot in availableTimeSlots\"\n                :key=\"timeSlot\"\n                :label=\"timeSlot\"\n                :value=\"timeSlot\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"症状描述\" prop=\"symptoms\">\n            <el-input\n              v-model=\"appointmentForm.symptoms\"\n              type=\"textarea\"\n              :rows=\"4\"\n              placeholder=\"请简要描述您的症状或就诊需求\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"联系电话\" prop=\"contactPhone\"\n            :rules=\"[{ required: true, message: '请输入联系电话', trigger: 'blur' }, { validator: validatePhone, trigger: 'blur' }]\"\n          >\n            <el-input v-model=\"appointmentForm.contactPhone\" placeholder=\"请输入联系电话\"></el-input>\n          </el-form-item>\n          <el-form-item class=\"submit-section\">\n            <el-button type=\"primary\" @click=\"submitForm\" :loading=\"submitting\">提交预约</el-button>\n            <el-button @click=\"resetForm\">重置表单</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Appointment',\n  data() {\n    return {\n      user: null,\n      appointmentForm: {\n        departmentId: '',\n        doctorId: '',\n        appointmentDate: '',\n        appointmentTime: '',\n        symptoms: '',\n        contactPhone: ''\n      },\n      departments: [],\n      filteredDoctors: [],\n      availableTimeSlots: ['上午', '下午'],\n      rules: {},\n      submitting: false\n    }\n  },\n  created() {\n    // 获取用户信息\n    this.user = this.$store.state.user\n  },\n  methods: {\n    handleDepartmentChange() {\n      // 处理科室选择变化\n    },\n    disabledDate(time) {\n      // 禁用日期逻辑\n      return time.getTime() < Date.now() - 8.64e7\n    },\n    validatePhone(rule, value, callback) {\n      // 电话号码验证\n      callback()\n    },\n    submitForm() {\n      // 提交表单逻辑\n    },\n    resetForm() {\n      // 重置表单逻辑\n    },\n    handleLogout() {\n      // 退出登录\n      this.$store.commit('LOGOUT')\n      this.$router.push('/login')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.appointment-container {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n/* 样式内容 */\n</style>"],"mappings":"AA+GA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,IAAA;MACAC,eAAA;QACAC,YAAA;QACAC,QAAA;QACAC,eAAA;QACAC,eAAA;QACAC,QAAA;QACAC,YAAA;MACA;MACAC,WAAA;MACAC,eAAA;MACAC,kBAAA;MACAC,KAAA;MACAC,UAAA;IACA;EACA;EACAC,QAAA;IACA;IACA,KAAAb,IAAA,QAAAc,MAAA,CAAAC,KAAA,CAAAf,IAAA;EACA;EACAgB,OAAA;IACAC,uBAAA;MACA;IAAA,CACA;IACAC,aAAAC,IAAA;MACA;MACA,OAAAA,IAAA,CAAAC,OAAA,KAAAC,IAAA,CAAAC,GAAA;IACA;IACAC,cAAAC,IAAA,EAAAC,KAAA,EAAAC,QAAA;MACA;MACAA,QAAA;IACA;IACAC,WAAA;MACA;IAAA,CACA;IACAC,UAAA;MACA;IAAA,CACA;IACAC,aAAA;MACA;MACA,KAAAf,MAAA,CAAAgB,MAAA;MACA,KAAAC,OAAA,CAAAC,IAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}