{"ast":null,"code":"import doctorAPI from '../../api/doctor';\nimport departmentAPI from '../../api/department';\nexport default {\n  name: 'DoctorManagement',\n  data() {\n    return {\n      // 医生列表数据\n      doctors: [],\n      filteredDoctors: [],\n      loading: false,\n      // 科室数据\n      departments: [],\n      // 搜索和筛选条件\n      searchKeyword: '',\n      selectedDepartmentId: '',\n      selectedTitle: '',\n      selectedStatus: '',\n      // 分页信息\n      currentPage: 1,\n      pageSize: 10,\n      // 选中的医生\n      selectedDoctors: [],\n      // 当前查看的医生\n      currentDoctor: {},\n      selectedDoctorForSchedule: {},\n      // 添加医生对话框\n      addDoctorDialogVisible: false,\n      addDoctorForm: {\n        name: '',\n        gender: '男',\n        age: '',\n        experience: '',\n        departmentId: '',\n        title: '',\n        phone: '',\n        email: '',\n        specialty: '',\n        introduction: '',\n        avatar: ''\n      },\n      addDoctorRules: {\n        name: [{\n          required: true,\n          message: '请输入医生姓名',\n          trigger: 'blur'\n        }, {\n          min: 2,\n          max: 20,\n          message: '医生姓名长度在 2 到 20 个字符',\n          trigger: 'blur'\n        }],\n        gender: [{\n          required: true,\n          message: '请选择性别',\n          trigger: 'change'\n        }],\n        age: [{\n          required: true,\n          message: '请输入年龄',\n          trigger: 'blur'\n        }, {\n          type: 'number',\n          min: 22,\n          max: 80,\n          message: '年龄在 22 到 80 之间',\n          trigger: 'blur'\n        }],\n        experience: [{\n          required: true,\n          message: '请输入工作年限',\n          trigger: 'blur'\n        }, {\n          type: 'number',\n          min: 0,\n          max: 50,\n          message: '工作年限在 0 到 50 之间',\n          trigger: 'blur'\n        }],\n        departmentId: [{\n          required: true,\n          message: '请选择所属科室',\n          trigger: 'change'\n        }],\n        title: [{\n          required: true,\n          message: '请选择职称',\n          trigger: 'change'\n        }],\n        phone: [{\n          required: true,\n          message: '请输入联系电话',\n          trigger: 'blur'\n        }, {\n          pattern: /^1[3-9]\\d{9}$/,\n          message: '请输入正确的手机号码',\n          trigger: 'blur'\n        }],\n        email: [{\n          required: true,\n          message: '请输入电子邮箱',\n          trigger: 'blur'\n        }, {\n          type: 'email',\n          message: '请输入正确的邮箱格式',\n          trigger: 'blur'\n        }],\n        specialty: [{\n          required: true,\n          message: '请输入医生专长',\n          trigger: 'blur'\n        }, {\n          max: 200,\n          message: '专长不能超过 200 个字符',\n          trigger: 'blur'\n        }],\n        introduction: [{\n          required: true,\n          message: '请输入个人简介',\n          trigger: 'blur'\n        }, {\n          max: 500,\n          message: '个人简介不能超过 500 个字符',\n          trigger: 'blur'\n        }]\n      },\n      // 编辑医生对话框\n      editDoctorDialogVisible: false,\n      editDoctorForm: {\n        id: '',\n        name: '',\n        gender: '男',\n        age: '',\n        experience: '',\n        departmentId: '',\n        departmentName: '',\n        title: '',\n        phone: '',\n        email: '',\n        specialty: '',\n        introduction: '',\n        avatar: '',\n        status: 1,\n        createTime: ''\n      },\n      editDoctorRules: {\n        name: [{\n          required: true,\n          message: '请输入医生姓名',\n          trigger: 'blur'\n        }, {\n          min: 2,\n          max: 20,\n          message: '医生姓名长度在 2 到 20 个字符',\n          trigger: 'blur'\n        }],\n        gender: [{\n          required: true,\n          message: '请选择性别',\n          trigger: 'change'\n        }],\n        age: [{\n          required: true,\n          message: '请输入年龄',\n          trigger: 'blur'\n        }, {\n          type: 'number',\n          min: 22,\n          max: 80,\n          message: '年龄在 22 到 80 之间',\n          trigger: 'blur'\n        }],\n        experience: [{\n          required: true,\n          message: '请输入工作年限',\n          trigger: 'blur'\n        }, {\n          type: 'number',\n          min: 0,\n          max: 50,\n          message: '工作年限在 0 到 50 之间',\n          trigger: 'blur'\n        }],\n        departmentId: [{\n          required: true,\n          message: '请选择所属科室',\n          trigger: 'change'\n        }],\n        title: [{\n          required: true,\n          message: '请选择职称',\n          trigger: 'change'\n        }],\n        phone: [{\n          required: true,\n          message: '请输入联系电话',\n          trigger: 'blur'\n        }, {\n          pattern: /^1[3-9]\\d{9}$/,\n          message: '请输入正确的手机号码',\n          trigger: 'blur'\n        }],\n        email: [{\n          required: true,\n          message: '请输入电子邮箱',\n          trigger: 'blur'\n        }, {\n          type: 'email',\n          message: '请输入正确的邮箱格式',\n          trigger: 'blur'\n        }],\n        specialty: [{\n          required: true,\n          message: '请输入医生专长',\n          trigger: 'blur'\n        }, {\n          max: 200,\n          message: '专长不能超过 200 个字符',\n          trigger: 'blur'\n        }],\n        introduction: [{\n          required: true,\n          message: '请输入个人简介',\n          trigger: 'blur'\n        }, {\n          max: 500,\n          message: '个人简介不能超过 500 个字符',\n          trigger: 'blur'\n        }]\n      },\n      // 医生详情对话框\n      doctorDetailDialogVisible: false,\n      // 医生排班对话框\n      scheduleDialogVisible: false,\n      scheduleDateRange: [new Date(), new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)],\n      doctorSchedule: [],\n      // 批量调整科室对话框\n      batchMoveDialogVisible: false,\n      batchMoveForm: {\n        departmentId: ''\n      },\n      batchMoveRules: {\n        departmentId: [{\n          required: true,\n          message: '请选择目标科室',\n          trigger: 'change'\n        }]\n      }\n    };\n  },\n  mounted() {\n    this.fetchDepartments();\n    this.fetchDoctors();\n  },\n  computed: {\n    // 分页后的医生列表\n    paginatedDoctors() {\n      const start = (this.currentPage - 1) * this.pageSize;\n      const end = start + this.pageSize;\n      return this.filteredDoctors.slice(start, end);\n    }\n  },\n  methods: {\n    // 获取科室列表\n    async fetchDepartments() {\n      try {\n        const response = await departmentAPI.getAllDepartments();\n        this.departments = response.data || [];\n      } catch (error) {\n        console.error('获取科室列表失败:', error);\n        this.$message.error('获取科室列表失败');\n        this.departments = [];\n      }\n    },\n    // 获取医生列表\n    async fetchDoctors() {\n      this.loading = true;\n      try {\n        const response = await doctorAPI.getAllDoctors();\n        this.doctors = response.data || [];\n        this.filteredDoctors = [...this.doctors];\n      } catch (error) {\n        console.error('获取医生列表失败:', error);\n        this.$message.error('获取医生列表失败');\n        this.doctors = [];\n        this.filteredDoctors = [];\n      } finally {\n        this.loading = false;\n      }\n    },\n    // 医生数据现在通过API从后端获取\n\n    // 搜索医生\n    handleSearch() {\n      let results = [...this.doctors];\n\n      // 根据关键词搜索\n      if (this.searchKeyword) {\n        const keyword = this.searchKeyword.toLowerCase();\n        results = results.filter(doctor => doctor.name.toLowerCase().includes(keyword) || doctor.specialty.toLowerCase().includes(keyword) || doctor.phone.includes(keyword) || doctor.email.toLowerCase().includes(keyword));\n      }\n\n      // 根据科室筛选\n      if (this.selectedDepartmentId !== '') {\n        results = results.filter(doctor => doctor.departmentId === parseInt(this.selectedDepartmentId));\n      }\n\n      // 根据职称筛选\n      if (this.selectedTitle !== '') {\n        results = results.filter(doctor => doctor.title === this.selectedTitle);\n      }\n\n      // 根据状态筛选\n      if (this.selectedStatus !== '') {\n        results = results.filter(doctor => doctor.status === parseInt(this.selectedStatus));\n      }\n      this.filteredDoctors = results;\n      this.currentPage = 1; // 重置到第一页\n    },\n    // 格式化日期\n    formatDate(dateString) {\n      if (!dateString) return '';\n      const date = new Date(dateString);\n      return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}:${date.getSeconds().toString().padStart(2, '0')}`;\n    },\n    // 显示添加医生对话框\n    showAddDoctorDialog() {\n      this.resetAddDoctorForm();\n      this.addDoctorDialogVisible = true;\n    },\n    // 重置添加医生表单\n    resetAddDoctorForm() {\n      this.addDoctorForm = {\n        name: '',\n        gender: '男',\n        age: '',\n        experience: '',\n        departmentId: '',\n        title: '',\n        phone: '',\n        email: '',\n        specialty: '',\n        introduction: '',\n        avatar: ''\n      };\n      this.$refs.addDoctorForm && this.$refs.addDoctorForm.resetFields();\n    },\n    // 提交添加医生\n    submitAddDoctor() {\n      this.$refs.addDoctorForm.validate(valid => {\n        if (valid) {\n          // 这里应该是API调用，现在使用模拟数据\n          const departmentName = this.departments.find(d => d.id === this.addDoctorForm.departmentId)?.name || '';\n          const newDoctor = {\n            id: this.doctors.length + 1,\n            ...this.addDoctorForm,\n            departmentName,\n            status: 1,\n            createTime: new Date().toISOString().replace('T', ' ').substring(0, 19)\n          };\n          this.doctors.unshift(newDoctor);\n          this.handleSearch(); // 重新搜索以更新列表\n          this.addDoctorDialogVisible = false;\n          this.$message.success('医生添加成功');\n        }\n      });\n    },\n    // 显示编辑医生对话框\n    showEditDoctorDialog(doctor) {\n      this.editDoctorForm = {\n        ...doctor\n      };\n      this.editDoctorDialogVisible = true;\n    },\n    // 提交编辑医生\n    submitEditDoctor() {\n      this.$refs.editDoctorForm.validate(valid => {\n        if (valid) {\n          // 这里应该是API调用，现在使用模拟数据\n          const departmentName = this.departments.find(d => d.id === this.editDoctorForm.departmentId)?.name || '';\n          const index = this.doctors.findIndex(d => d.id === this.editDoctorForm.id);\n          if (index !== -1) {\n            // 保留状态和创建时间\n            const original = this.doctors[index];\n            this.doctors[index] = {\n              ...this.editDoctorForm,\n              departmentName,\n              status: original.status,\n              createTime: original.createTime\n            };\n            this.handleSearch(); // 重新搜索以更新列表\n            this.editDoctorDialogVisible = false;\n            this.$message.success('医生信息更新成功');\n          }\n        }\n      });\n    },\n    // 更新医生状态\n    updateDoctorStatus(doctor) {\n      // 这里应该是API调用，现在只是更新本地数据\n      this.$message.success(`医生状态已更新为${doctor.status ? '在职' : '离职'}`);\n    },\n    // 删除医生\n    deleteDoctor(doctor) {\n      this.$confirm(`确定要删除医生「${doctor.name}」吗？`, '删除确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 这里应该是API调用，现在只是更新本地数据\n        const index = this.doctors.findIndex(d => d.id === doctor.id);\n        if (index !== -1) {\n          this.doctors.splice(index, 1);\n          this.handleSearch(); // 重新搜索以更新列表\n          this.$message.success('医生删除成功');\n        }\n      }).catch(() => {\n        // 取消删除\n      });\n    },\n    // 查看医生详情\n    viewDoctorDetail(doctor) {\n      this.currentDoctor = {\n        ...doctor\n      };\n      this.doctorDetailDialogVisible = true;\n    },\n    // 查看医生排班\n    viewDoctorSchedule(doctor) {\n      this.selectedDoctorForSchedule = {\n        ...doctor\n      };\n      this.fetchDoctorSchedule();\n      this.scheduleDialogVisible = true;\n    },\n    // 获取医生排班\n    fetchDoctorSchedule() {\n      // 这里应该是API调用，现在使用模拟数据\n      const startDate = this.scheduleDateRange[0];\n      const endDate = this.scheduleDateRange[1];\n      const weekdayNames = ['周日', '周一', '周二', '周三', '周四', '周五', '周六'];\n      const schedule = [];\n      let currentDate = new Date(startDate);\n      while (currentDate <= endDate) {\n        const dateStr = `${currentDate.getFullYear()}-${(currentDate.getMonth() + 1).toString().padStart(2, '0')}-${currentDate.getDate().toString().padStart(2, '0')}`;\n        const weekday = weekdayNames[currentDate.getDay()];\n\n        // 默认工作日上午和下午出诊，晚上不出诊；周末不出诊\n        const isWeekend = currentDate.getDay() === 0 || currentDate.getDay() === 6;\n        schedule.push({\n          date: dateStr,\n          weekday,\n          morning: !isWeekend,\n          afternoon: !isWeekend,\n          evening: false\n        });\n\n        // 增加一天\n        currentDate.setDate(currentDate.getDate() + 1);\n      }\n      this.doctorSchedule = schedule;\n    },\n    // 获取星期类型\n    getWeekdayType(weekday) {\n      if (weekday === '周六' || weekday === '周日') {\n        return 'warning';\n      }\n      return 'primary';\n    },\n    // 更新排班\n    updateSchedule() {\n      // 这里应该是API调用，现在只是更新本地数据\n    },\n    // 批量设置排班\n    batchSetSchedule(type) {\n      this.doctorSchedule.forEach(item => {\n        if (type === 'all') {\n          item.morning = true;\n          item.afternoon = true;\n          item.evening = true;\n        } else if (type === 'morning') {\n          item.morning = true;\n        } else if (type === 'afternoon') {\n          item.afternoon = true;\n        } else if (type === 'evening') {\n          item.evening = true;\n        } else if (type === 'none') {\n          item.morning = false;\n          item.afternoon = false;\n          item.evening = false;\n        }\n      });\n    },\n    // 保存排班\n    saveSchedule() {\n      // 这里应该是API调用，现在只是更新本地数据\n      this.scheduleDialogVisible = false;\n      this.$message.success('排班保存成功');\n    },\n    // 批量删除医生\n    batchDeleteDoctors() {\n      const doctorNames = this.selectedDoctors.map(d => d.name).join('、');\n      this.$confirm(`确定要删除以下医生吗？\\n${doctorNames}`, '批量删除确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 这里应该是API调用，现在只是更新本地数据\n        const idsToDelete = this.selectedDoctors.map(d => d.id);\n        this.doctors = this.doctors.filter(d => !idsToDelete.includes(d.id));\n        this.handleSearch(); // 重新搜索以更新列表\n        this.selectedDoctors = [];\n        this.$message.success('批量删除成功');\n      }).catch(() => {\n        // 取消删除\n      });\n    },\n    // 批量启用医生\n    batchEnableDoctors() {\n      // 这里应该是API调用，现在只是更新本地数据\n      this.selectedDoctors.forEach(doctor => {\n        doctor.status = 1;\n      });\n      this.selectedDoctors = [];\n      this.$message.success('批量启用成功');\n    },\n    // 批量禁用医生\n    batchDisableDoctors() {\n      // 这里应该是API调用，现在只是更新本地数据\n      this.selectedDoctors.forEach(doctor => {\n        doctor.status = 0;\n      });\n      this.selectedDoctors = [];\n      this.$message.success('批量禁用成功');\n    },\n    // 批量调整科室\n    batchMoveDepartment() {\n      if (this.selectedDoctors.length === 0) {\n        this.$message.warning('请先选择医生');\n        return;\n      }\n      this.batchMoveForm.departmentId = '';\n      this.batchMoveDialogVisible = true;\n    },\n    // 确认批量调整科室\n    confirmBatchMove() {\n      this.$refs.batchMoveForm.validate(valid => {\n        if (valid) {\n          // 这里应该是API调用，现在只是更新本地数据\n          const departmentName = this.departments.find(d => d.id === this.batchMoveForm.departmentId)?.name || '';\n          this.selectedDoctors.forEach(doctor => {\n            doctor.departmentId = this.batchMoveForm.departmentId;\n            doctor.departmentName = departmentName;\n          });\n          this.handleSearch(); // 重新搜索以更新列表\n          this.selectedDoctors = [];\n          this.batchMoveDialogVisible = false;\n          this.$message.success('批量调整科室成功');\n        }\n      });\n    },\n    // 清空选择\n    clearSelection() {\n      this.$refs.doctorTable && this.$refs.doctorTable.clearSelection();\n      this.selectedDoctors = [];\n    },\n    // 分页大小变化\n    handleSizeChange(val) {\n      this.pageSize = val;\n    },\n    // 当前页码变化\n    handleCurrentChange(val) {\n      this.currentPage = val;\n    },\n    // 多选变化\n    handleSelectionChange(selection) {\n      this.selectedDoctors = selection;\n    },\n    // 添加医生头像上传成功处理\n    handleAddAvatarSuccess(res, file) {\n      // 模拟上传成功\n      this.addDoctorForm.avatar = URL.createObjectURL(file.raw);\n    },\n    // 编辑医生头像上传成功处理\n    handleEditAvatarSuccess(res, file) {\n      // 模拟上传成功\n      this.editDoctorForm.avatar = URL.createObjectURL(file.raw);\n    },\n    // 图片上传前校验\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === 'image/jpeg' || file.type === 'image/png';\n      const isLt2M = file.size / 1024 / 1024 < 2;\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG/PNG 格式!');\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!');\n      }\n      return isJPG && isLt2M;\n    }\n  }\n};","map":{"version":3,"names":["doctorAPI","departmentAPI","name","data","doctors","filteredDoctors","loading","departments","searchKeyword","selectedDepartmentId","selectedTitle","selectedStatus","currentPage","pageSize","selectedDoctors","currentDoctor","selectedDoctorForSchedule","addDoctorDialogVisible","addDoctorForm","gender","age","experience","departmentId","title","phone","email","specialty","introduction","avatar","addDoctorRules","required","message","trigger","min","max","type","pattern","editDoctorDialogVisible","editDoctorForm","id","departmentName","status","createTime","editDoctorRules","doctorDetailDialogVisible","scheduleDialogVisible","scheduleDateRange","Date","now","doctorSchedule","batchMoveDialogVisible","batchMoveForm","batchMoveRules","mounted","fetchDepartments","fetchDoctors","computed","paginatedDoctors","start","end","slice","methods","response","getAllDepartments","error","console","$message","getAllDoctors","handleSearch","results","keyword","toLowerCase","filter","doctor","includes","parseInt","formatDate","dateString","date","getFullYear","getMonth","toString","padStart","getDate","getHours","getMinutes","getSeconds","showAddDoctorDialog","resetAddDoctorForm","$refs","resetFields","submitAddDoctor","validate","valid","find","d","newDoctor","length","toISOString","replace","substring","unshift","success","showEditDoctorDialog","submitEditDoctor","index","findIndex","original","updateDoctorStatus","deleteDoctor","$confirm","confirmButtonText","cancelButtonText","then","splice","catch","viewDoctorDetail","viewDoctorSchedule","fetchDoctorSchedule","startDate","endDate","weekdayNames","schedule","currentDate","dateStr","weekday","getDay","isWeekend","push","morning","afternoon","evening","setDate","getWeekdayType","updateSchedule","batchSetSchedule","forEach","item","saveSchedule","batchDeleteDoctors","doctorNames","map","join","idsToDelete","batchEnableDoctors","batchDisableDoctors","batchMoveDepartment","warning","confirmBatchMove","clearSelection","doctorTable","handleSizeChange","val","handleCurrentChange","handleSelectionChange","selection","handleAddAvatarSuccess","res","file","URL","createObjectURL","raw","handleEditAvatarSuccess","beforeAvatarUpload","isJPG","isLt2M","size"],"sources":["src/views/admin/DoctorManagement.vue"],"sourcesContent":["<template>\n  <div class=\"doctor-management\">\n    <div class=\"management-header\">\n      <h2>医生管理</h2>\n      <el-button type=\"primary\" @click=\"showAddDoctorDialog\">\n        <i class=\"el-icon-plus\"></i> 添加医生\n      </el-button>\n    </div>\n\n    <!-- 搜索和筛选 -->\n    <div class=\"search-filter\">\n      <el-input\n        v-model=\"searchKeyword\"\n        placeholder=\"搜索医生姓名、专长或电话\"\n        prefix-icon=\"el-icon-search\"\n        clearable\n        @input=\"handleSearch\"\n        style=\"width: 300px; margin-right: 15px;\"\n      ></el-input>\n      \n      <el-select\n        v-model=\"selectedDepartmentId\"\n        placeholder=\"选择科室\"\n        clearable\n        @change=\"handleSearch\"\n        style=\"width: 150px; margin-right: 15px;\"\n      >\n        <el-option\n          v-for=\"department in departments\"\n          :key=\"department.id\"\n          :label=\"department.name\"\n          :value=\"department.id\"\n        ></el-option>\n      </el-select>\n      \n      <el-select\n        v-model=\"selectedTitle\"\n        placeholder=\"选择职称\"\n        clearable\n        @change=\"handleSearch\"\n        style=\"width: 120px; margin-right: 15px;\"\n      >\n        <el-option label=\"主任医师\" value=\"主任医师\"></el-option>\n        <el-option label=\"副主任医师\" value=\"副主任医师\"></el-option>\n        <el-option label=\"主治医师\" value=\"主治医师\"></el-option>\n        <el-option label=\"住院医师\" value=\"住院医师\"></el-option>\n      </el-select>\n      \n      <el-select\n        v-model=\"selectedStatus\"\n        placeholder=\"选择状态\"\n        clearable\n        @change=\"handleSearch\"\n        style=\"width: 100px;\"\n      >\n        <el-option label=\"在职\" :value=\"1\"></el-option>\n        <el-option label=\"离职\" :value=\"0\"></el-option>\n      </el-select>\n    </div>\n\n    <!-- 医生列表 -->\n    <div class=\"doctor-list\">\n      <el-table\n        :data=\"paginatedDoctors\"\n        style=\"width: 100%\"\n        stripe\n        border\n        v-loading=\"loading\"\n        element-loading-text=\"加载中...\"\n        ref=\"doctorTable\"\n        @selection-change=\"handleSelectionChange\"\n      >\n        <el-table-column type=\"selection\" width=\"55\"></el-table-column>\n        <el-table-column prop=\"id\" label=\"医生ID\" width=\"80\"></el-table-column>\n        <el-table-column label=\"头像\" width=\"80\">\n          <template slot-scope=\"scope\">\n            <img :src=\"scope.row.avatar\" class=\"doctor-avatar\" alt=\"医生头像\">\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"name\" label=\"医生姓名\" min-width=\"100\">\n          <template slot-scope=\"scope\">\n            <el-tooltip effect=\"dark\" :content=\"`点击查看详情`\" placement=\"top\">\n              <span class=\"doctor-name\" @click=\"viewDoctorDetail(scope.row)\">{{ scope.row.name }}</span>\n            </el-tooltip>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"departmentName\" label=\"所属科室\" min-width=\"120\"></el-table-column>\n        <el-table-column prop=\"title\" label=\"职称\" min-width=\"100\"></el-table-column>\n        <el-table-column prop=\"specialty\" label=\"专长\" show-overflow-tooltip min-width=\"200\"></el-table-column>\n        <el-table-column prop=\"phone\" label=\"联系电话\" min-width=\"120\"></el-table-column>\n        <el-table-column prop=\"email\" label=\"邮箱\" show-overflow-tooltip min-width=\"180\"></el-table-column>\n        <el-table-column prop=\"gender\" label=\"性别\" width=\"80\">\n          <template slot-scope=\"scope\">\n            <el-tag :type=\"scope.row.gender === '男' ? 'info' : 'danger'\">\n              {{ scope.row.gender }}\n            </el-tag>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"age\" label=\"年龄\" width=\"80\"></el-table-column>\n        <el-table-column prop=\"experience\" label=\"工作年限\" width=\"100\">\n          <template slot-scope=\"scope\">\n            {{ scope.row.experience }} 年\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"status\" label=\"状态\">\n          <template slot-scope=\"scope\">\n            <el-switch\n              v-model=\"scope.row.status\"\n              active-color=\"#67c23a\"\n              inactive-color=\"#909399\"\n              @change=\"updateDoctorStatus(scope.row)\"\n            ></el-switch>\n          </template>\n        </el-table-column>\n        <el-table-column prop=\"createTime\" label=\"入职时间\" width=\"180\">\n          <template slot-scope=\"scope\">\n            {{ formatDate(scope.row.createTime) }}\n          </template>\n        </el-table-column>\n        <el-table-column label=\"操作\" width=\"180\" fixed=\"right\">\n          <template slot-scope=\"scope\">\n            <el-button type=\"text\" size=\"small\" @click=\"showEditDoctorDialog(scope.row)\">\n              编辑\n            </el-button>\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"deleteDoctor(scope.row)\"\n              style=\"color: #f56c6c;\"\n            >\n              删除\n            </el-button>\n            <el-button\n              type=\"text\"\n              size=\"small\"\n              @click=\"viewDoctorSchedule(scope.row)\"\n            >\n              排班\n            </el-button>\n          </template>\n        </el-table-column>\n      </el-table>\n\n      <!-- 分页 -->\n      <div class=\"pagination\">\n        <el-pagination\n          background\n          layout=\"prev, pager, next, jumper, sizes, total\"\n          :total=\"filteredDoctors.length\"\n          :page-size.sync=\"pageSize\"\n          :current-page.sync=\"currentPage\"\n          :page-sizes=\"[10, 20, 50, 100]\"\n          @size-change=\"handleSizeChange\"\n          @current-change=\"handleCurrentChange\"\n        ></el-pagination>\n      </div>\n    </div>\n\n    <!-- 添加医生对话框 -->\n    <el-dialog\n      title=\"添加医生\"\n      :visible.sync=\"addDoctorDialogVisible\"\n      width=\"700px\"\n      @close=\"resetAddDoctorForm\"\n    >\n      <el-form\n        :model=\"addDoctorForm\"\n        :rules=\"addDoctorRules\"\n        ref=\"addDoctorForm\"\n        label-width=\"120px\"\n        class=\"doctor-form\"\n      >\n        <el-row :gutter=\"20\">\n          <el-col :span=\"24\">\n            <el-form-item label=\"医生头像\">\n              <el-upload\n                class=\"avatar-uploader\"\n                action=\"#\"\n                :show-file-list=\"false\"\n                :on-success=\"handleAddAvatarSuccess\"\n                :before-upload=\"beforeAvatarUpload\"\n              >\n                <img v-if=\"addDoctorForm.avatar\" :src=\"addDoctorForm.avatar\" class=\"avatar\">\n                <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n              </el-upload>\n              <div class=\"upload-tip\">点击上传医生头像 (jpg/png, 最大2MB)</div>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"医生姓名\" prop=\"name\">\n              <el-input v-model=\"addDoctorForm.name\" placeholder=\"请输入医生姓名\" maxlength=\"20\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"性别\" prop=\"gender\">\n              <el-radio-group v-model=\"addDoctorForm.gender\">\n                <el-radio label=\"男\"></el-radio>\n                <el-radio label=\"女\"></el-radio>\n              </el-radio-group>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"年龄\" prop=\"age\">\n              <el-input-number\n                v-model=\"addDoctorForm.age\"\n                :min=\"22\"\n                :max=\"80\"\n                :step=\"1\"\n                placeholder=\"请输入年龄\"\n              ></el-input-number>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"工作年限\" prop=\"experience\">\n              <el-input-number\n                v-model=\"addDoctorForm.experience\"\n                :min=\"0\"\n                :max=\"50\"\n                :step=\"1\"\n                placeholder=\"请输入工作年限\"\n              ></el-input-number>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"所属科室\" prop=\"departmentId\">\n              <el-select\n                v-model=\"addDoctorForm.departmentId\"\n                placeholder=\"请选择科室\"\n                filterable\n                allow-create\n              >\n                <el-option\n                  v-for=\"department in departments\"\n                  :key=\"department.id\"\n                  :label=\"department.name\"\n                  :value=\"department.id\"\n                ></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"职称\" prop=\"title\">\n              <el-select v-model=\"addDoctorForm.title\" placeholder=\"请选择职称\">\n                <el-option label=\"主任医师\" value=\"主任医师\"></el-option>\n                <el-option label=\"副主任医师\" value=\"副主任医师\"></el-option>\n                <el-option label=\"主治医师\" value=\"主治医师\"></el-option>\n                <el-option label=\"住院医师\" value=\"住院医师\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"联系电话\" prop=\"phone\">\n              <el-input v-model=\"addDoctorForm.phone\" placeholder=\"请输入联系电话\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"电子邮箱\" prop=\"email\">\n              <el-input v-model=\"addDoctorForm.email\" placeholder=\"请输入电子邮箱\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"专长\" prop=\"specialty\">\n              <el-input\n                v-model=\"addDoctorForm.specialty\"\n                type=\"textarea\"\n                rows=\"3\"\n                placeholder=\"请输入医生专长\"\n                maxlength=\"200\"\n              ></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"个人简介\" prop=\"introduction\">\n              <el-input\n                v-model=\"addDoctorForm.introduction\"\n                type=\"textarea\"\n                rows=\"4\"\n                placeholder=\"请输入个人简介\"\n                maxlength=\"500\"\n              ></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addDoctorDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitAddDoctor\">确定</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 编辑医生对话框 -->\n    <el-dialog\n      title=\"编辑医生\"\n      :visible.sync=\"editDoctorDialogVisible\"\n      width=\"700px\"\n    >\n      <el-form\n        :model=\"editDoctorForm\"\n        :rules=\"editDoctorRules\"\n        ref=\"editDoctorForm\"\n        label-width=\"120px\"\n        class=\"doctor-form\"\n      >\n        <el-row :gutter=\"20\">\n          <el-col :span=\"24\">\n            <el-form-item label=\"医生头像\">\n              <el-upload\n                class=\"avatar-uploader\"\n                action=\"#\"\n                :show-file-list=\"false\"\n                :on-success=\"handleEditAvatarSuccess\"\n                :before-upload=\"beforeAvatarUpload\"\n              >\n                <img v-if=\"editDoctorForm.avatar\" :src=\"editDoctorForm.avatar\" class=\"avatar\">\n                <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\n              </el-upload>\n              <div class=\"upload-tip\">点击上传医生头像 (jpg/png, 最大2MB)</div>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"医生ID\">\n              <el-input v-model=\"editDoctorForm.id\" disabled></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"医生姓名\" prop=\"name\">\n              <el-input v-model=\"editDoctorForm.name\" placeholder=\"请输入医生姓名\" maxlength=\"20\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"性别\" prop=\"gender\">\n              <el-radio-group v-model=\"editDoctorForm.gender\">\n                <el-radio label=\"男\"></el-radio>\n                <el-radio label=\"女\"></el-radio>\n              </el-radio-group>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"年龄\" prop=\"age\">\n              <el-input-number\n                v-model=\"editDoctorForm.age\"\n                :min=\"22\"\n                :max=\"80\"\n                :step=\"1\"\n                placeholder=\"请输入年龄\"\n              ></el-input-number>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"工作年限\" prop=\"experience\">\n              <el-input-number\n                v-model=\"editDoctorForm.experience\"\n                :min=\"0\"\n                :max=\"50\"\n                :step=\"1\"\n                placeholder=\"请输入工作年限\"\n              ></el-input-number>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"所属科室\" prop=\"departmentId\">\n              <el-select\n                v-model=\"editDoctorForm.departmentId\"\n                placeholder=\"请选择科室\"\n                filterable\n              >\n                <el-option\n                  v-for=\"department in departments\"\n                  :key=\"department.id\"\n                  :label=\"department.name\"\n                  :value=\"department.id\"\n                ></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"职称\" prop=\"title\">\n              <el-select v-model=\"editDoctorForm.title\" placeholder=\"请选择职称\">\n                <el-option label=\"主任医师\" value=\"主任医师\"></el-option>\n                <el-option label=\"副主任医师\" value=\"副主任医师\"></el-option>\n                <el-option label=\"主治医师\" value=\"主治医师\"></el-option>\n                <el-option label=\"住院医师\" value=\"住院医师\"></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"联系电话\" prop=\"phone\">\n              <el-input v-model=\"editDoctorForm.phone\" placeholder=\"请输入联系电话\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"电子邮箱\" prop=\"email\">\n              <el-input v-model=\"editDoctorForm.email\" placeholder=\"请输入电子邮箱\"></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"专长\" prop=\"specialty\">\n              <el-input\n                v-model=\"editDoctorForm.specialty\"\n                type=\"textarea\"\n                rows=\"3\"\n                placeholder=\"请输入医生专长\"\n                maxlength=\"200\"\n              ></el-input>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"个人简介\" prop=\"introduction\">\n              <el-input\n                v-model=\"editDoctorForm.introduction\"\n                type=\"textarea\"\n                rows=\"4\"\n                placeholder=\"请输入个人简介\"\n                maxlength=\"500\"\n              ></el-input>\n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"editDoctorDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"submitEditDoctor\">确定</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 医生详情对话框 -->\n    <el-dialog\n      title=\"医生详情\"\n      :visible.sync=\"doctorDetailDialogVisible\"\n      width=\"800px\"\n    >\n      <div class=\"doctor-detail\">\n        <div class=\"doctor-basic-info\">\n          <img :src=\"currentDoctor.avatar\" class=\"detail-avatar\" alt=\"医生头像\">\n          <div class=\"doctor-info\">\n            <h3>{{ currentDoctor.name }}</h3>\n            <div class=\"info-row\">\n              <el-tag size=\"small\" :type=\"currentDoctor.gender === '男' ? 'info' : 'danger'\">\n                {{ currentDoctor.gender }}\n              </el-tag>\n              <span class=\"age\">{{ currentDoctor.age }} 岁</span>\n              <span class=\"experience\">{{ currentDoctor.experience }} 年工作经验</span>\n            </div>\n            <div class=\"info-row\">\n              <el-tag size=\"small\" type=\"success\">{{ currentDoctor.departmentName }}</el-tag>\n              <el-tag size=\"small\" type=\"primary\">{{ currentDoctor.title }}</el-tag>\n            </div>\n          </div>\n        </div>\n        \n        <el-divider></el-divider>\n        \n        <el-descriptions :column=\"1\" border>\n          <el-descriptions-item label=\"联系电话\">{{ currentDoctor.phone }}</el-descriptions-item>\n          <el-descriptions-item label=\"电子邮箱\">{{ currentDoctor.email }}</el-descriptions-item>\n          <el-descriptions-item label=\"专长\">{{ currentDoctor.specialty }}</el-descriptions-item>\n          <el-descriptions-item label=\"个人简介\" :span=\"3\">{{ currentDoctor.introduction }}</el-descriptions-item>\n          <el-descriptions-item label=\"医生状态\">\n            <el-tag :type=\"currentDoctor.status ? 'success' : 'danger'\">\n              {{ currentDoctor.status ? '在职' : '离职' }}\n            </el-tag>\n          </el-descriptions-item>\n          <el-descriptions-item label=\"入职时间\">{{ formatDate(currentDoctor.createTime) }}</el-descriptions-item>\n        </el-descriptions>\n      </div>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"doctorDetailDialogVisible = false\">关闭</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 医生排班对话框 -->\n    <el-dialog\n      title=\"医生排班管理\"\n      :visible.sync=\"scheduleDialogVisible\"\n      width=\"800px\"\n    >\n      <div class=\"schedule-header\">\n        <h3>{{ selectedDoctorForSchedule.name }} - 排班设置</h3>\n        <div class=\"schedule-period\">\n          <el-date-picker\n            v-model=\"scheduleDateRange\"\n            type=\"daterange\"\n            range-separator=\"至\"\n            start-placeholder=\"开始日期\"\n            end-placeholder=\"结束日期\"\n            @change=\"fetchDoctorSchedule\"\n          ></el-date-picker>\n        </div>\n      </div>\n      \n      <div class=\"schedule-calendar\">\n        <el-table :data=\"doctorSchedule\" border>\n          <el-table-column prop=\"date\" label=\"日期\" width=\"120\"></el-table-column>\n          <el-table-column prop=\"weekday\" label=\"星期\" width=\"80\">\n            <template slot-scope=\"scope\">\n              <el-tag :type=\"getWeekdayType(scope.row.weekday)\">\n                {{ scope.row.weekday }}\n              </el-tag>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"morning\" label=\"上午\">\n            <template slot-scope=\"scope\">\n              <el-switch\n                v-model=\"scope.row.morning\"\n                active-color=\"#67c23a\"\n                inactive-color=\"#909399\"\n                @change=\"updateSchedule(scope.row)\"\n              ></el-switch>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"afternoon\" label=\"下午\">\n            <template slot-scope=\"scope\">\n              <el-switch\n                v-model=\"scope.row.afternoon\"\n                active-color=\"#67c23a\"\n                inactive-color=\"#909399\"\n                @change=\"updateSchedule(scope.row)\"\n              ></el-switch>\n            </template>\n          </el-table-column>\n          <el-table-column prop=\"evening\" label=\"晚上\">\n            <template slot-scope=\"scope\">\n              <el-switch\n                v-model=\"scope.row.evening\"\n                active-color=\"#67c23a\"\n                inactive-color=\"#909399\"\n                @change=\"updateSchedule(scope.row)\"\n              ></el-switch>\n            </template>\n          </el-table-column>\n        </el-table>\n      </div>\n      \n      <div class=\"schedule-actions\">\n        <el-button @click=\"batchSetSchedule('all')\">全选</el-button>\n        <el-button @click=\"batchSetSchedule('morning')\">全选上午</el-button>\n        <el-button @click=\"batchSetSchedule('afternoon')\">全选下午</el-button>\n        <el-button @click=\"batchSetSchedule('evening')\">全选晚上</el-button>\n        <el-button @click=\"batchSetSchedule('none')\">全不选</el-button>\n      </div>\n      \n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"scheduleDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"saveSchedule\">保存排班</el-button>\n      </div>\n    </el-dialog>\n\n    <!-- 批量操作 -->\n    <div class=\"batch-operations\" v-if=\"selectedDoctors.length > 0\">\n      <el-tag>\n        已选择 {{ selectedDoctors.length }} 项\n      </el-tag>\n      <el-button type=\"danger\" size=\"small\" @click=\"batchDeleteDoctors\">\n        批量删除\n      </el-button>\n      <el-button type=\"warning\" size=\"small\" @click=\"batchEnableDoctors\">\n        批量启用\n      </el-button>\n      <el-button type=\"warning\" size=\"small\" @click=\"batchDisableDoctors\">\n        批量禁用\n      </el-button>\n      <el-button size=\"small\" @click=\"batchMoveDepartment\">调整科室</el-button>\n      <el-button size=\"small\" @click=\"clearSelection\">清空选择</el-button>\n    </div>\n\n    <!-- 批量调整科室对话框 -->\n    <el-dialog\n      title=\"批量调整科室\"\n      :visible.sync=\"batchMoveDialogVisible\"\n      width=\"400px\"\n    >\n      <el-form :model=\"batchMoveForm\" :rules=\"batchMoveRules\" ref=\"batchMoveForm\" label-width=\"80px\">\n        <el-form-item label=\"目标科室\" prop=\"departmentId\">\n          <el-select v-model=\"batchMoveForm.departmentId\" placeholder=\"请选择目标科室\">\n            <el-option\n              v-for=\"department in departments\"\n              :key=\"department.id\"\n              :label=\"department.name\"\n              :value=\"department.id\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"batchMoveDialogVisible = false\">取消</el-button>\n        <el-button type=\"primary\" @click=\"confirmBatchMove\">确定</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport doctorAPI from '../../api/doctor'\nimport departmentAPI from '../../api/department'\n\nexport default {\n  name: 'DoctorManagement',\n  data() {\n    return {\n      // 医生列表数据\n      doctors: [],\n      filteredDoctors: [],\n      loading: false,\n      \n      // 科室数据\n      departments: [],\n      \n      // 搜索和筛选条件\n      searchKeyword: '',\n      selectedDepartmentId: '',\n      selectedTitle: '',\n      selectedStatus: '',\n      \n      // 分页信息\n      currentPage: 1,\n      pageSize: 10,\n      \n      // 选中的医生\n      selectedDoctors: [],\n      \n      // 当前查看的医生\n      currentDoctor: {},\n      selectedDoctorForSchedule: {},\n      \n      // 添加医生对话框\n      addDoctorDialogVisible: false,\n      addDoctorForm: {\n        name: '',\n        gender: '男',\n        age: '',\n        experience: '',\n        departmentId: '',\n        title: '',\n        phone: '',\n        email: '',\n        specialty: '',\n        introduction: '',\n        avatar: ''\n      },\n      addDoctorRules: {\n        name: [\n          { required: true, message: '请输入医生姓名', trigger: 'blur' },\n          { min: 2, max: 20, message: '医生姓名长度在 2 到 20 个字符', trigger: 'blur' }\n        ],\n        gender: [\n          { required: true, message: '请选择性别', trigger: 'change' }\n        ],\n        age: [\n          { required: true, message: '请输入年龄', trigger: 'blur' },\n          { type: 'number', min: 22, max: 80, message: '年龄在 22 到 80 之间', trigger: 'blur' }\n        ],\n        experience: [\n          { required: true, message: '请输入工作年限', trigger: 'blur' },\n          { type: 'number', min: 0, max: 50, message: '工作年限在 0 到 50 之间', trigger: 'blur' }\n        ],\n        departmentId: [\n          { required: true, message: '请选择所属科室', trigger: 'change' }\n        ],\n        title: [\n          { required: true, message: '请选择职称', trigger: 'change' }\n        ],\n        phone: [\n          { required: true, message: '请输入联系电话', trigger: 'blur' },\n          { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号码', trigger: 'blur' }\n        ],\n        email: [\n          { required: true, message: '请输入电子邮箱', trigger: 'blur' },\n          { type: 'email', message: '请输入正确的邮箱格式', trigger: 'blur' }\n        ],\n        specialty: [\n          { required: true, message: '请输入医生专长', trigger: 'blur' },\n          { max: 200, message: '专长不能超过 200 个字符', trigger: 'blur' }\n        ],\n        introduction: [\n          { required: true, message: '请输入个人简介', trigger: 'blur' },\n          { max: 500, message: '个人简介不能超过 500 个字符', trigger: 'blur' }\n        ]\n      },\n      \n      // 编辑医生对话框\n      editDoctorDialogVisible: false,\n      editDoctorForm: {\n        id: '',\n        name: '',\n        gender: '男',\n        age: '',\n        experience: '',\n        departmentId: '',\n        departmentName: '',\n        title: '',\n        phone: '',\n        email: '',\n        specialty: '',\n        introduction: '',\n        avatar: '',\n        status: 1,\n        createTime: ''\n      },\n      editDoctorRules: {\n        name: [\n          { required: true, message: '请输入医生姓名', trigger: 'blur' },\n          { min: 2, max: 20, message: '医生姓名长度在 2 到 20 个字符', trigger: 'blur' }\n        ],\n        gender: [\n          { required: true, message: '请选择性别', trigger: 'change' }\n        ],\n        age: [\n          { required: true, message: '请输入年龄', trigger: 'blur' },\n          { type: 'number', min: 22, max: 80, message: '年龄在 22 到 80 之间', trigger: 'blur' }\n        ],\n        experience: [\n          { required: true, message: '请输入工作年限', trigger: 'blur' },\n          { type: 'number', min: 0, max: 50, message: '工作年限在 0 到 50 之间', trigger: 'blur' }\n        ],\n        departmentId: [\n          { required: true, message: '请选择所属科室', trigger: 'change' }\n        ],\n        title: [\n          { required: true, message: '请选择职称', trigger: 'change' }\n        ],\n        phone: [\n          { required: true, message: '请输入联系电话', trigger: 'blur' },\n          { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号码', trigger: 'blur' }\n        ],\n        email: [\n          { required: true, message: '请输入电子邮箱', trigger: 'blur' },\n          { type: 'email', message: '请输入正确的邮箱格式', trigger: 'blur' }\n        ],\n        specialty: [\n          { required: true, message: '请输入医生专长', trigger: 'blur' },\n          { max: 200, message: '专长不能超过 200 个字符', trigger: 'blur' }\n        ],\n        introduction: [\n          { required: true, message: '请输入个人简介', trigger: 'blur' },\n          { max: 500, message: '个人简介不能超过 500 个字符', trigger: 'blur' }\n        ]\n      },\n      \n      // 医生详情对话框\n      doctorDetailDialogVisible: false,\n      \n      // 医生排班对话框\n      scheduleDialogVisible: false,\n      scheduleDateRange: [new Date(), new Date(Date.now() + 7 * 24 * 60 * 60 * 1000)],\n      doctorSchedule: [],\n      \n      // 批量调整科室对话框\n      batchMoveDialogVisible: false,\n      batchMoveForm: {\n        departmentId: ''\n      },\n      batchMoveRules: {\n        departmentId: [\n          { required: true, message: '请选择目标科室', trigger: 'change' }\n        ]\n      }\n    }\n  },\n  mounted() {\n    this.fetchDepartments()\n    this.fetchDoctors()\n  },\n  computed: {\n    // 分页后的医生列表\n    paginatedDoctors() {\n      const start = (this.currentPage - 1) * this.pageSize\n      const end = start + this.pageSize\n      return this.filteredDoctors.slice(start, end)\n    }\n  },\n  methods: {\n    // 获取科室列表\n    async fetchDepartments() {\n      try {\n        const response = await departmentAPI.getAllDepartments()\n        this.departments = response.data || []\n      } catch (error) {\n        console.error('获取科室列表失败:', error)\n        this.$message.error('获取科室列表失败')\n        this.departments = []\n      }\n    },\n\n    // 获取医生列表\n    async fetchDoctors() {\n      this.loading = true\n      try {\n        const response = await doctorAPI.getAllDoctors()\n        this.doctors = response.data || []\n        this.filteredDoctors = [...this.doctors]\n      } catch (error) {\n        console.error('获取医生列表失败:', error)\n        this.$message.error('获取医生列表失败')\n        this.doctors = []\n        this.filteredDoctors = []\n      } finally {\n        this.loading = false\n      }\n    },\n            // 医生数据现在通过API从后端获取\n\n\n    // 搜索医生\n    handleSearch() {\n      let results = [...this.doctors]\n      \n      // 根据关键词搜索\n      if (this.searchKeyword) {\n        const keyword = this.searchKeyword.toLowerCase()\n        results = results.filter(doctor => \n          doctor.name.toLowerCase().includes(keyword) ||\n          doctor.specialty.toLowerCase().includes(keyword) ||\n          doctor.phone.includes(keyword) ||\n          doctor.email.toLowerCase().includes(keyword)\n        )\n      }\n      \n      // 根据科室筛选\n      if (this.selectedDepartmentId !== '') {\n        results = results.filter(doctor => doctor.departmentId === parseInt(this.selectedDepartmentId))\n      }\n      \n      // 根据职称筛选\n      if (this.selectedTitle !== '') {\n        results = results.filter(doctor => doctor.title === this.selectedTitle)\n      }\n      \n      // 根据状态筛选\n      if (this.selectedStatus !== '') {\n        results = results.filter(doctor => doctor.status === parseInt(this.selectedStatus))\n      }\n      \n      this.filteredDoctors = results\n      this.currentPage = 1 // 重置到第一页\n    },\n\n    // 格式化日期\n    formatDate(dateString) {\n      if (!dateString) return ''\n      const date = new Date(dateString)\n      return `${date.getFullYear()}-${(date.getMonth() + 1).toString().padStart(2, '0')}-${date.getDate().toString().padStart(2, '0')} ${date.getHours().toString().padStart(2, '0')}:${date.getMinutes().toString().padStart(2, '0')}:${date.getSeconds().toString().padStart(2, '0')}`\n    },\n\n    // 显示添加医生对话框\n    showAddDoctorDialog() {\n      this.resetAddDoctorForm()\n      this.addDoctorDialogVisible = true\n    },\n\n    // 重置添加医生表单\n    resetAddDoctorForm() {\n      this.addDoctorForm = {\n        name: '',\n        gender: '男',\n        age: '',\n        experience: '',\n        departmentId: '',\n        title: '',\n        phone: '',\n        email: '',\n        specialty: '',\n        introduction: '',\n        avatar: ''\n      }\n      this.$refs.addDoctorForm && this.$refs.addDoctorForm.resetFields()\n    },\n\n    // 提交添加医生\n    submitAddDoctor() {\n      this.$refs.addDoctorForm.validate((valid) => {\n        if (valid) {\n          // 这里应该是API调用，现在使用模拟数据\n          const departmentName = this.departments.find(d => d.id === this.addDoctorForm.departmentId)?.name || ''\n          const newDoctor = {\n            id: this.doctors.length + 1,\n            ...this.addDoctorForm,\n            departmentName,\n            status: 1,\n            createTime: new Date().toISOString().replace('T', ' ').substring(0, 19)\n          }\n          this.doctors.unshift(newDoctor)\n          this.handleSearch() // 重新搜索以更新列表\n          this.addDoctorDialogVisible = false\n          this.$message.success('医生添加成功')\n        }\n      })\n    },\n\n    // 显示编辑医生对话框\n    showEditDoctorDialog(doctor) {\n      this.editDoctorForm = { ...doctor }\n      this.editDoctorDialogVisible = true\n    },\n\n    // 提交编辑医生\n    submitEditDoctor() {\n      this.$refs.editDoctorForm.validate((valid) => {\n        if (valid) {\n          // 这里应该是API调用，现在使用模拟数据\n          const departmentName = this.departments.find(d => d.id === this.editDoctorForm.departmentId)?.name || ''\n          const index = this.doctors.findIndex(d => d.id === this.editDoctorForm.id)\n          if (index !== -1) {\n            // 保留状态和创建时间\n            const original = this.doctors[index]\n            this.doctors[index] = { \n              ...this.editDoctorForm,\n              departmentName,\n              status: original.status,\n              createTime: original.createTime\n            }\n            this.handleSearch() // 重新搜索以更新列表\n            this.editDoctorDialogVisible = false\n            this.$message.success('医生信息更新成功')\n          }\n        }\n      })\n    },\n\n    // 更新医生状态\n    updateDoctorStatus(doctor) {\n      // 这里应该是API调用，现在只是更新本地数据\n      this.$message.success(`医生状态已更新为${doctor.status ? '在职' : '离职'}`)\n    },\n\n    // 删除医生\n    deleteDoctor(doctor) {\n      this.$confirm(`确定要删除医生「${doctor.name}」吗？`, '删除确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 这里应该是API调用，现在只是更新本地数据\n        const index = this.doctors.findIndex(d => d.id === doctor.id)\n        if (index !== -1) {\n          this.doctors.splice(index, 1)\n          this.handleSearch() // 重新搜索以更新列表\n          this.$message.success('医生删除成功')\n        }\n      }).catch(() => {\n        // 取消删除\n      })\n    },\n\n    // 查看医生详情\n    viewDoctorDetail(doctor) {\n      this.currentDoctor = { ...doctor }\n      this.doctorDetailDialogVisible = true\n    },\n\n    // 查看医生排班\n    viewDoctorSchedule(doctor) {\n      this.selectedDoctorForSchedule = { ...doctor }\n      this.fetchDoctorSchedule()\n      this.scheduleDialogVisible = true\n    },\n\n    // 获取医生排班\n    fetchDoctorSchedule() {\n      // 这里应该是API调用，现在使用模拟数据\n      const startDate = this.scheduleDateRange[0]\n      const endDate = this.scheduleDateRange[1]\n      const weekdayNames = ['周日', '周一', '周二', '周三', '周四', '周五', '周六']\n      const schedule = []\n      \n      let currentDate = new Date(startDate)\n      while (currentDate <= endDate) {\n        const dateStr = `${currentDate.getFullYear()}-${(currentDate.getMonth() + 1).toString().padStart(2, '0')}-${currentDate.getDate().toString().padStart(2, '0')}`\n        const weekday = weekdayNames[currentDate.getDay()]\n        \n        // 默认工作日上午和下午出诊，晚上不出诊；周末不出诊\n        const isWeekend = currentDate.getDay() === 0 || currentDate.getDay() === 6\n        \n        schedule.push({\n          date: dateStr,\n          weekday,\n          morning: !isWeekend,\n          afternoon: !isWeekend,\n          evening: false\n        })\n        \n        // 增加一天\n        currentDate.setDate(currentDate.getDate() + 1)\n      }\n      \n      this.doctorSchedule = schedule\n    },\n\n    // 获取星期类型\n    getWeekdayType(weekday) {\n      if (weekday === '周六' || weekday === '周日') {\n        return 'warning'\n      }\n      return 'primary'\n    },\n\n    // 更新排班\n    updateSchedule() {\n      // 这里应该是API调用，现在只是更新本地数据\n    },\n\n    // 批量设置排班\n    batchSetSchedule(type) {\n      this.doctorSchedule.forEach(item => {\n        if (type === 'all') {\n          item.morning = true\n          item.afternoon = true\n          item.evening = true\n        } else if (type === 'morning') {\n          item.morning = true\n        } else if (type === 'afternoon') {\n          item.afternoon = true\n        } else if (type === 'evening') {\n          item.evening = true\n        } else if (type === 'none') {\n          item.morning = false\n          item.afternoon = false\n          item.evening = false\n        }\n      })\n    },\n\n    // 保存排班\n    saveSchedule() {\n      // 这里应该是API调用，现在只是更新本地数据\n      this.scheduleDialogVisible = false\n      this.$message.success('排班保存成功')\n    },\n\n    // 批量删除医生\n    batchDeleteDoctors() {\n      const doctorNames = this.selectedDoctors.map(d => d.name).join('、')\n      this.$confirm(`确定要删除以下医生吗？\\n${doctorNames}`, '批量删除确认', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        // 这里应该是API调用，现在只是更新本地数据\n        const idsToDelete = this.selectedDoctors.map(d => d.id)\n        this.doctors = this.doctors.filter(d => !idsToDelete.includes(d.id))\n        this.handleSearch() // 重新搜索以更新列表\n        this.selectedDoctors = []\n        this.$message.success('批量删除成功')\n      }).catch(() => {\n        // 取消删除\n      })\n    },\n\n    // 批量启用医生\n    batchEnableDoctors() {\n      // 这里应该是API调用，现在只是更新本地数据\n      this.selectedDoctors.forEach(doctor => {\n        doctor.status = 1\n      })\n      this.selectedDoctors = []\n      this.$message.success('批量启用成功')\n    },\n\n    // 批量禁用医生\n    batchDisableDoctors() {\n      // 这里应该是API调用，现在只是更新本地数据\n      this.selectedDoctors.forEach(doctor => {\n        doctor.status = 0\n      })\n      this.selectedDoctors = []\n      this.$message.success('批量禁用成功')\n    },\n\n    // 批量调整科室\n    batchMoveDepartment() {\n      if (this.selectedDoctors.length === 0) {\n        this.$message.warning('请先选择医生')\n        return\n      }\n      this.batchMoveForm.departmentId = ''\n      this.batchMoveDialogVisible = true\n    },\n\n    // 确认批量调整科室\n    confirmBatchMove() {\n      this.$refs.batchMoveForm.validate((valid) => {\n        if (valid) {\n          // 这里应该是API调用，现在只是更新本地数据\n          const departmentName = this.departments.find(d => d.id === this.batchMoveForm.departmentId)?.name || ''\n          this.selectedDoctors.forEach(doctor => {\n            doctor.departmentId = this.batchMoveForm.departmentId\n            doctor.departmentName = departmentName\n          })\n          this.handleSearch() // 重新搜索以更新列表\n          this.selectedDoctors = []\n          this.batchMoveDialogVisible = false\n          this.$message.success('批量调整科室成功')\n        }\n      })\n    },\n\n    // 清空选择\n    clearSelection() {\n      this.$refs.doctorTable && this.$refs.doctorTable.clearSelection()\n      this.selectedDoctors = []\n    },\n\n    // 分页大小变化\n    handleSizeChange(val) {\n      this.pageSize = val\n    },\n\n    // 当前页码变化\n    handleCurrentChange(val) {\n      this.currentPage = val\n    },\n\n    // 多选变化\n    handleSelectionChange(selection) {\n      this.selectedDoctors = selection\n    },\n\n    // 添加医生头像上传成功处理\n    handleAddAvatarSuccess(res, file) {\n      // 模拟上传成功\n      this.addDoctorForm.avatar = URL.createObjectURL(file.raw)\n    },\n\n    // 编辑医生头像上传成功处理\n    handleEditAvatarSuccess(res, file) {\n      // 模拟上传成功\n      this.editDoctorForm.avatar = URL.createObjectURL(file.raw)\n    },\n\n    // 图片上传前校验\n    beforeAvatarUpload(file) {\n      const isJPG = file.type === 'image/jpeg' || file.type === 'image/png'\n      const isLt2M = file.size / 1024 / 1024 < 2\n\n      if (!isJPG) {\n        this.$message.error('上传头像图片只能是 JPG/PNG 格式!')\n      }\n      if (!isLt2M) {\n        this.$message.error('上传头像图片大小不能超过 2MB!')\n      }\n      return isJPG && isLt2M\n    }\n  }\n}\n</script>\n\n<style scoped>\n.doctor-management {\n  padding: 20px;\n  background-color: #f5f7fa;\n  min-height: calc(100vh - 60px);\n}\n\n.management-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.management-header h2 {\n  margin: 0;\n  color: #303133;\n}\n\n.search-filter {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n  padding: 15px;\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  flex-wrap: wrap;\n}\n\n.doctor-list {\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  padding: 15px;\n}\n\n.pagination {\n  margin-top: 20px;\n  display: flex;\n  justify-content: flex-end;\n}\n\n.batch-operations {\n  margin-top: 15px;\n  padding: 10px 15px;\n  background-color: #ecf5ff;\n  border-radius: 4px;\n  display: flex;\n  align-items: center;\n  gap: 15px;\n  flex-wrap: wrap;\n}\n\n.batch-operations .el-tag {\n  background-color: #409eff;\n  color: #fff;\n}\n\n/* 医生头像 */\n.doctor-avatar {\n  width: 40px;\n  height: 40px;\n  border-radius: 50%;\n}\n\n/* 医生姓名链接 */\n.doctor-name {\n  cursor: pointer;\n  color: #409eff;\n  text-decoration: underline;\n}\n\n.doctor-name:hover {\n  color: #66b1ff;\n}\n\n/* 医生表单 */\n.doctor-form {\n  max-height: 500px;\n  overflow-y: auto;\n}\n\n/* 头像上传样式 */\n.avatar-uploader .el-upload {\n  border: 1px dashed #d9d9d9;\n  border-radius: 6px;\n  cursor: pointer;\n  position: relative;\n  overflow: hidden;\n  transition: border-color .3s;\n}\n\n.avatar-uploader .el-upload:hover {\n  border-color: #409eff;\n}\n\n.avatar-uploader-icon {\n  font-size: 28px;\n  color: #8c939d;\n  width: 150px;\n  height: 150px;\n  line-height: 150px;\n  text-align: center;\n}\n\n.avatar {\n  width: 150px;\n  height: 150px;\n  display: block;\n}\n\n.upload-tip {\n  margin-top: 10px;\n  color: #909399;\n  font-size: 12px;\n}\n\n/* 医生详情页 */\n.doctor-detail {\n  padding: 20px 0;\n}\n\n.doctor-basic-info {\n  display: flex;\n  align-items: center;\n  margin-bottom: 20px;\n}\n\n.detail-avatar {\n  width: 120px;\n  height: 120px;\n  border-radius: 50%;\n  margin-right: 30px;\n}\n\n.doctor-info h3 {\n  margin: 0 0 15px 0;\n  font-size: 24px;\n  color: #303133;\n}\n\n.info-row {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n  margin-bottom: 10px;\n}\n\n.info-row .age,\n.info-row .experience {\n  color: #606266;\n}\n\n/* 排班样式 */\n.schedule-header {\n  margin-bottom: 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.schedule-header h3 {\n  margin: 0;\n  color: #303133;\n}\n\n.schedule-calendar {\n  margin-bottom: 20px;\n}\n\n.schedule-actions {\n  display: flex;\n  gap: 10px;\n  justify-content: center;\n  margin-bottom: 20px;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .search-filter {\n    flex-direction: column;\n    align-items: stretch;\n    gap: 10px;\n  }\n  \n  .search-filter .el-input,\n  .search-filter .el-select {\n    width: 100% !important;\n    margin-right: 0 !important;\n  }\n  \n  .management-header {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 10px;\n  }\n  \n  .pagination {\n    justify-content: center;\n  }\n  \n  .doctor-basic-info {\n    flex-direction: column;\n    text-align: center;\n  }\n  \n  .detail-avatar {\n    margin-right: 0;\n    margin-bottom: 20px;\n  }\n  \n  .schedule-header {\n    flex-direction: column;\n    gap: 15px;\n    align-items: flex-start;\n  }\n  \n  .schedule-actions {\n    flex-wrap: wrap;\n  }\n}\n</style>"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}