[{"C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\main.js":"1","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\App.vue":"2","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\router\\index.js":"3","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\UserInfo.vue":"4","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\Appointment.vue":"5","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\DepartmentList.vue":"6","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\Register.vue":"7","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\Login.vue":"8","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\MedicalGuide.vue":"9","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\Home.vue":"10","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\AppointmentList.vue":"11","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\DoctorList.vue":"12","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\admin\\DepartmentManagement.vue":"13","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\admin\\AppointmentManagement.vue":"14","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\admin\\Dashboard.vue":"15","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\admin\\DoctorManagement.vue":"16","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\admin\\UserManagement.vue":"17","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\api\\medicalGuide.js":"18","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\api\\request.js":"19"},{"size":1018,"mtime":1763748033970,"results":"20","hashOfConfig":"21"},{"size":443,"mtime":1763693443882,"results":"22","hashOfConfig":"21"},{"size":3682,"mtime":1763693484393,"results":"23","hashOfConfig":"21"},{"size":12494,"mtime":1763751382144,"results":"24","hashOfConfig":"21"},{"size":8911,"mtime":1763748466222,"results":"25","hashOfConfig":"21"},{"size":9802,"mtime":1763735696191,"results":"26","hashOfConfig":"21"},{"size":7221,"mtime":1763746372223,"results":"27","hashOfConfig":"21"},{"size":3705,"mtime":1763748090163,"results":"28","hashOfConfig":"21"},{"size":20445,"mtime":1763749350310,"results":"29","hashOfConfig":"21"},{"size":10376,"mtime":1763741639549,"results":"30","hashOfConfig":"21"},{"size":11800,"mtime":1763748585539,"results":"31","hashOfConfig":"21"},{"size":11674,"mtime":1763735752562,"results":"32","hashOfConfig":"21"},{"size":32607,"mtime":1763790444345,"results":"33","hashOfConfig":"21"},{"size":16450,"mtime":1763790630308,"results":"34","hashOfConfig":"21"},{"size":13426,"mtime":1763791126769,"results":"35","hashOfConfig":"21"},{"size":52343,"mtime":1763791154303,"results":"36","hashOfConfig":"21"},{"size":22893,"mtime":1763791063387,"results":"37","hashOfConfig":"21"},{"size":1363,"mtime":1763703222627,"results":"38","hashOfConfig":"21"},{"size":1031,"mtime":1763746597452,"results":"39","hashOfConfig":"21"},{"filePath":"40","messages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1eesefz",{"filePath":"42","messages":"43","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"44","messages":"45","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"48"},{"filePath":"49","messages":"50","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"51"},{"filePath":"52","messages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54"},{"filePath":"55","messages":"56","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"57"},{"filePath":"58","messages":"59","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"60"},{"filePath":"61","messages":"62","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"63"},{"filePath":"64","messages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"68"},{"filePath":"69","messages":"70","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71"},{"filePath":"72","messages":"73","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"74","messages":"75","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"76","messages":"77","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"78","messages":"79","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"80","messages":"81","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"82","messages":"83","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"84","messages":"85","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"86"},"C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\main.js",[],"C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\App.vue",[],"C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\router\\index.js",[],"C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\UserInfo.vue",["87"],"<template>\n  <div class=\"user-info-wrapper\">\n    <!-- 顶部导航栏 -->\n    <header class=\"header\">\n      <div class=\"header-content\">\n        <div class=\"logo\">\n          <i class=\"el-icon-medal-1\"></i>\n          <span>医院预约系统</span>\n        </div>\n        <nav class=\"nav-menu\">\n          <router-link to=\"/home\" class=\"nav-item\">首页</router-link>\n          <router-link to=\"/departments\" class=\"nav-item\">科室介绍</router-link>\n          <router-link to=\"/doctors\" class=\"nav-item\">医生团队</router-link>\n          <router-link to=\"/medical-guide\" class=\"nav-item\">医疗导诊</router-link>\n        </nav>\n        <div class=\"user-info\">\n          <div v-if=\"user\" class=\"logged-in\">\n            <span class=\"welcome\">欢迎，{{ user.name || user.username }}</span>\n            <router-link to=\"/user-info\" class=\"btn-text\">个人信息</router-link>\n            <button class=\"btn-text\" @click=\"handleLogout\">退出登录</button>\n          </div>\n          <div v-else class=\"not-logged-in\">\n            <router-link to=\"/login\" class=\"btn-primary\">登录</router-link>\n            <router-link to=\"/register\" class=\"btn-text\">注册</router-link>\n          </div>\n        </div>\n      </div>\n    </header>\n    \n    <!-- 主内容容器 -->\n    <div class=\"user-info-container\">\n      <!-- 侧边导航栏 -->\n      <div class=\"sidebar\">\n        <div class=\"user-avatar\">\n          <el-avatar :size=\"100\" :src=\"userAvatar\" icon=\"el-icon-user-solid\"></el-avatar>\n        </div>\n      <h3 class=\"user-name\">{{ user.name || user.username }}</h3>\n      <p class=\"user-role\">{{ userRoleText }}</p>\n      <nav class=\"sidebar-menu\">\n        <div class=\"menu-item active\">\n          <i class=\"el-icon-info\"></i>\n          <span>基本信息</span>\n        </div>\n        <div class=\"menu-item\">\n          <i class=\"el-icon-lock\"></i>\n          <span>修改密码</span>\n        </div>\n        <router-link to=\"/appointment-list\" class=\"menu-item\">\n          <i class=\"el-icon-document\"></i>\n          <span>预约记录</span>\n        </router-link>\n      </nav>\n    </div>\n    <!-- 主内容区域 -->\n    <div class=\"main-content\">\n      <div class=\"content-header\">\n        <h2>个人信息管理</h2>\n      </div>\n      <div class=\"content-body\">\n        <!-- 基本信息表单 -->\n        <el-form ref=\"userForm\" :model=\"userForm\" :rules=\"rules\" label-width=\"120px\">\n          <el-form-item label=\"用户名\">\n            <el-input v-model=\"userForm.username\" disabled></el-input>\n          </el-form-item>\n          <el-form-item label=\"姓名\" prop=\"name\">\n            <el-input v-model=\"userForm.name\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"手机号\" prop=\"phone\">\n            <el-input v-model=\"userForm.phone\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"性别\">\n            <el-radio-group v-model=\"userForm.gender\">\n              <el-radio label=\"male\">男</el-radio>\n              <el-radio label=\"female\">女</el-radio>\n            </el-radio-group>\n          </el-form-item>\n          <el-form-item label=\"邮箱\" prop=\"email\">\n            <el-input v-model=\"userForm.email\" type=\"email\"></el-input>\n          </el-form-item>\n          <!-- 患者特有信息 -->\n          <div v-if=\"user.role === 'PATIENT'\">\n            <el-form-item label=\"身份证号\" prop=\"idCard\">\n              <el-input v-model=\"userForm.idCard\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"出生日期\" prop=\"birthDate\">\n              <el-date-picker v-model=\"userForm.birthDate\" type=\"date\" placeholder=\"选择日期\" style=\"width: 100%;\"></el-date-picker>\n            </el-form-item>\n          </div>\n          <!-- 医生特有信息 -->\n          <div v-if=\"user.role === 'DOCTOR'\">\n            <el-form-item label=\"科室\">\n              <el-input v-model=\"departmentName\" disabled></el-input>\n            </el-form-item>\n            <el-form-item label=\"职称\" prop=\"title\">\n              <el-input v-model=\"userForm.title\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"专长\" prop=\"specialty\">\n              <el-input v-model=\"userForm.specialty\"></el-input>\n            </el-form-item>\n            <el-form-item label=\"简介\" prop=\"introduction\">\n              <el-input v-model=\"userForm.introduction\" type=\"textarea\" rows=\"4\"></el-input>\n            </el-form-item>\n          </div>\n          <el-form-item>\n            <el-button type=\"primary\" @click=\"handleUpdate\" :loading=\"loading\">保存修改</el-button>\n            <el-button @click=\"handleCancel\">取消</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'UserInfo',\n  data() {\n    return {\n      user: null,\n      userForm: {\n        username: '',\n        name: '',\n        phone: '',\n        gender: 'male',\n        email: '',\n        idCard: '',\n        birthDate: '',\n        title: '',\n        specialty: '',\n        introduction: ''\n      },\n      userAvatar: '',\n      departmentName: '',\n      loading: false,\n      rules: {\n        name: [\n          { required: true, message: '请输入姓名', trigger: 'blur' }\n        ],\n        phone: [\n          { required: true, message: '请输入手机号', trigger: 'blur' },\n          { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号格式', trigger: 'blur' }\n        ],\n        email: [\n          { pattern: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/, message: '请输入正确的邮箱格式', trigger: 'blur' }\n        ],\n        idCard: [\n          { pattern: /^\\d{17}[\\dXx]$/, message: '请输入正确的身份证号格式', trigger: 'blur' }\n        ],\n        title: [\n          { required: this.user && this.user.role === 'DOCTOR', message: '请输入职称', trigger: 'blur' }\n        ],\n        specialty: [\n          { required: this.user && this.user.role === 'DOCTOR', message: '请输入专长', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  computed: {\n    userRoleText() {\n      if (!this.user) return ''\n      switch (this.user.role) {\n        case 'PATIENT':\n          return '患者'\n        case 'DOCTOR':\n          return '医生'\n        case 'ADMIN':\n          return '管理员'\n        default:\n          return ''\n      }\n    }\n  },\n  created() {\n    this.loadUserInfo()\n  },\n  methods: {\n    handleLogout() {\n      this.$confirm('确定要退出登录吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        localStorage.removeItem('token')\n        localStorage.removeItem('user')\n        this.user = null\n        this.$router.push('/login')\n        this.$message.success('退出登录成功')\n      }).catch(() => {\n        // 取消退出\n      })\n    },\n    loadUserInfo() {\n      // 从本地存储获取用户信息\n      const userStr = localStorage.getItem('user')\n      if (userStr) {\n        this.user = JSON.parse(userStr)\n        \n        // 获取详细的用户信息\n        this.$axios.get('/user/info').then(res => {\n          if (res.success) {\n            const userData = res.data\n            // 更新表单数据\n            this.userForm = {\n              username: userData.username || '',\n              name: userData.name || '',\n              phone: userData.phone || '',\n              gender: userData.gender || 'male',\n              email: userData.email || '',\n              idCard: userData.idCard || '',\n              birthDate: userData.birthDate || '',\n              title: userData.title || '',\n              specialty: userData.specialty || '',\n              introduction: userData.introduction || ''\n            }\n            \n            // 如果是医生，获取科室信息\n            if (this.user.role === 'DOCTOR' && userData.department) {\n              this.departmentName = userData.department.name\n            }\n            \n            // 设置头像\n            this.userAvatar = userData.avatar || ''\n          }\n        })\n      } else {\n        // 未登录，跳转到登录页\n        this.$router.push('/login')\n      }\n    },\n    handleUpdate() {\n      this.$refs.userForm.validate((valid) => {\n        if (valid) {\n          this.loading = true\n          \n          this.$axios.put('/user/update', this.userForm).then(res => {\n            if (res.success) {\n              // 更新本地存储的用户信息\n              const updatedUser = { ...this.user, ...this.userForm }\n              localStorage.setItem('user', JSON.stringify(updatedUser))\n              \n              this.$message.success('信息更新成功')\n            } else {\n              this.$message.error(res.message || '更新失败')\n            }\n          }).catch(err => {\n            this.$message.error('更新失败，请稍后重试')\n            console.error('更新用户信息失败:', err)\n          }).finally(() => {\n            this.loading = false\n          })\n        }\n      })\n    },\n    handleCancel() {\n      // 重置表单\n      this.loadUserInfo()\n    }\n  }\n}\n</script>\n\n<style scoped>\n.user-info-wrapper {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n/* 顶部导航栏样式 */\n.header {\n  background-color: #fff;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  position: sticky;\n  top: 0;\n  z-index: 1000;\n}\n\n.header-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 60px;\n}\n\n.logo {\n  display: flex;\n  align-items: center;\n  font-size: 20px;\n  font-weight: bold;\n  color: #1890ff;\n}\n\n.logo i {\n  margin-right: 10px;\n  font-size: 24px;\n}\n\n.nav-menu {\n  display: flex;\n  gap: 20px;\n}\n\n.nav-item {\n  color: #606266;\n  text-decoration: none;\n  padding: 0 10px;\n  height: 60px;\n  line-height: 60px;\n  position: relative;\n  transition: color 0.3s;\n}\n\n.nav-item:hover {\n  color: #1890ff;\n}\n\n.nav-item.active {\n  color: #1890ff;\n  font-weight: bold;\n}\n\n.nav-item.active::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 10px;\n  right: 10px;\n  height: 2px;\n  background-color: #1890ff;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n  gap: 15px;\n}\n\n.welcome {\n  color: #606266;\n}\n\n.btn-text {\n  color: #1890ff;\n  cursor: pointer;\n  text-decoration: none;\n}\n\n.btn-text:hover {\n  color: #40a9ff;\n}\n\n.btn-primary {\n  background-color: #1890ff;\n  color: white;\n  padding: 6px 16px;\n  border-radius: 4px;\n  text-decoration: none;\n  transition: background-color 0.3s;\n}\n\n.btn-primary:hover {\n  background-color: #40a9ff;\n}\n\n.user-info-container {\n  flex: 1;\n  min-height: calc(100vh - 60px);\n  display: flex;\n  background-color: #f5f7fa;\n}\n\n/* 侧边栏样式 */\n.sidebar {\n  width: 260px;\n  background-color: #fff;\n  padding: 30px 20px;\n  box-shadow: 2px 0 4px rgba(0, 0, 0, 0.1);\n}\n\n.user-avatar {\n  text-align: center;\n  margin-bottom: 20px;\n}\n\n.user-name {\n  text-align: center;\n  font-size: 18px;\n  font-weight: bold;\n  margin-bottom: 5px;\n  color: #303133;\n}\n\n.user-role {\n  text-align: center;\n  color: #606266;\n  margin-bottom: 30px;\n}\n\n.sidebar-menu .menu-item {\n  display: flex;\n  align-items: center;\n  padding: 12px 20px;\n  margin-bottom: 10px;\n  border-radius: 6px;\n  cursor: pointer;\n  transition: all 0.3s;\n  color: #606266;\n}\n\n.sidebar-menu .menu-item:hover {\n  background-color: #ecf5ff;\n  color: #1890ff;\n}\n\n.sidebar-menu .menu-item.active {\n  background-color: #ecf5ff;\n  color: #1890ff;\n  font-weight: bold;\n}\n\n.sidebar-menu .menu-item i {\n  margin-right: 10px;\n  font-size: 16px;\n}\n\n/* 主内容区域 */\n.main-content {\n  flex: 1;\n  padding: 30px;\n}\n\n.content-header {\n  margin-bottom: 30px;\n}\n\n.content-header h2 {\n  font-size: 24px;\n  color: #303133;\n  margin: 0;\n}\n\n.content-body {\n  background-color: #fff;\n  border-radius: 8px;\n  padding: 30px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n}\n\n/* 表单样式 */\n.el-form {\n  max-width: 600px;\n}\n\n.el-form-item {\n  margin-bottom: 25px;\n}\n\n.el-button {\n  margin-right: 15px;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .user-info-container {\n    flex-direction: column;\n  }\n  \n  .sidebar {\n    width: 100%;\n    padding: 20px;\n    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  }\n  \n  .sidebar-menu {\n    display: flex;\n    overflow-x: auto;\n  }\n  \n  .sidebar-menu .menu-item {\n    margin-right: 10px;\n    white-space: nowrap;\n  }\n  \n  .main-content {\n    padding: 20px;\n  }\n  \n  .content-body {\n    padding: 20px;\n  }\n}\n</style>\n","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\Appointment.vue",["88","89","90"],"<template>\n  <div class=\"appointment-container\">\n    <!-- 顶部导航栏 -->\n    <header class=\"header\">\n      <div class=\"header-content\">\n        <div class=\"logo\">\n          <i class=\"el-icon-medal-1\"></i>\n          <span>医院预约系统</span>\n        </div>\n        <nav class=\"nav-menu\">\n          <router-link to=\"/home\" class=\"nav-item\">首页</router-link>\n          <router-link to=\"/departments\" class=\"nav-item\">科室介绍</router-link>\n          <router-link to=\"/doctors\" class=\"nav-item\">医生团队</router-link>\n          <router-link to=\"/medical-guide\" class=\"nav-item\">医疗导诊</router-link>\n        </nav>\n        <div class=\"user-info\">\n          <div v-if=\"user\" class=\"logged-in\">\n            <span class=\"welcome\">欢迎，{{ user.name || user.username }}</span>\n            <router-link to=\"/user-info\" class=\"btn-text\">个人信息</router-link>\n            <button class=\"btn-text\" @click=\"handleLogout\">退出登录</button>\n          </div>\n          <div v-else class=\"not-logged-in\">\n            <router-link to=\"/login\" class=\"btn-primary\">登录</router-link>\n            <router-link to=\"/register\" class=\"btn-text\">注册</router-link>\n          </div>\n        </div>\n      </div>\n    </header>\n    <!-- 内容区域 -->\n    <main class=\"main-content\">\n      <div v-if=\"!user\">\n        <el-alert\n          title=\"请先登录\"\n          description=\"预约功能需要登录后使用，请先登录账号\"\n          type=\"info\"\n          show-icon\n          :closable=\"false\"\n        >\n          <router-link to=\"/login\" slot=\"after-close\">立即登录</router-link>\n        </el-alert>\n      </div>\n      <div v-else>\n        <div class=\"page-header\">\n          <h1>在线预约</h1>\n          <p class=\"page-desc\">选择合适的医生和时间进行预约</p>\n        </div>\n        <!-- 预约表单 -->\n        <el-form :model=\"appointmentForm\" :rules=\"rules\" ref=\"appointmentFormRef\" label-width=\"120px\" class=\"appointment-form\">\n          <el-form-item label=\"选择科室\" prop=\"departmentId\">\n            <el-select v-model=\"appointmentForm.departmentId\" placeholder=\"请选择科室\" @change=\"handleDepartmentChange\">\n              <el-option\n                v-for=\"dept in departments\"\n                :key=\"dept.id\"\n                :label=\"dept.name\"\n                :value=\"dept.id\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"选择医生\" prop=\"doctorId\">\n            <el-select v-model=\"appointmentForm.doctorId\" placeholder=\"请先选择科室\">\n              <el-option\n                v-for=\"doctor in filteredDoctors\"\n                :key=\"doctor.id\"\n                :label=\"doctor.name + ' - ' + doctor.title\"\n                :value=\"doctor.id\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"预约日期\" prop=\"appointmentDate\">\n            <el-date-picker\n              v-model=\"appointmentForm.appointmentDate\"\n              type=\"date\"\n              placeholder=\"请选择预约日期\"\n              format=\"yyyy-MM-dd\"\n              :disabled-date=\"disabledDate\"\n            ></el-date-picker>\n          </el-form-item>\n          <el-form-item label=\"预约时段\" prop=\"appointmentTime\">\n            <el-select v-model=\"appointmentForm.appointmentTime\" placeholder=\"请选择预约时段\">\n              <el-option\n                v-for=\"timeSlot in availableTimeSlots\"\n                :key=\"timeSlot\"\n                :label=\"timeSlot\"\n                :value=\"timeSlot\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"症状描述\" prop=\"symptoms\">\n            <el-input\n              v-model=\"appointmentForm.symptoms\"\n              type=\"textarea\"\n              :rows=\"4\"\n              placeholder=\"请简要描述您的症状或就诊需求\"\n            ></el-input>\n          </el-form-item>\n          <el-form-item label=\"联系电话\" prop=\"contactPhone\"\n            :rules=\"[{ required: true, message: '请输入联系电话', trigger: 'blur' }, { validator: validatePhone, trigger: 'blur' }]\"\n          >\n            <el-input v-model=\"appointmentForm.contactPhone\" placeholder=\"请输入联系电话\"></el-input>\n          </el-form-item>\n          <el-form-item class=\"submit-section\">\n            <el-button type=\"primary\" @click=\"submitForm\" :loading=\"submitting\">提交预约</el-button>\n            <el-button @click=\"resetForm\">重置表单</el-button>\n          </el-form-item>\n        </el-form>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Appointment',\n  data() {\n    return {\n      user: null,\n      appointmentForm: {\n        departmentId: '',\n        doctorId: '',\n        appointmentDate: '',\n        appointmentTime: '',\n        symptoms: '',\n        contactPhone: ''\n      },\n      departments: [],\n      filteredDoctors: [],\n      availableTimeSlots: ['上午', '下午'],\n      rules: {},\n      submitting: false\n    }\n  },\n  created() {\n    this.loadUserInfo()\n    this.loadDepartments()\n    \n    // 检查URL参数中是否有科室或医生ID\n    if (this.$route.query.departmentId) {\n      this.appointmentForm.departmentId = this.$route.query.departmentId\n      this.handleDepartmentChange()\n    }\n    if (this.$route.query.doctorId) {\n      this.appointmentForm.doctorId = this.$route.query.doctorId\n    }\n  },\n  methods: {\n    loadUserInfo() {\n      const userStr = localStorage.getItem('user')\n      if (userStr) {\n        this.user = JSON.parse(userStr)\n        // 设置默认联系电话\n        if (this.user.phone) {\n          this.appointmentForm.contactPhone = this.user.phone\n        }\n      }\n    },\n    loadDepartments() {\n      this.$axios.get('/department/list').then(res => {\n        if (res.success) {\n          this.departments = res.data\n        }\n      }).catch(err => {\n        console.error('加载科室列表失败:', err)\n        this.$message.error('加载科室列表失败')\n      })\n    },\n    handleDepartmentChange() {\n      if (this.appointmentForm.departmentId) {\n        // 清空医生选择\n        this.appointmentForm.doctorId = ''\n        // 加载该科室的医生列表\n        this.$axios.get('/doctor/list', { \n          params: { departmentId: this.appointmentForm.departmentId } \n        }).then(res => {\n          if (res.success) {\n            this.filteredDoctors = res.data\n          }\n        }).catch(err => {\n          console.error('加载医生列表失败:', err)\n          this.$message.error('加载医生列表失败')\n        })\n      }\n    },\n    disabledDate(time) {\n      // 禁用日期逻辑：只能选择今天之后的日期\n      return time.getTime() < Date.now() - 8.64e7\n    },\n    validatePhone(rule, value, callback) {\n      // 电话号码验证\n      const phoneReg = /^1[3-9]\\d{9}$/\n      if (!value) {\n        callback(new Error('请输入联系电话'))\n      } else if (!phoneReg.test(value)) {\n        callback(new Error('请输入有效的手机号码'))\n      } else {\n        callback()\n      }\n    },\n    submitForm() {\n      this.$refs.appointmentFormRef.validate((valid) => {\n        if (valid) {\n          this.submitting = true\n          // 准备提交数据\n          const submitData = {\n            ...this.appointmentForm,\n            userId: this.user.id\n          }\n          \n          this.$axios.post('/appointment/create', submitData).then(res => {\n            if (res.success) {\n              this.$message.success('预约成功！')\n              this.resetForm()\n              // 跳转到预约列表页\n              this.$router.push('/appointment-list')\n            } else {\n              this.$message.error(res.message || '预约失败')\n            }\n          }).catch(err => {\n            console.error('预约提交失败:', err)\n            this.$message.error('预约提交失败，请重试')\n          }).finally(() => {\n            this.submitting = false\n          })\n        }\n      })\n    },\n    resetForm() {\n      this.$refs.appointmentFormRef.resetFields()\n      this.appointmentForm.doctorId = ''\n      // 保留联系电话\n      if (this.user && this.user.phone) {\n        this.appointmentForm.contactPhone = this.user.phone\n      }\n    },\n    handleLogout() {\n      this.$confirm('确定要退出登录吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        localStorage.removeItem('token')\n        localStorage.removeItem('user')\n        this.user = null\n        this.$router.push('/login')\n        this.$message.success('退出登录成功')\n      }).catch(() => {\n        // 取消退出\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.appointment-container {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n/* 样式内容 */\n</style>","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\DepartmentList.vue",["91"],"<template>\n  <div class=\"department-container\">\n    <!-- 顶部导航栏 -->\n    <header class=\"header\">\n      <div class=\"header-content\">\n        <div class=\"logo\">\n          <i class=\"el-icon-medal-1\"></i>\n          <span>医院预约系统</span>\n        </div>\n        <nav class=\"nav-menu\">\n          <router-link to=\"/home\" class=\"nav-item\">首页</router-link>\n          <router-link to=\"/departments\" class=\"nav-item active\">科室介绍</router-link>\n          <router-link to=\"/doctors\" class=\"nav-item\">医生团队</router-link>\n          <router-link to=\"/medical-guide\" class=\"nav-item\">医疗导诊</router-link>\n        </nav>\n        <div class=\"user-info\">\n          <div v-if=\"user\" class=\"logged-in\">\n            <span class=\"welcome\">欢迎，{{ user.name || user.username }}</span>\n            <router-link to=\"/user-info\" class=\"btn-text\">个人信息</router-link>\n            <button class=\"btn-text\" @click=\"handleLogout\">退出登录</button>\n          </div>\n          <div v-else class=\"not-logged-in\">\n            <router-link to=\"/login\" class=\"btn-primary\">登录</router-link>\n            <router-link to=\"/register\" class=\"btn-text\">注册</router-link>\n          </div>\n        </div>\n      </div>\n    </header>\n    <!-- 内容区域 -->\n    <main class=\"main-content\">\n      <div class=\"page-header\">\n        <h1>科室介绍</h1>\n        <p class=\"page-desc\">了解我院各科室的专业领域和医疗特色</p>\n      </div>\n      <!-- 科室搜索 -->\n      <div class=\"search-section\">\n        <el-input v-model=\"searchKeyword\" placeholder=\"请输入科室名称或关键词\" prefix-icon=\"el-icon-search\" size=\"large\">\n          <template v-slot:append>\n            <el-button type=\"primary\" @click=\"handleSearch\">搜索</el-button>\n          </template>\n        </el-input>\n      </div>\n      <!-- 科室列表 -->\n      <div class=\"department-list\">\n        <el-card v-for=\"department in filteredDepartments\" :key=\"department.id\" class=\"department-card\">\n          <div class=\"department-header\">\n            <h3 class=\"department-name\">{{ department.name }}</h3>\n            <el-tag size=\"medium\" type=\"primary\">{{ department.type }}</el-tag>\n          </div>\n          <div class=\"department-content\">\n            <p class=\"department-description\">{{ department.description }}</p>\n            <div class=\"department-info\">\n              <div class=\"info-item\">\n                <i class=\"el-icon-location\"></i>\n                <span>位置：{{ department.location }}</span>\n              </div>\n              <div class=\"info-item\">\n                <i class=\"el-icon-phone\"></i>\n                <span>电话：{{ department.phone }}</span>\n              </div>\n              <div class=\"info-item\">\n                <i class=\"el-icon-user-solid\"></i>\n                <span>医生数量：{{ department.doctorCount || 0 }}</span>\n              </div>\n            </div>\n          </div>\n          <div class=\"department-footer\">\n            <router-link :to=\"{ path: '/doctors', query: { departmentId: department.id }}\" class=\"view-doctors-btn\">\n              查看医生列表\n              <i class=\"el-icon-arrow-right\"></i>\n            </router-link>\n            <router-link :to=\"{ path: '/appointment', query: { departmentId: department.id }}\" class=\"make-appointment-btn\" v-if=\"user && user.role !== 'ADMIN'\">\n              立即预约\n            </router-link>\n          </div>\n        </el-card>\n      </div>\n      <!-- 无数据提示 -->\n      <div v-if=\"filteredDepartments.length === 0\" class=\"no-data\">\n        <el-empty description=\"暂无科室信息\"></el-empty>\n      </div>\n    </main>\n    <!-- 页脚 -->\n    <footer class=\"footer\">\n      <div class=\"footer-content\">\n        <p>© 2024 医院预约系统 版权所有</p>\n      </div>\n    </footer>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'DepartmentList',\n  data() {\n    return {\n      user: null,\n      departments: [],\n      searchKeyword: '',\n      loading: false\n    }\n  },\n  computed: {\n    filteredDepartments() {\n      if (!this.searchKeyword.trim()) {\n        return this.departments\n      }\n      \n      const keyword = this.searchKeyword.toLowerCase().trim()\n      return this.departments.filter(dept => \n        dept.name.toLowerCase().includes(keyword) || \n        dept.description.toLowerCase().includes(keyword) ||\n        dept.type.toLowerCase().includes(keyword)\n      )\n    }\n  },\n  created() {\n    this.loadUserInfo()\n    this.loadDepartments()\n  },\n  methods: {\n    loadUserInfo() {\n      const userStr = localStorage.getItem('user')\n      if (userStr) {\n        this.user = JSON.parse(userStr)\n      }\n    },\n    loadDepartments() {\n      this.loading = true\n      this.$axios.get('/department/list').then(res => {\n        if (res.success) {\n          this.departments = res.data\n        }\n      }).catch(err => {\n        console.error('加载科室列表失败:', err)\n        this.$message.error('加载科室列表失败')\n      }).finally(() => {\n        this.loading = false\n      })\n    },\n    handleSearch() {\n      // 搜索功能已通过computed属性实现，这里可以添加额外的逻辑\n    },\n    handleLogout() {\n      this.$confirm('确定要退出登录吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        localStorage.removeItem('token')\n        localStorage.removeItem('user')\n        this.user = null\n        this.$router.push('/login')\n        this.$message.success('退出登录成功')\n      }).catch(() => {\n        // 取消退出\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.department-container {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n/* 顶部导航栏 - 复用Home页面的样式 */\n.header {\n  background-color: #fff;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  position: sticky;\n  top: 0;\n  z-index: 1000;\n}\n\n.header-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 60px;\n}\n\n.logo {\n  display: flex;\n  align-items: center;\n  font-size: 20px;\n  font-weight: bold;\n  color: #1890ff;\n}\n\n.logo i {\n  margin-right: 10px;\n  font-size: 24px;\n}\n\n.nav-menu {\n  display: flex;\n}\n\n.nav-item {\n  margin: 0 20px;\n  color: #606266;\n  text-decoration: none;\n  font-size: 16px;\n  padding: 5px 0;\n  position: relative;\n  transition: color 0.3s;\n}\n\n.nav-item:hover,\n.nav-item.active {\n  color: #1890ff;\n}\n\n.nav-item.active::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 2px;\n  background-color: #1890ff;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n}\n\n.logged-in {\n  display: flex;\n  align-items: center;\n}\n\n.welcome {\n  margin-right: 20px;\n  color: #606266;\n}\n\n.btn-text,\n.btn-primary {\n  padding: 5px 15px;\n  margin-left: 10px;\n  cursor: pointer;\n  border-radius: 4px;\n  transition: all 0.3s;\n}\n\n.btn-text {\n  color: #606266;\n  background: none;\n  border: none;\n}\n\n.btn-text:hover {\n  color: #1890ff;\n}\n\n.btn-primary {\n  background-color: #1890ff;\n  color: white;\n  border: none;\n}\n\n.btn-primary:hover {\n  background-color: #40a9ff;\n}\n\n/* 主内容区域 */\n.main-content {\n  flex: 1;\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 30px 20px;\n  width: 100%;\n}\n\n.page-header {\n  text-align: center;\n  margin-bottom: 40px;\n}\n\n.page-header h1 {\n  font-size: 32px;\n  color: #303133;\n  margin-bottom: 10px;\n}\n\n.page-desc {\n  font-size: 16px;\n  color: #606266;\n  margin: 0;\n}\n\n/* 搜索区域 */\n.search-section {\n  margin-bottom: 30px;\n  max-width: 600px;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n/* 科室列表 */\n.department-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));\n  gap: 20px;\n}\n\n.department-card {\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n}\n\n.department-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 15px;\n}\n\n.department-name {\n  font-size: 20px;\n  font-weight: bold;\n  color: #303133;\n  margin: 0;\n}\n\n.department-content {\n  flex: 1;\n}\n\n.department-description {\n  color: #606266;\n  line-height: 1.6;\n  margin-bottom: 20px;\n}\n\n.department-info {\n  background-color: #f5f7fa;\n  padding: 15px;\n  border-radius: 6px;\n}\n\n.info-item {\n  display: flex;\n  align-items: center;\n  margin-bottom: 10px;\n  color: #606266;\n}\n\n.info-item:last-child {\n  margin-bottom: 0;\n}\n\n.info-item i {\n  margin-right: 8px;\n  color: #1890ff;\n}\n\n.department-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 20px;\n}\n\n.view-doctors-btn {\n  color: #1890ff;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  transition: color 0.3s;\n}\n\n.view-doctors-btn:hover {\n  color: #40a9ff;\n}\n\n.view-doctors-btn i {\n  margin-left: 5px;\n  font-size: 14px;\n}\n\n.make-appointment-btn {\n  background-color: #1890ff;\n  color: white;\n  padding: 8px 16px;\n  border-radius: 4px;\n  text-decoration: none;\n  transition: background-color 0.3s;\n}\n\n.make-appointment-btn:hover {\n  background-color: #40a9ff;\n}\n\n/* 无数据提示 */\n.no-data {\n  text-align: center;\n  padding: 60px 0;\n}\n\n/* 页脚 */\n.footer {\n  background-color: #f0f2f5;\n  padding: 20px 0;\n  margin-top: 40px;\n}\n\n.footer-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  text-align: center;\n  color: #606266;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .header-content {\n    flex-direction: column;\n    height: auto;\n    padding: 15px;\n  }\n  \n  .nav-menu {\n    margin: 15px 0;\n  }\n  \n  .nav-item {\n    margin: 0 10px;\n  }\n  \n  .department-list {\n    grid-template-columns: 1fr;\n  }\n  \n  .department-footer {\n    flex-direction: column;\n    gap: 10px;\n  }\n  \n  .view-doctors-btn {\n    margin-bottom: 10px;\n  }\n}\n</style>\n","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\Register.vue",["92"],"<template>\n  <div class=\"register-container\">\n    <div class=\"register-form\">\n      <h2>医院预约系统注册</h2>\n      <el-form ref=\"registerForm\" :model=\"registerForm\" :rules=\"rules\" label-width=\"100px\">\n        <el-form-item label=\"用户类型\">\n          <el-radio-group v-model=\"registerForm.userType\" @change=\"handleUserTypeChange\">\n            <el-radio label=\"patient\">患者</el-radio>\n            <el-radio label=\"doctor\">医生</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"registerForm.username\" placeholder=\"请输入用户名\" prefix-icon=\"el-icon-user\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input type=\"password\" v-model=\"registerForm.password\" placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\" show-password></el-input>\n        </el-form-item>\n        <el-form-item label=\"确认密码\" prop=\"confirmPassword\">\n          <el-input type=\"password\" v-model=\"registerForm.confirmPassword\" placeholder=\"请再次输入密码\" prefix-icon=\"el-icon-lock\" show-password></el-input>\n        </el-form-item>\n        <el-form-item label=\"姓名\" prop=\"realName\">\n          <el-input v-model=\"registerForm.realName\" placeholder=\"请输入姓名\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"手机号\" prop=\"phone\">\n          <el-input v-model=\"registerForm.phone\" placeholder=\"请输入手机号\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"性别\">\n          <el-radio-group v-model=\"registerForm.gender\">\n            <el-radio label=\"male\">男</el-radio>\n            <el-radio label=\"female\">女</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        \n        <!-- 医生特有字段 -->\n        <div v-if=\"registerForm.userType === 'doctor'\">\n          <el-form-item label=\"科室\" prop=\"departmentId\">\n            <el-select v-model=\"registerForm.departmentId\" placeholder=\"请选择科室\">\n              <el-option v-for=\"dept in departments\" :key=\"dept.id\" :label=\"dept.name\" :value=\"dept.id\"></el-option>\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"职称\" prop=\"title\">\n            <el-input v-model=\"registerForm.title\" placeholder=\"请输入职称\"></el-input>\n          </el-form-item>\n          <el-form-item label=\"专长\" prop=\"specialty\">\n            <el-input v-model=\"registerForm.specialty\" placeholder=\"请输入专长\"></el-input>\n          </el-form-item>\n        </div>\n        \n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleRegister\" class=\"register-btn\">注册</el-button>\n          <el-button @click=\"goToLogin\" class=\"login-btn\">已有账号，去登录</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Register',\n  data() {\n    return {\n      registerForm: {\n        username: '',\n        password: '',\n        confirmPassword: '',\n        realName: '',\n        phone: '',\n        gender: 'male',\n        userType: 'patient',\n        departmentId: '',\n        title: '',\n        specialty: ''\n      },\n      departments: [],\n      rules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' },\n          { min: 4, max: 20, message: '用户名长度应在4-20个字符之间', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          { min: 6, message: '密码长度不能少于6位', trigger: 'blur' }\n        ],\n        confirmPassword: [\n          { required: true, message: '请确认密码', trigger: 'blur' },\n          { validator: this.validateConfirmPassword, trigger: 'blur' }\n        ],\n        realName: [\n          { required: true, message: '请输入姓名', trigger: 'blur' }\n        ],\n        phone: [\n          { required: true, message: '请输入手机号', trigger: 'blur' },\n          { pattern: /^1[3-9]\\d{9}$/, message: '请输入正确的手机号格式', trigger: 'blur' }\n        ],\n        departmentId: [\n          { required: () => this.registerForm.userType === 'doctor', message: '请选择科室', trigger: 'blur' }\n        ],\n        title: [\n          { required: () => this.registerForm.userType === 'doctor', message: '请输入职称', trigger: 'blur' }\n        ],\n        specialty: [\n          { required: () => this.registerForm.userType === 'doctor', message: '请输入专长', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  created() {\n    // 加载科室列表\n    this.loadDepartments()\n  },\n  methods: {\n    loadDepartments() {\n      this.$axios.get('/api/department/list').then(res => {\n        if (res.code === 200) {\n          this.departments = res.data\n        }\n      })\n    },\n    handleUserTypeChange() {\n      // 用户类型改变时，需要重新验证表单\n      this.$nextTick(() => {\n        this.$refs.registerForm.clearValidate()\n      })\n    },\n    validateConfirmPassword(rule, value, callback) {\n      if (value !== this.registerForm.password) {\n        callback(new Error('两次输入的密码不一致'))\n      } else {\n        callback()\n      }\n    },\n    handleRegister() {\n      this.$refs.registerForm.validate((valid) => {\n        if (valid) {\n          const url = this.registerForm.userType === 'doctor' \n            ? '/api/user/register-doctor' \n            : '/api/user/register'\n          \n          // 构建请求数据，只包含后端需要的字段\n          const requestData = {\n            username: this.registerForm.username,\n            password: this.registerForm.password,\n            realName: this.registerForm.realName,\n            phone: this.registerForm.phone,\n            gender: this.registerForm.gender\n          }\n          \n          // 医生注册需要额外字段\n          if (this.registerForm.userType === 'doctor') {\n            requestData.deptId = this.registerForm.departmentId\n            requestData.title = this.registerForm.title\n            requestData.specialty = this.registerForm.specialty\n          }\n          \n          this.$axios.post(url, requestData).then(res => {\n            if (res.code === 200) {\n              this.$message.success('注册成功，请登录')\n              this.$router.push('/login')\n            } else {\n              this.$message.error(res.message || '注册失败')\n            }\n          }).catch(err => {\n            console.error('注册失败:', err)\n            this.$message.error('注册失败，请稍后重试')\n          })\n        }\n      })\n    },\n    goToLogin() {\n      this.$router.push('/login')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.register-container {\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #f5f7fa;\n}\n\n.register-form {\n  background: white;\n  padding: 40px;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  width: 500px;\n}\n\n.register-form h2 {\n  text-align: center;\n  margin-bottom: 30px;\n  color: #303133;\n}\n\n.register-btn {\n  width: 60%;\n  margin-right: 20px;\n}\n\n.login-btn {\n  width: calc(40% - 20px);\n}\n</style>\n","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\Login.vue",["93"],"<template>\n  <div class=\"login-container\">\n    <div class=\"login-form\">\n      <h2>医院预约系统登录</h2>\n      <el-form ref=\"loginForm\" :model=\"loginForm\" :rules=\"rules\" label-width=\"80px\">\n        <el-form-item label=\"用户名\" prop=\"username\">\n          <el-input v-model=\"loginForm.username\" placeholder=\"请输入用户名\" prefix-icon=\"el-icon-user\"></el-input>\n        </el-form-item>\n        <el-form-item label=\"密码\" prop=\"password\">\n          <el-input type=\"password\" v-model=\"loginForm.password\" placeholder=\"请输入密码\" prefix-icon=\"el-icon-lock\" show-password></el-input>\n        </el-form-item>\n        <el-form-item label=\"用户类型\">\n          <el-radio-group v-model=\"loginForm.userType\">\n            <el-radio label=\"patient\">患者</el-radio>\n            <el-radio label=\"doctor\">医生</el-radio>\n            <el-radio label=\"admin\">管理员</el-radio>\n          </el-radio-group>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" @click=\"handleLogin\" class=\"login-btn\">登录</el-button>\n          <el-button @click=\"goToRegister\" class=\"register-btn\">注册</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'Login',\n  data() {\n    return {\n      loginForm: {\n        username: '',\n        password: '',\n        userType: 'patient'\n      },\n      rules: {\n        username: [\n          { required: true, message: '请输入用户名', trigger: 'blur' }\n        ],\n        password: [\n          { required: true, message: '请输入密码', trigger: 'blur' },\n          { min: 6, message: '密码长度不能少于6位', trigger: 'blur' }\n        ]\n      }\n    }\n  },\n  methods: {\n    handleLogin() {\n      this.$refs.loginForm.validate((valid) => {\n        if (valid) {\n          this.$axios.post('/user/login', {\n            username: this.loginForm.username,\n            password: this.loginForm.password,\n            userType: this.loginForm.userType\n          }).then(res => {\n            if (res.code === 200) {\n              // 保存token和用户信息\n              localStorage.setItem('token', res.data.token)\n              // 构建前端需要的用户对象格式\n              const userData = {\n                username: res.data.username,\n                realName: res.data.realName,\n                role: res.data.roleCode.replace('ROLE_', '') // 将ROLE_ADMIN转换为ADMIN格式\n              }\n              localStorage.setItem('user', JSON.stringify(userData))\n              \n              // 根据用户角色跳转到相应页面\n              if (res.data.roleCode === 'ROLE_ADMIN') {\n                this.$router.push('/admin/dashboard')\n              } else {\n                this.$router.push('/home')\n              }\n              \n              this.$message.success('登录成功')\n            } else {\n              this.$message.error(res.message || '登录失败')\n            }\n          }).catch(err => {\n            this.$message.error('登录失败，请稍后重试')\n            console.error('登录失败:', err)\n          })\n        }\n      })\n    },\n    goToRegister() {\n      this.$router.push('/register')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.login-container {\n  min-height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: #f5f7fa;\n}\n\n.login-form {\n  background: white;\n  padding: 40px;\n  border-radius: 8px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n  width: 400px;\n}\n\n.login-form h2 {\n  text-align: center;\n  margin-bottom: 30px;\n  color: #303133;\n}\n\n.login-btn {\n  width: 60%;\n  margin-right: 20px;\n}\n\n.register-btn {\n  width: calc(40% - 20px);\n}\n</style>\n","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\MedicalGuide.vue",["94"],"<template>\n  <div class=\"medical-guide-container\">\n    <!-- 顶部导航栏 -->\n    <header class=\"header\">\n      <div class=\"header-content\">\n        <div class=\"logo\">\n          <i class=\"el-icon-medal-1\"></i>\n          <span>医院预约系统</span>\n        </div>\n        <nav class=\"nav-menu\">\n          <router-link to=\"/home\" class=\"nav-item\">首页</router-link>\n          <router-link to=\"/departments\" class=\"nav-item\">科室介绍</router-link>\n          <router-link to=\"/doctors\" class=\"nav-item\">医生团队</router-link>\n          <router-link to=\"/medical-guide\" class=\"nav-item active\">医疗导诊</router-link>\n        </nav>\n        <div class=\"user-info\">\n          <div v-if=\"user\" class=\"logged-in\">\n            <span class=\"welcome\">欢迎，{{ user.name || user.username }}</span>\n            <router-link to=\"/user-info\" class=\"btn-text\">个人信息</router-link>\n            <router-link to=\"/appointment-list\" class=\"btn-text\">预约记录</router-link>\n            <button class=\"btn-text\" @click=\"handleLogout\">退出登录</button>\n          </div>\n          <div v-else class=\"not-logged-in\">\n            <router-link to=\"/login\" class=\"btn-primary\">登录</router-link>\n            <router-link to=\"/register\" class=\"btn-text\">注册</router-link>\n          </div>\n        </div>\n      </div>\n    </header>\n    <!-- 内容区域 -->\n    <main class=\"main-content\">\n      <div class=\"page-header\">\n        <h1>医疗导诊服务</h1>\n        <p class=\"page-desc\">根据您的症状和需求，为您推荐合适的科室和就诊建议</p>\n      </div>\n      <!-- 症状自查工具 -->\n      <el-card class=\"guide-card symptom-checker\">\n        <template slot=\"header\">\n          <h3 class=\"card-title\">症状自查向导</h3>\n        </template>\n        <div class=\"symptom-form\">\n          <el-form :model=\"symptomForm\" label-width=\"100px\">\n            <el-form-item label=\"主要症状\">\n              <el-select v-model=\"symptomForm.mainSymptom\" placeholder=\"请选择主要症状\">\n                <el-option\n                  v-for=\"symptom in commonSymptoms\"\n                  :key=\"symptom.value\"\n                  :label=\"symptom.label\"\n                  :value=\"symptom.value\"\n                ></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"伴随症状\">\n              <el-select v-model=\"symptomForm.secondarySymptoms\" multiple placeholder=\"可多选\">\n                <el-option\n                  v-for=\"symptom in allSymptoms\"\n                  :key=\"symptom.value\"\n                  :label=\"symptom.label\"\n                  :value=\"symptom.value\"\n                ></el-option>\n              </el-select>\n            </el-form-item>\n            <el-form-item label=\"症状持续时间\">\n              <el-radio-group v-model=\"symptomForm.duration\">\n                <el-radio-button label=\"几小时\"></el-radio-button>\n                <el-radio-button label=\"1-3天\"></el-radio-button>\n                <el-radio-button label=\"1周内\"></el-radio-button>\n                <el-radio-button label=\"长期存在\"></el-radio-button>\n              </el-radio-group>\n            </el-form-item>\n            <el-form-item label=\"症状严重程度\">\n              <el-rate v-model=\"symptomForm.severity\" show-score :max=\"5\"></el-rate>\n            </el-form-item>\n            <el-form-item class=\"submit-section\">\n              <el-button type=\"primary\" @click=\"analyzeSymptoms\" :loading=\"analyzing\">分析症状</el-button>\n            </el-form-item>\n          </el-form>\n        </div>\n      </el-card>\n      <!-- 分析结果 -->\n      <el-card v-if=\"analysisResult\" class=\"guide-card analysis-result\">\n        <template slot=\"header\">\n          <h3 class=\"card-title\">初步分析结果</h3>\n        </template>\n        <div class=\"result-content\">\n          <div class=\"recommended-dept\">\n            <h4 class=\"result-subtitle\">建议就诊科室：</h4>\n            <div class=\"dept-tags\">\n              <el-tag type=\"primary\" closable v-for=\"dept in analysisResult.recommendedDepartments\" :key=\"dept\" @click=\"goToDepartment(dept)\">{{ dept }}</el-tag>\n            </div>\n          </div>\n          <div class=\"advice\">\n            <h4 class=\"result-subtitle\">就诊建议：</h4>\n            <p class=\"advice-text\">{{ analysisResult.advice }}</p>\n          </div>\n          <div class=\"emergency-warning\" v-if=\"analysisResult.isEmergency\">\n            <el-alert\n              title=\"紧急提示\"\n              description=\"您的症状可能需要紧急处理，请立即前往急诊科就诊或拨打120急救电话\"\n              type=\"error\"\n              show-icon\n            ></el-alert>\n          </div>\n          <div class=\"action-buttons\">\n            <router-link :to=\"{ path: '/appointment' }\" class=\"make-appointment-btn\">\n              立即预约\n            </router-link>\n            <router-link :to=\"{ path: '/doctors' }\" class=\"view-doctors-btn\">\n              查看医生列表\n            </router-link>\n          </div>\n        </div>\n      </el-card>\n      <!-- 常见问题指南 -->\n      <el-card class=\"guide-card faq-section\">\n        <template slot=\"header\">\n          <h3 class=\"card-title\">常见问题指南</h3>\n        </template>\n        <el-collapse accordion>\n          <el-collapse-item title=\"如何选择合适的科室就诊？\" name=\"1\">\n            <div class=\"faq-content\">\n              <p>选择科室主要根据您的症状和不适部位：</p>\n              <ul>\n                <li>头痛、头晕：建议先看神经内科</li>\n                <li>心脏不适、胸痛：建议心内科</li>\n                <li>腹痛、消化不良：建议消化内科</li>\n                <li>关节疼痛：建议骨科或风湿免疫科</li>\n                <li>发热、咳嗽：建议呼吸内科或感染科</li>\n              </ul>\n              <p>如不确定，可先到全科医学科或内科进行初步筛查。</p>\n            </div>\n          </el-collapse-item>\n          <el-collapse-item title=\"初诊患者需要注意什么？\" name=\"2\">\n            <div class=\"faq-content\">\n              <p>初诊患者需要注意以下几点：</p>\n              <ul>\n                <li>携带有效身份证件（身份证、医保卡等）</li>\n                <li>提前准备好症状描述，包括发病时间、持续时长、症状变化等信息</li>\n                <li>如有既往病历、检查报告等，请一并携带</li>\n                <li>提前通过我院APP或网站预约，避免长时间排队等候</li>\n                <li>建议上午前往就诊，以便进行各项检查</li>\n              </ul>\n            </div>\n          </el-collapse-item>\n          <el-collapse-item title=\"哪些情况需要看急诊？\" name=\"3\">\n            <div class=\"faq-content\">\n              <p>以下情况建议立即前往急诊科就诊：</p>\n              <ul>\n                <li>突发剧烈胸痛、呼吸困难</li>\n                <li>严重外伤、大量出血</li>\n                <li>剧烈头痛、呕吐、意识不清</li>\n                <li>高热（体温超过39.5℃）、持续不退</li>\n                <li>突发腹痛、疑似急腹症</li>\n                <li>严重过敏反应，如喉头水肿、呼吸困难等</li>\n                <li>食物中毒症状严重者</li>\n              </ul>\n              <p>紧急情况下请直接拨打120急救电话。</p>\n            </div>\n          </el-collapse-item>\n          <el-collapse-item title=\"预约挂号有哪些注意事项？\" name=\"4\">\n            <div class=\"faq-content\">\n              <p>预约挂号需要注意：</p>\n              <ul>\n                <li>预约成功后，请在就诊当天提前30分钟到院取号</li>\n                <li>如需取消预约，请至少提前4小时操作，避免影响个人信誉记录</li>\n                <li>一个账号同一科室同一天只能预约一个号源</li>\n                <li>挂号后请按照预约时间准时就诊，过时未到者可能需要重新排队</li>\n                <li>特殊科室（如专家门诊）可能需要提前一周预约</li>\n              </ul>\n            </div>\n          </el-collapse-item>\n        </el-collapse>\n      </el-card>\n      <!-- 健康知识 -->\n      <el-card class=\"guide-card health-tips\">\n        <template slot=\"header\">\n          <h3 class=\"card-title\">健康小贴士</h3>\n        </template>\n        <div class=\"health-tips-content\">\n          <div class=\"tip-item\">\n            <i class=\"el-icon-info-circle health-icon\"></i>\n            <div class=\"tip-text\">\n              <p class=\"tip-title\">保持良好作息习惯</p>\n              <p class=\"tip-desc\">每天保持7-8小时充足睡眠，有助于增强免疫力，促进身体健康。</p>\n            </div>\n          </div>\n          <div class=\"tip-item\">\n            <i class=\"el-icon-medal health-icon\"></i>\n            <div class=\"tip-text\">\n              <p class=\"tip-title\">合理饮食结构</p>\n              <p class=\"tip-desc\">多吃蔬菜水果，控制脂肪和盐分摄入，保持饮食多样化。</p>\n            </div>\n          </div>\n          <div class=\"tip-item\">\n            <i class=\"el-icon-cpu health-icon\"></i>\n            <div class=\"tip-text\">\n              <p class=\"tip-title\">适量运动锻炼</p>\n              <p class=\"tip-desc\">每周至少进行150分钟中等强度有氧运动，保持身体健康活力。</p>\n            </div>\n        </div>\n          <div class=\"tip-item\">\n            <i class=\"el-icon-info-circle health-icon\"></i>\n            <div class=\"tip-text\">\n              <p class=\"tip-title\">保持良好作息习惯</p>\n              <p class=\"tip-desc\">每天保持7-8小时充足睡眠，有助于增强免疫力，促进身体健康。</p>\n            </div>\n          </div>\n          <div class=\"tip-item\">\n            <i class=\"el-icon-medal health-icon\"></i>\n            <div class=\"tip-text\">\n              <p class=\"tip-title\">合理饮食结构</p>\n              <p class=\"tip-desc\">多吃蔬菜水果，控制脂肪和盐分摄入，保持饮食多样化。</p>\n            </div>\n          </div>\n          <div class=\"tip-item\">\n            <i class=\"el-icon-cpu health-icon\"></i>\n            <div class=\"tip-text\">\n              <p class=\"tip-title\">适量运动锻炼</p>\n              <p class=\"tip-desc\">每周至少进行150分钟中等强度有氧运动，保持身体健康活力。</p>\n            </div>\n          </div>\n        </div>\n      </el-card>\n    </main>\n    <!-- 页脚 -->\n    <footer class=\"footer\">\n      <div class=\"footer-content\">\n        <p>© 2024 医院预约系统 版权所有</p>\n      </div>\n    </footer>\n  </div>\n</template>\n\n<script>\nimport medicalGuideAPI from '../api/medicalGuide';\n\nexport default {\n  name: 'MedicalGuide',\n  data() {\n    return {\n      user: null,\n      analyzing: false,\n      analysisResult: null,\n      symptomForm: {\n        mainSymptom: '',\n        secondarySymptoms: [],\n        duration: '',\n        severity: 3\n      },\n      commonSymptoms: [\n        { label: '头痛', value: 'headache' },\n        { label: '腹痛', value: 'abdominalPain' },\n        { label: '发热', value: 'fever' },\n        { label: '咳嗽', value: 'cough' },\n        { label: '胸痛', value: 'chestPain' },\n        { label: '头晕', value: 'dizziness' },\n        { label: '恶心呕吐', value: 'nausea' },\n        { label: '关节疼痛', value: 'jointPain' }\n      ],\n      allSymptoms: [\n        { label: '头痛', value: 'headache' },\n        { label: '头晕', value: 'dizziness' },\n        { label: '发热', value: 'fever' },\n        { label: '咳嗽', value: 'cough' },\n        { label: '胸闷', value: 'chestTightness' },\n        { label: '胸痛', value: 'chestPain' },\n        { label: '腹痛', value: 'abdominalPain' },\n        { label: '恶心', value: 'nausea' },\n        { label: '呕吐', value: 'vomiting' },\n        { label: '腹泻', value: 'diarrhea' },\n        { label: '便秘', value: 'constipation' },\n        { label: '关节疼痛', value: 'jointPain' },\n        { label: '肌肉酸痛', value: 'musclePain' },\n        { label: '呼吸困难', value: 'difficultyBreathing' },\n        { label: '乏力', value: 'fatigue' },\n        { label: '失眠', value: 'insomnia' },\n        { label: '皮疹', value: 'rash' },\n        { label: '视力模糊', value: 'blurredVision' }\n      ],\n      // 症状与科室推荐映射关系\n      symptomToDepartment: {\n        'headache': ['神经内科', '神经外科'],\n        'dizziness': ['神经内科', '耳鼻喉科'],\n        'fever': ['呼吸内科', '感染科'],\n        'cough': ['呼吸内科'],\n        'chestPain': ['心内科', '呼吸内科'],\n        'abdominalPain': ['消化内科', '普通外科'],\n        'nausea': ['消化内科'],\n        'jointPain': ['骨科', '风湿免疫科']\n      }\n    }\n  },\n  created() {\n    this.loadUserInfo()\n  },\n  methods: {\n    loadUserInfo() {\n      const userStr = localStorage.getItem('user')\n      if (userStr) {\n        this.user = JSON.parse(userStr)\n      }\n    },\n    analyzeSymptoms() {\n      if (!this.symptomForm.mainSymptom) {\n        this.$message.warning('请选择主要症状');\n        return\n      }\n      \n      this.analyzing = true\n      \n      // 构建症状字符串\n      let symptoms = this.symptomForm.mainSymptom;\n      if (this.symptomForm.secondarySymptoms && this.symptomForm.secondarySymptoms.length > 0) {\n        symptoms += ',' + this.symptomForm.secondarySymptoms.join(',');\n      }\n      \n      // 调用后端API进行症状分析\n      medicalGuideAPI.getDepartmentRecommendation(symptoms)\n        .then(response => {\n          // 生成分析结果\n          this.analysisResult = {\n            recommendedDepartments: response.recommendedDepartments || ['全科医学科'],\n            advice: response.advice || '建议前往推荐科室就诊',\n            isEmergency: response.isEmergency || false\n          }\n        })\n        .catch(error => {\n          console.error('症状分析失败:', error);\n          this.$message.error('症状分析失败，请稍后重试');\n          \n          // 使用本地备用逻辑\n          let recommendedDepartments = this.symptomToDepartment[this.symptomForm.mainSymptom] || ['全科医学科']\n          let advice = '系统暂时无法连接后端服务，以下是基于本地数据的推荐。';\n          let isEmergency = false\n          \n          if (this.symptomForm.severity > 4) {\n            if (this.symptomForm.mainSymptom === 'chestPain' || \n                this.symptomForm.mainSymptom === 'difficultyBreathing') {\n              isEmergency = true\n            }\n          }\n          \n          this.analysisResult = {\n            recommendedDepartments,\n            advice,\n            isEmergency\n          }\n        })\n        .finally(() => {\n          this.analyzing = false\n        })\n    },\n    goToDepartment(deptName) {\n      // 跳转到科室列表，带上科室名称作为筛选条件\n      this.$router.push({ path: '/departments', query: { search: deptName } })\n    },\n    handleLogout() {\n      this.$confirm('确定要退出登录吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        localStorage.removeItem('token')\n        localStorage.removeItem('user')\n        this.user = null\n        this.$router.push('/login')\n        this.$message.success('退出登录成功')\n      }).catch(() => {\n        // 取消退出\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.medical-guide-container {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  background-color: #f5f7fa;\n}\n\n/* 顶部导航栏 - 复用样式 */\n.header {\n  background-color: #fff;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  position: sticky;\n  top: 0;\n  z-index: 1000;\n}\n\n.header-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 60px;\n}\n\n.logo {\n  display: flex;\n  align-items: center;\n  font-size: 20px;\n  font-weight: bold;\n  color: #1890ff;\n}\n\n.logo i {\n  margin-right: 10px;\n  font-size: 24px;\n}\n\n.nav-menu {\n  display: flex;\n}\n\n.nav-item {\n  margin: 0 20px;\n  color: #606266;\n  text-decoration: none;\n  font-size: 16px;\n  padding: 5px 0;\n  position: relative;\n  transition: color 0.3s;\n}\n\n.nav-item:hover,\n.nav-item.active {\n  color: #1890ff;\n}\n\n.nav-item.active::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 2px;\n  background-color: #1890ff;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n}\n\n.logged-in {\n  display: flex;\n  align-items: center;\n}\n\n.welcome {\n  margin-right: 20px;\n  color: #606266;\n}\n\n.btn-text,\n.btn-primary {\n  padding: 5px 15px;\n  margin-left: 10px;\n  cursor: pointer;\n  border-radius: 4px;\n  transition: all 0.3s;\n}\n\n.btn-text {\n  color: #606266;\n  background: none;\n  border: none;\n}\n\n.btn-text:hover {\n  color: #1890ff;\n}\n\n.btn-primary {\n  background-color: #1890ff;\n  color: white;\n  border: none;\n}\n\n.btn-primary:hover {\n  background-color: #40a9ff;\n}\n\n/* 主内容区域 */\n.main-content {\n  flex: 1;\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 30px 20px;\n  width: 100%;\n}\n\n.page-header {\n  text-align: center;\n  margin-bottom: 30px;\n}\n\n.page-header h1 {\n  font-size: 28px;\n  color: #303133;\n  margin-bottom: 10px;\n}\n\n.page-desc {\n  font-size: 16px;\n  color: #606266;\n  margin: 0;\n}\n\n/* 导诊卡片 */\n.guide-card {\n  margin-bottom: 30px;\n  box-shadow: 0 2px 12px 0 rgba(0, 0, 0, 0.1);\n}\n\n.card-title {\n  margin: 0;\n  font-size: 18px;\n  font-weight: 600;\n  color: #303133;\n}\n\n/* 症状自查表单 */\n.symptom-form {\n  padding: 0 10px;\n}\n\n.submit-section {\n  text-align: center;\n}\n\n/* 分析结果 */\n.analysis-result .el-card__body {\n  padding: 20px;\n}\n\n.result-content {\n  line-height: 1.6;\n}\n\n.result-subtitle {\n  font-size: 16px;\n  color: #303133;\n  margin: 15px 0 10px 0;\n  font-weight: 500;\n}\n\n.dept-tags {\n  margin-bottom: 20px;\n}\n\n.dept-tags .el-tag {\n  margin-right: 10px;\n  margin-bottom: 10px;\n  cursor: pointer;\n}\n\n.advice-text {\n  color: #606266;\n  background-color: #f0f9ff;\n  padding: 15px;\n  border-radius: 4px;\n  border-left: 4px solid #1890ff;\n}\n\n.emergency-warning {\n  margin: 20px 0;\n}\n\n.action-buttons {\n  margin-top: 25px;\n  display: flex;\n  gap: 15px;\n  justify-content: center;\n}\n\n.make-appointment-btn,\n.view-doctors-btn {\n  padding: 10px 24px;\n  border-radius: 4px;\n  text-decoration: none;\n  transition: all 0.3s;\n  display: inline-block;\n  font-weight: 500;\n}\n\n.make-appointment-btn {\n  background-color: #1890ff;\n  color: white;\n}\n\n.make-appointment-btn:hover {\n  background-color: #40a9ff;\n}\n\n.view-doctors-btn {\n  background-color: #fff;\n  color: #1890ff;\n  border: 1px solid #1890ff;\n}\n\n.view-doctors-btn:hover {\n  background-color: #f0f9ff;\n}\n\n/* FAQ部分 */\n.faq-section .el-collapse-item__header {\n  font-size: 16px;\n  color: #303133;\n}\n\n.faq-content {\n  padding: 10px 0;\n  color: #606266;\n  line-height: 1.8;\n}\n\n.faq-content ul {\n  padding-left: 20px;\n  margin: 10px 0;\n}\n\n.faq-content li {\n  margin-bottom: 6px;\n}\n\n/* 健康小贴士 */\n.health-tips-content {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 20px;\n}\n\n.tip-item {\n  display: flex;\n  gap: 15px;\n  padding: 15px;\n  background-color: #f6ffed;\n  border-radius: 4px;\n  border: 1px solid #b7eb8f;\n  flex: 1 1 300px;\n  min-width: 280px;\n}\n\n.health-icon {\n  font-size: 24px;\n  color: #52c41a;\n  flex-shrink: 0;\n  margin-top: 3px;\n}\n\n.tip-text {\n  flex: 1;\n}\n\n.tip-title {\n  font-size: 16px;\n  font-weight: 500;\n  color: #303133;\n  margin: 0 0 8px 0;\n}\n\n.tip-desc {\n  color: #606266;\n  margin: 0;\n  line-height: 1.6;\n}\n\n/* 页脚 */\n.footer {\n  background-color: #f0f2f5;\n  padding: 20px 0;\n  margin-top: 40px;\n}\n\n.footer-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  text-align: center;\n  color: #606266;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .header-content {\n    flex-direction: column;\n    height: auto;\n    padding: 15px;\n  }\n  \n  .nav-menu {\n    margin: 15px 0;\n  }\n  \n  .nav-item {\n    margin: 0 10px;\n  }\n  \n  .health-tips-content {\n    flex-direction: column;\n  }\n  \n  .tip-item {\n    min-width: 100%;\n  }\n  \n  .action-buttons {\n    flex-direction: column;\n  }\n  \n  .make-appointment-btn,\n  .view-doctors-btn {\n    text-align: center;\n  }\n}\n</style>\n","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\Home.vue",[],"C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\AppointmentList.vue",["95","96"],"<template>\r\n  <div class=\"appointment-list-container\">\r\n    <!-- 顶部导航栏 -->\r\n    <header class=\"header\">\r\n      <div class=\"header-content\">\r\n        <div class=\"logo\">\r\n          <i class=\"el-icon-medal-1\"></i>\r\n          <span>医院预约系统</span>\r\n        </div>\r\n        <nav class=\"nav-menu\">\r\n          <router-link to=\"/home\" class=\"nav-item\">首页</router-link>\r\n          <router-link to=\"/departments\" class=\"nav-item\">科室介绍</router-link>\r\n          <router-link to=\"/doctors\" class=\"nav-item\">医生团队</router-link>\r\n          <router-link to=\"/medical-guide\" class=\"nav-item\">医疗导诊</router-link>\r\n        </nav>\r\n        <div class=\"user-info\">\r\n          <div v-if=\"user\" class=\"logged-in\">\r\n            <span class=\"welcome\">欢迎，{{ user.name || user.username }}</span>\r\n            <router-link to=\"/user-info\" class=\"btn-text\">个人信息</router-link>\r\n            <button class=\"btn-text\" @click=\"handleLogout\">退出登录</button>\r\n          </div>\r\n          <div v-else class=\"not-logged-in\">\r\n            <router-link to=\"/login\" class=\"btn-primary\">登录</router-link>\r\n            <router-link to=\"/register\" class=\"btn-text\">注册</router-link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </header>\r\n    \r\n    <!-- 内容区域 -->\r\n    <main class=\"main-content\">\r\n      <div v-if=\"!user\">\r\n        <el-alert\r\n          title=\"请先登录\"\r\n          description=\"查看预约记录需要登录后使用，请先登录账号\"\r\n          type=\"info\"\r\n          show-icon\r\n          :closable=\"false\"\r\n        >\r\n          <router-link to=\"/login\" slot=\"after-close\">立即登录</router-link>\r\n        </el-alert>\r\n      </div>\r\n      <div v-else>\r\n        <div class=\"page-header\">\r\n          <h1>我的预约记录</h1>\r\n          <p class=\"page-desc\">查看和管理您的所有预约信息</p>\r\n        </div>\r\n        \r\n        <!-- 筛选和搜索 -->\r\n        <div class=\"filter-section\">\r\n          <div class=\"filter-group\">\r\n            <label class=\"filter-label\">状态筛选：</label>\r\n            <el-select v-model=\"statusFilter\" placeholder=\"全部状态\" @change=\"loadAppointments\">\r\n              <el-option label=\"全部状态\" value=\"\"></el-option>\r\n              <el-option label=\"待确认\" value=\"PENDING\"></el-option>\r\n              <el-option label=\"已确认\" value=\"CONFIRMED\"></el-option>\r\n              <el-option label=\"已完成\" value=\"COMPLETED\"></el-option>\r\n              <el-option label=\"已取消\" value=\"CANCELLED\"></el-option>\r\n            </el-select>\r\n          </div>\r\n          <div class=\"filter-group\">\r\n            <label class=\"filter-label\">搜索：</label>\r\n            <el-input v-model=\"searchKeyword\" placeholder=\"输入医生姓名或科室名称\" prefix-icon=\"el-icon-search\" @input=\"handleSearch\"></el-input>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- 预约列表 -->\r\n        <div class=\"appointment-table\">\r\n          <el-table :data=\"filteredAppointments\" style=\"width: 100%\" stripe>\r\n            <el-table-column prop=\"id\" label=\"预约编号\" width=\"120\"></el-table-column>\r\n            <el-table-column prop=\"doctorName\" label=\"医生\" width=\"120\">\r\n              <template slot-scope=\"scope\">{{ scope.row.doctor?.name || '-' }}</template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"departmentName\" label=\"科室\" width=\"150\">\r\n              <template slot-scope=\"scope\">{{ scope.row.department?.name || '-' }}</template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"appointmentDate\" label=\"预约日期\" width=\"120\"></el-table-column>\r\n            <el-table-column prop=\"appointmentTime\" label=\"预约时段\" width=\"100\"></el-table-column>\r\n            <el-table-column prop=\"symptoms\" label=\"症状描述\" show-overflow-tooltip></el-table-column>\r\n            <el-table-column prop=\"status\" label=\"状态\" width=\"100\">\r\n              <template slot-scope=\"scope\">\r\n                <el-tag :type=\"getStatusType(scope.row.status)\">{{ getStatusText(scope.row.status) }}</el-tag>\r\n              </template>\r\n            </el-table-column>\r\n            <el-table-column prop=\"createTime\" label=\"创建时间\" width=\"180\"></el-table-column>\r\n            <el-table-column label=\"操作\" width=\"150\" v-if=\"user.role !== 'ADMIN'\">\r\n              <template slot-scope=\"scope\">\r\n                <el-button \r\n                  v-if=\"scope.row.status === 'PENDING'\" \r\n                  type=\"danger\" \r\n                  size=\"small\" \r\n                  @click=\"cancelAppointment(scope.row.id)\"\r\n                >\r\n                  取消预约\r\n                </el-button>\r\n                <span v-else>-</span>\r\n              </template>\r\n            </el-table-column>\r\n          </el-table>\r\n        </div>\r\n        \r\n        <!-- 无数据提示 -->\r\n        <div v-if=\"filteredAppointments.length === 0 && !loading\" class=\"no-data\">\r\n          <el-empty description=\"暂无预约记录\"></el-empty>\r\n        </div>\r\n      </div>\r\n    </main>\r\n    \r\n    <!-- 页脚 -->\r\n    <footer class=\"footer\">\r\n      <div class=\"footer-content\">\r\n        <p>© 2024 医院预约系统 版权所有</p>\r\n      </div>\r\n    </footer>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  name: 'AppointmentList',\r\n  data() {\r\n    return {\r\n      user: null,\r\n      appointments: [],\r\n      statusFilter: '',\r\n      searchKeyword: '',\r\n      loading: false\r\n    }\r\n  },\r\n  computed: {\r\n    filteredAppointments() {\r\n      let result = [...this.appointments]\r\n      \r\n      // 状态筛选\r\n      if (this.statusFilter) {\r\n        result = result.filter(app => app.status === this.statusFilter)\r\n      }\r\n      \r\n      // 关键词搜索\r\n      if (this.searchKeyword.trim()) {\r\n        const keyword = this.searchKeyword.toLowerCase().trim()\r\n        result = result.filter(app => \r\n          (app.doctor?.name && app.doctor.name.toLowerCase().includes(keyword)) ||\r\n          (app.department?.name && app.department.name.toLowerCase().includes(keyword))\r\n        )\r\n      }\r\n      \r\n      return result\r\n    }\r\n  },\r\n  created() {\r\n    this.loadUserInfo()\r\n    if (this.user) {\r\n      this.loadAppointments()\r\n    }\r\n  },\r\n  watch: {\r\n    user(newVal) {\r\n      if (newVal) {\r\n        this.loadAppointments()\r\n      }\r\n    }\r\n  },\r\n  methods: {\r\n    loadUserInfo() {\r\n      const userStr = localStorage.getItem('user')\r\n      if (userStr) {\r\n        this.user = JSON.parse(userStr)\r\n      }\r\n    },\r\n    loadAppointments() {\r\n      if (!this.user) return\r\n      \r\n      this.loading = true\r\n      const params = this.user.role === 'ADMIN' ? {} : { userId: this.user.id }\r\n      \r\n      this.$axios.get('/appointment/list', { params }).then(res => {\r\n        if (res.success) {\r\n          this.appointments = res.data\r\n        }\r\n      }).catch(err => {\r\n        console.error('加载预约列表失败:', err)\r\n        this.$message.error('加载预约列表失败')\r\n      }).finally(() => {\r\n        this.loading = false\r\n      })\r\n    },\r\n    handleSearch() {\r\n      // 搜索功能已通过computed属性实现\r\n    },\r\n    getStatusType(status) {\r\n      const typeMap = {\r\n        'PENDING': 'warning',\r\n        'CONFIRMED': 'success',\r\n        'COMPLETED': 'info',\r\n        'CANCELLED': 'danger'\r\n      }\r\n      return typeMap[status] || 'default'\r\n    },\r\n    getStatusText(status) {\r\n      const textMap = {\r\n        'PENDING': '待确认',\r\n        'CONFIRMED': '已确认',\r\n        'COMPLETED': '已完成',\r\n        'CANCELLED': '已取消'\r\n      }\r\n      return textMap[status] || status\r\n    },\r\n    cancelAppointment(appointmentId) {\r\n      this.$confirm('确定要取消该预约吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.$axios.put(`/appointment/cancel/${appointmentId}`).then(res => {\r\n          if (res.success) {\r\n            this.$message.success('取消预约成功')\r\n            this.loadAppointments()\r\n          } else {\r\n            this.$message.error(res.message || '取消预约失败')\r\n          }\r\n        }).catch(err => {\r\n          console.error('取消预约失败:', err)\r\n          this.$message.error('取消预约失败，请重试')\r\n        })\r\n      }).catch(() => {\r\n        // 取消操作\r\n      })\r\n    },\r\n    handleLogout() {\r\n      this.$confirm('确定要退出登录吗？', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        localStorage.removeItem('token')\r\n        localStorage.removeItem('user')\r\n        this.user = null\r\n        this.$router.push('/login')\r\n        this.$message.success('退出登录成功')\r\n      }).catch(() => {\r\n        // 取消退出\r\n      })\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.appointment-list-container {\r\n  min-height: 100vh;\r\n  display: flex;\r\n  flex-direction: column;\r\n}\r\n\r\n/* 顶部导航栏样式 */\r\n.header {\r\n  background-color: #fff;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\r\n  position: sticky;\r\n  top: 0;\r\n  z-index: 1000;\r\n}\r\n\r\n.header-content {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 0 20px;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  height: 60px;\r\n}\r\n\r\n.logo {\r\n  display: flex;\r\n  align-items: center;\r\n  font-size: 20px;\r\n  font-weight: bold;\r\n  color: #1890ff;\r\n}\r\n\r\n.logo i {\r\n  margin-right: 10px;\r\n  font-size: 24px;\r\n}\r\n\r\n.nav-menu {\r\n  display: flex;\r\n  gap: 20px;\r\n}\r\n\r\n.nav-item {\r\n  color: #606266;\r\n  text-decoration: none;\r\n  padding: 0 10px;\r\n  height: 60px;\r\n  line-height: 60px;\r\n  position: relative;\r\n  transition: color 0.3s;\r\n}\r\n\r\n.nav-item:hover {\r\n  color: #1890ff;\r\n}\r\n\r\n.nav-item.active {\r\n  color: #1890ff;\r\n  font-weight: bold;\r\n}\r\n\r\n.nav-item.active::after {\r\n  content: '';\r\n  position: absolute;\r\n  bottom: 0;\r\n  left: 10px;\r\n  right: 10px;\r\n  height: 2px;\r\n  background-color: #1890ff;\r\n}\r\n\r\n.user-info {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 15px;\r\n}\r\n\r\n.welcome {\r\n  color: #606266;\r\n}\r\n\r\n.btn-text {\r\n  color: #1890ff;\r\n  cursor: pointer;\r\n  text-decoration: none;\r\n}\r\n\r\n.btn-text:hover {\r\n  color: #40a9ff;\r\n}\r\n\r\n.btn-primary {\r\n  background-color: #1890ff;\r\n  color: white;\r\n  padding: 6px 16px;\r\n  border-radius: 4px;\r\n  text-decoration: none;\r\n  transition: background-color 0.3s;\r\n}\r\n\r\n.btn-primary:hover {\r\n  background-color: #40a9ff;\r\n}\r\n\r\n/* 主内容区样式 */\r\n.main-content {\r\n  flex: 1;\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  padding: 20px;\r\n  width: 100%;\r\n}\r\n\r\n.page-header {\r\n  margin-bottom: 30px;\r\n  text-align: center;\r\n}\r\n\r\n.page-header h1 {\r\n  font-size: 28px;\r\n  margin-bottom: 10px;\r\n  color: #303133;\r\n}\r\n\r\n.page-desc {\r\n  color: #606266;\r\n  font-size: 16px;\r\n}\r\n\r\n.filter-section {\r\n  display: flex;\r\n  gap: 20px;\r\n  margin-bottom: 20px;\r\n  flex-wrap: wrap;\r\n}\r\n\r\n.filter-group {\r\n  display: flex;\r\n  align-items: center;\r\n  gap: 10px;\r\n}\r\n\r\n.filter-label {\r\n  color: #606266;\r\n  font-weight: 500;\r\n  white-space: nowrap;\r\n}\r\n\r\n.appointment-table {\r\n  background-color: white;\r\n  border-radius: 4px;\r\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);\r\n  overflow: hidden;\r\n}\r\n\r\n.no-data {\r\n  margin: 40px 0;\r\n  text-align: center;\r\n}\r\n\r\n/* 页脚样式 */\r\n.footer {\r\n  background-color: #f5f7fa;\r\n  padding: 20px 0;\r\n  margin-top: auto;\r\n}\r\n\r\n.footer-content {\r\n  max-width: 1200px;\r\n  margin: 0 auto;\r\n  text-align: center;\r\n  color: #909399;\r\n}\r\n\r\n/* 响应式设计 */\r\n@media (max-width: 768px) {\r\n  .header-content {\r\n    flex-direction: column;\r\n    height: auto;\r\n    padding: 10px;\r\n  }\r\n  \r\n  .nav-menu {\r\n    margin: 10px 0;\r\n    flex-wrap: wrap;\r\n    justify-content: center;\r\n  }\r\n  \r\n  .filter-section {\r\n    flex-direction: column;\r\n  }\r\n}\r\n</style>","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\DoctorList.vue",["97"],"<template>\n  <div class=\"doctor-container\">\n    <!-- 顶部导航栏 -->\n    <header class=\"header\">\n      <div class=\"header-content\">\n        <div class=\"logo\">\n          <i class=\"el-icon-medal-1\"></i>\n          <span>医院预约系统</span>\n        </div>\n        <nav class=\"nav-menu\">\n          <router-link to=\"/home\" class=\"nav-item\">首页</router-link>\n          <router-link to=\"/departments\" class=\"nav-item\">科室介绍</router-link>\n          <router-link to=\"/doctors\" class=\"nav-item active\">医生团队</router-link>\n          <router-link to=\"/medical-guide\" class=\"nav-item\">医疗导诊</router-link>\n        </nav>\n        <div class=\"user-info\">\n          <div v-if=\"user\" class=\"logged-in\">\n            <span class=\"welcome\">欢迎，{{ user.name || user.username }}</span>\n            <router-link to=\"/user-info\" class=\"btn-text\">个人信息</router-link>\n            <button class=\"btn-text\" @click=\"handleLogout\">退出登录</button>\n          </div>\n          <div v-else class=\"not-logged-in\">\n            <router-link to=\"/login\" class=\"btn-primary\">登录</router-link>\n            <router-link to=\"/register\" class=\"btn-text\">注册</router-link>\n          </div>\n        </div>\n      </div>\n    </header>\n    <!-- 内容区域 -->\n    <main class=\"main-content\">\n      <div class=\"page-header\">\n        <h1>医生团队</h1>\n        <p class=\"page-desc\">认识我们专业的医疗团队，选择最适合您的医生</p>\n      </div>\n      <!-- 筛选和搜索 -->\n      <div class=\"filter-section\">\n        <div class=\"filter-group\">\n          <label class=\"filter-label\">科室筛选：</label>\n          <el-select v-model=\"selectedDepartment\" placeholder=\"全部科室\" @change=\"handleFilterChange\">\n            <el-option label=\"全部科室\" value=\"\"></el-option>\n            <el-option v-for=\"dept in departments\" :key=\"dept.id\" :label=\"dept.name\" :value=\"dept.id\"></el-option>\n          </el-select>\n        </div>\n        <div class=\"filter-group\">\n          <label class=\"filter-label\">搜索医生：</label>\n          <el-input v-model=\"searchKeyword\" placeholder=\"请输入医生姓名或专长\" prefix-icon=\"el-icon-search\" @input=\"handleSearch\"></el-input>\n        </div>\n      </div>\n      <!-- 医生列表 -->\n      <div class=\"doctor-list\">\n        <el-card v-for=\"doctor in filteredDoctors\" :key=\"doctor.id\" class=\"doctor-card\">\n          <div class=\"doctor-header\">\n            <el-avatar :size=\"100\" :src=\"doctor.avatar\" icon=\"el-icon-user-solid\"></el-avatar>\n            <div class=\"doctor-basic-info\">\n              <h3 class=\"doctor-name\">{{ doctor.name }}<el-tag size=\"small\" class=\"doctor-title\">{{ doctor.title }}</el-tag></h3>\n              <p class=\"doctor-department\">{{ doctor.department?.name || '未分配科室' }}</p>\n              <p class=\"doctor-specialty\">专长：{{ doctor.specialty }}</p>\n            </div>\n          </div>\n          <div class=\"doctor-content\">\n            <p class=\"doctor-introduction\">{{ doctor.introduction || '暂无简介' }}</p>\n          </div>\n          <div class=\"doctor-footer\">\n            <div class=\"doctor-stats\">\n              <div class=\"stat-item\">\n                <span class=\"stat-value\">{{ doctor.appointmentCount || 0 }}</span>\n                <span class=\"stat-label\">预约量</span>\n              </div>\n              <div class=\"stat-item\">\n                <span class=\"stat-value\">{{ doctor.consultationTime || '8:00-17:30' }}</span>\n                <span class=\"stat-label\">出诊时间</span>\n              </div>\n            </div>\n            <router-link :to=\"{ path: '/appointment', query: { doctorId: doctor.id }}\" class=\"make-appointment-btn\" v-if=\"user && user.role !== 'ADMIN'\">\n              立即预约\n            </router-link>\n          </div>\n        </el-card>\n      </div>\n      <!-- 无数据提示 -->\n      <div v-if=\"filteredDoctors.length === 0\" class=\"no-data\">\n        <el-empty description=\"暂无医生信息\"></el-empty>\n      </div>\n    </main>\n    <!-- 页脚 -->\n    <footer class=\"footer\">\n      <div class=\"footer-content\">\n        <p>© 2024 医院预约系统 版权所有</p>\n      </div>\n    </footer>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'DoctorList',\n  data() {\n    return {\n      user: null,\n      doctors: [],\n      departments: [],\n      selectedDepartment: '',\n      searchKeyword: '',\n      loading: false\n    }\n  },\n  computed: {\n    filteredDoctors() {\n      let result = this.doctors\n      \n      // 科室筛选\n      if (this.selectedDepartment) {\n        result = result.filter(doctor => doctor.departmentId === this.selectedDepartment)\n      }\n      \n      // 关键词搜索\n      if (this.searchKeyword.trim()) {\n        const keyword = this.searchKeyword.toLowerCase().trim()\n        result = result.filter(doctor => \n          doctor.name.toLowerCase().includes(keyword) || \n          (doctor.specialty && doctor.specialty.toLowerCase().includes(keyword)) ||\n          (doctor.introduction && doctor.introduction.toLowerCase().includes(keyword))\n        )\n      }\n      \n      return result\n    }\n  },\n  created() {\n    this.loadUserInfo()\n    this.loadDepartments()\n    this.loadDoctors()\n    \n    // 检查URL参数中是否有科室筛选条件\n    if (this.$route.query.departmentId) {\n      this.selectedDepartment = this.$route.query.departmentId\n    }\n  },\n  methods: {\n    loadUserInfo() {\n      const userStr = localStorage.getItem('user')\n      if (userStr) {\n        this.user = JSON.parse(userStr)\n      }\n    },\n    loadDepartments() {\n      this.$axios.get('/department/list').then(res => {\n        if (res.success) {\n          this.departments = res.data\n        }\n      })\n    },\n    loadDoctors() {\n      this.loading = true\n      \n      // 如果有科室ID参数，只加载该科室的医生\n      const params = this.selectedDepartment ? { departmentId: this.selectedDepartment } : {}\n      \n      this.$axios.get('/doctor/list', { params }).then(res => {\n        if (res.success) {\n          this.doctors = res.data\n        }\n      }).catch(err => {\n        console.error('加载医生列表失败:', err)\n        this.$message.error('加载医生列表失败')\n      }).finally(() => {\n        this.loading = false\n      })\n    },\n    handleFilterChange() {\n      this.loadDoctors()\n    },\n    handleSearch() {\n      // 搜索功能已通过computed属性实现，这里可以添加额外的逻辑\n    },\n    handleLogout() {\n      this.$confirm('确定要退出登录吗？', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        localStorage.removeItem('token')\n        localStorage.removeItem('user')\n        this.user = null\n        this.$router.push('/login')\n        this.$message.success('退出登录成功')\n      }).catch(() => {\n        // 取消退出\n      })\n    }\n  }\n}\n</script>\n\n<style scoped>\n.doctor-container {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n/* 顶部导航栏 - 复用Home页面的样式 */\n.header {\n  background-color: #fff;\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  position: sticky;\n  top: 0;\n  z-index: 1000;\n}\n\n.header-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 0 20px;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  height: 60px;\n}\n\n.logo {\n  display: flex;\n  align-items: center;\n  font-size: 20px;\n  font-weight: bold;\n  color: #1890ff;\n}\n\n.logo i {\n  margin-right: 10px;\n  font-size: 24px;\n}\n\n.nav-menu {\n  display: flex;\n}\n\n.nav-item {\n  margin: 0 20px;\n  color: #606266;\n  text-decoration: none;\n  font-size: 16px;\n  padding: 5px 0;\n  position: relative;\n  transition: color 0.3s;\n}\n\n.nav-item:hover,\n.nav-item.active {\n  color: #1890ff;\n}\n\n.nav-item.active::after {\n  content: '';\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 2px;\n  background-color: #1890ff;\n}\n\n.user-info {\n  display: flex;\n  align-items: center;\n}\n\n.logged-in {\n  display: flex;\n  align-items: center;\n}\n\n.welcome {\n  margin-right: 20px;\n  color: #606266;\n}\n\n.btn-text,\n.btn-primary {\n  padding: 5px 15px;\n  margin-left: 10px;\n  cursor: pointer;\n  border-radius: 4px;\n  transition: all 0.3s;\n}\n\n.btn-text {\n  color: #606266;\n  background: none;\n  border: none;\n}\n\n.btn-text:hover {\n  color: #1890ff;\n}\n\n.btn-primary {\n  background-color: #1890ff;\n  color: white;\n  border: none;\n}\n\n.btn-primary:hover {\n  background-color: #40a9ff;\n}\n\n/* 主内容区域 */\n.main-content {\n  flex: 1;\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: 30px 20px;\n  width: 100%;\n}\n\n.page-header {\n  text-align: center;\n  margin-bottom: 40px;\n}\n\n.page-header h1 {\n  font-size: 32px;\n  color: #303133;\n  margin-bottom: 10px;\n}\n\n.page-desc {\n  font-size: 16px;\n  color: #606266;\n  margin: 0;\n}\n\n/* 筛选区域 */\n.filter-section {\n  display: flex;\n  gap: 20px;\n  margin-bottom: 30px;\n  flex-wrap: wrap;\n}\n\n.filter-group {\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.filter-label {\n  font-size: 16px;\n  color: #606266;\n}\n\n.filter-group .el-select {\n  width: 200px;\n}\n\n.filter-group .el-input {\n  width: 300px;\n}\n\n/* 医生列表 */\n.doctor-list {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));\n  gap: 20px;\n}\n\n.doctor-card {\n  height: 100%;\n}\n\n.doctor-header {\n  display: flex;\n  gap: 20px;\n  padding-bottom: 20px;\n  border-bottom: 1px solid #ebeef5;\n  margin-bottom: 20px;\n}\n\n.doctor-basic-info {\n  flex: 1;\n}\n\n.doctor-name {\n  font-size: 20px;\n  font-weight: bold;\n  color: #303133;\n  margin: 0 0 10px 0;\n  display: flex;\n  align-items: center;\n  gap: 10px;\n}\n\n.doctor-title {\n  font-size: 14px;\n}\n\n.doctor-department {\n  color: #1890ff;\n  margin: 0 0 5px 0;\n  font-size: 14px;\n}\n\n.doctor-specialty {\n  color: #606266;\n  margin: 0;\n  font-size: 14px;\n}\n\n.doctor-content {\n  margin-bottom: 20px;\n}\n\n.doctor-introduction {\n  color: #606266;\n  line-height: 1.6;\n  margin: 0;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  display: -webkit-box;\n  -webkit-line-clamp: 3;\n  -webkit-box-orient: vertical;\n}\n\n.doctor-footer {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding-top: 20px;\n  border-top: 1px solid #ebeef5;\n}\n\n.doctor-stats {\n  display: flex;\n  gap: 30px;\n}\n\n.stat-item {\n  text-align: center;\n}\n\n.stat-value {\n  display: block;\n  font-size: 18px;\n  font-weight: bold;\n  color: #1890ff;\n}\n\n.stat-label {\n  display: block;\n  font-size: 12px;\n  color: #909399;\n}\n\n.make-appointment-btn {\n  background-color: #1890ff;\n  color: white;\n  padding: 8px 20px;\n  border-radius: 4px;\n  text-decoration: none;\n  transition: background-color 0.3s;\n}\n\n.make-appointment-btn:hover {\n  background-color: #40a9ff;\n}\n\n/* 无数据提示 */\n.no-data {\n  text-align: center;\n  padding: 60px 0;\n}\n\n/* 页脚 */\n.footer {\n  background-color: #f0f2f5;\n  padding: 20px 0;\n  margin-top: 40px;\n}\n\n.footer-content {\n  max-width: 1200px;\n  margin: 0 auto;\n  text-align: center;\n  color: #606266;\n}\n\n/* 响应式设计 */\n@media (max-width: 768px) {\n  .header-content {\n    flex-direction: column;\n    height: auto;\n    padding: 15px;\n  }\n  \n  .nav-menu {\n    margin: 15px 0;\n  }\n  \n  .nav-item {\n    margin: 0 10px;\n  }\n  \n  .filter-section {\n    flex-direction: column;\n    gap: 15px;\n  }\n  \n  .filter-group {\n    width: 100%;\n  }\n  \n  .filter-group .el-select,\n  .filter-group .el-input {\n    width: 100%;\n  }\n  \n  .doctor-list {\n    grid-template-columns: 1fr;\n  }\n  \n  .doctor-header {\n    flex-direction: column;\n    align-items: center;\n    text-align: center;\n  }\n  \n  .doctor-footer {\n    flex-direction: column;\n    gap: 15px;\n  }\n  \n  .doctor-stats {\n    justify-content: center;\n  }\n}\n</style>\n","C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\admin\\DepartmentManagement.vue",[],"C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\admin\\AppointmentManagement.vue",[],"C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\admin\\Dashboard.vue",["98"],"C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\admin\\DoctorManagement.vue",[],"C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\views\\admin\\UserManagement.vue",[],"C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\api\\medicalGuide.js",[],"C:\\Users\\徐凌\\Documents\\trae_projects\\hospital\\frontend\\src\\api\\request.js",["99","100","101"],"import axios from 'axios';\n\n// 创建axios实例\nconst service = axios.create({\n  baseURL: 'http://localhost:8083/api', // 后端API基础路径\n  timeout: 15000 // 请求超时时间\n});\n\n// 请求拦截器\nservice.interceptors.request.use(\n  config => {\n    // 从localStorage获取token\n    const token = localStorage.getItem('token');\n    if (token) {\n      config.headers['Authorization'] = `Bearer ${token}`;\n    }\n    return config;\n  },\n  error => {\n    console.error('请求错误:', error);\n    return Promise.reject(error);\n  }\n);\n\n// 响应拦截器\nservice.interceptors.response.use(\n  response => {\n    const res = response.data;\n    // 假设后端返回的状态码为200表示成功\n    if (res.code !== 200) {\n      // 处理错误情况\n      console.error('错误:', res.msg || '请求失败');\n      return Promise.reject(new Error(res.msg || '请求失败'));\n    }\n    return res;\n  },\n  error => {\n    console.error('响应错误:', error);\n    return Promise.reject(error);\n  }\n);\n\nexport default service;\n",{"ruleId":"102","severity":1,"message":"103","line":247,"column":13,"nodeType":"104","messageId":"105","endLine":247,"endColumn":26},{"ruleId":"102","severity":1,"message":"103","line":162,"column":9,"nodeType":"104","messageId":"105","endLine":162,"endColumn":22},{"ruleId":"102","severity":1,"message":"103","line":178,"column":11,"nodeType":"104","messageId":"105","endLine":178,"endColumn":24},{"ruleId":"102","severity":1,"message":"103","line":218,"column":13,"nodeType":"104","messageId":"105","endLine":218,"endColumn":26},{"ruleId":"102","severity":1,"message":"103","line":135,"column":9,"nodeType":"104","messageId":"105","endLine":135,"endColumn":22},{"ruleId":"102","severity":1,"message":"103","line":164,"column":13,"nodeType":"104","messageId":"105","endLine":164,"endColumn":26},{"ruleId":"102","severity":1,"message":"103","line":82,"column":13,"nodeType":"104","messageId":"105","endLine":82,"endColumn":26},{"ruleId":"102","severity":1,"message":"103","line":328,"column":11,"nodeType":"104","messageId":"105","endLine":328,"endColumn":24},{"ruleId":"102","severity":1,"message":"103","line":182,"column":9,"nodeType":"104","messageId":"105","endLine":182,"endColumn":22},{"ruleId":"102","severity":1,"message":"103","line":223,"column":11,"nodeType":"104","messageId":"105","endLine":223,"endColumn":24},{"ruleId":"102","severity":1,"message":"103","line":164,"column":9,"nodeType":"104","messageId":"105","endLine":164,"endColumn":22},{"ruleId":"102","severity":1,"message":"103","line":274,"column":7,"nodeType":"104","messageId":"105","endLine":274,"endColumn":18},{"ruleId":"102","severity":1,"message":"103","line":20,"column":5,"nodeType":"104","messageId":"105","endLine":20,"endColumn":18},{"ruleId":"102","severity":1,"message":"103","line":32,"column":7,"nodeType":"104","messageId":"105","endLine":32,"endColumn":20},{"ruleId":"102","severity":1,"message":"103","line":38,"column":5,"nodeType":"104","messageId":"105","endLine":38,"endColumn":18},"no-console","Unexpected console statement.","MemberExpression","unexpected"]